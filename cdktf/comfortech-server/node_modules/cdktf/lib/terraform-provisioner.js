"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.TerraformSelf = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
const tfExpression_1 = require("./tfExpression");
const token_1 = require("./tokens/token");
const util_1 = require("./util");
/**
 * Expressions in connection blocks cannot refer to their parent resource by name.
 * References create dependencies, and referring to a resource by name within its own block would create a dependency cycle.
 * Instead, expressions can use the self object, which represents the connection's parent resource and has all of that resource's attributes.
 * For example, use self.public_ip to reference an aws_instance's public_ip attribute.
 */
class TerraformSelf {
    static getInterpolation(key) {
        return `self.${util_1.snakeCase(key)}`;
    }
    /**
     * Only usable within a connection block to reference the connections parent resource.
     * Access a property on the resource like this: `getString("publicIp")`
     */
    static getString(key) {
        return token_1.Token.asString(tfExpression_1.ref(TerraformSelf.getInterpolation(key)));
    }
    /**
     * Only usable within a connection block to reference the connections parent resource.
     * Access a property on the resource like this: `getNumber("hostPort")`
     */
    static getNumber(key) {
        return token_1.Token.asNumber(tfExpression_1.ref(TerraformSelf.getInterpolation(key)));
    }
    /**
     * Only usable within a connection block to reference the connections parent resource.
     * Access a property on the resource like this: `getAny("hostPort")`
     */
    static getAny(key) {
        return token_1.Token.asAny(tfExpression_1.ref(TerraformSelf.getInterpolation(key)));
    }
}
exports.TerraformSelf = TerraformSelf;
_a = JSII_RTTI_SYMBOL_1;
TerraformSelf[_a] = { fqn: "cdktf.TerraformSelf", version: "0.12.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVycmFmb3JtLXByb3Zpc2lvbmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidGVycmFmb3JtLXByb3Zpc2lvbmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsaURBQXFDO0FBQ3JDLDBDQUF1QztBQUN2QyxpQ0FBbUM7QUF1Vm5DOzs7OztHQUtHO0FBQ0gsTUFBYSxhQUFhO0lBQ2hCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFXO1FBQ3pDLE9BQU8sUUFBUSxnQkFBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUVEOzs7T0FHRztJQUNJLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBVztRQUNqQyxPQUFPLGFBQUssQ0FBQyxRQUFRLENBQUMsa0JBQUcsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQVc7UUFDakMsT0FBTyxhQUFLLENBQUMsUUFBUSxDQUFDLGtCQUFHLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFXO1FBQzlCLE9BQU8sYUFBSyxDQUFDLEtBQUssQ0FBQyxrQkFBRyxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0QsQ0FBQzs7QUEzQkgsc0NBNEJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVmIH0gZnJvbSBcIi4vdGZFeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gXCIuL3Rva2Vucy90b2tlblwiO1xuaW1wb3J0IHsgc25ha2VDYXNlIH0gZnJvbSBcIi4vdXRpbFwiO1xuLyoqXG4gKiBNb3N0IHByb3Zpc2lvbmVycyByZXF1aXJlIGFjY2VzcyB0byB0aGUgcmVtb3RlIHJlc291cmNlIHZpYSBTU0ggb3IgV2luUk0gYW5kIGV4cGVjdCBhIG5lc3RlZCBjb25uZWN0aW9uIGJsb2NrIHdpdGggZGV0YWlscyBhYm91dCBob3cgdG8gY29ubmVjdC5cbiAqXG4gKiBTZWUge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9sYW5ndWFnZS9yZXNvdXJjZXMvcHJvdmlzaW9uZXJzL2Nvbm5lY3Rpb24gY29ubmVjdGlvbn1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJU1NIUHJvdmlzaW9uZXJDb25uZWN0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBjb25uZWN0aW9uIHR5cGUuIFZhbGlkIHZhbHVlcyBhcmUgXCJzc2hcIiBhbmQgXCJ3aW5ybVwiLlxuICAgKiBQcm92aXNpb25lcnMgdHlwaWNhbGx5IGFzc3VtZSB0aGF0IHRoZSByZW1vdGUgc3lzdGVtIHJ1bnMgTWljcm9zb2Z0IFdpbmRvd3Mgd2hlbiB1c2luZyBXaW5STS5cbiAgICogQmVoYXZpb3JzIGJhc2VkIG9uIHRoZSBTU0ggdGFyZ2V0X3BsYXRmb3JtIHdpbGwgZm9yY2UgV2luZG93cy1zcGVjaWZpYyBiZWhhdmlvciBmb3IgV2luUk0sIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZTogXCJzc2hcIjtcblxuICAvKipcbiAgICogVGhlIHVzZXIgdG8gdXNlIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGRlZmF1bHQgcm9vdFxuICAgKi9cbiAgcmVhZG9ubHkgdXNlcj86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBhc3N3b3JkIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqL1xuICByZWFkb25seSBwYXNzd29yZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGFkZHJlc3Mgb2YgdGhlIHJlc291cmNlIHRvIGNvbm5lY3QgdG8uXG4gICAqL1xuICByZWFkb25seSBob3N0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwb3J0IHRvIGNvbm5lY3QgdG8uXG4gICAqXG4gICAqIEBkZWZhdWx0IDIyXG4gICAqL1xuICByZWFkb25seSBwb3J0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdGltZW91dCB0byB3YWl0IGZvciB0aGUgY29ubmVjdGlvbiB0byBiZWNvbWUgYXZhaWxhYmxlLlxuICAgKiBTaG91bGQgYmUgcHJvdmlkZWQgYXMgYSBzdHJpbmcgKGUuZy4sIFwiMzBzXCIgb3IgXCI1bVwiLilcbiAgICpcbiAgICogQGRlZmF1bHQgNW1cbiAgICovXG4gIHJlYWRvbmx5IHRpbWVvdXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwYXRoIHVzZWQgdG8gY29weSBzY3JpcHRzIG1lYW50IGZvciByZW1vdGUgZXhlY3V0aW9uLlxuICAgKiBSZWZlciB0byB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2xhbmd1YWdlL3Jlc291cmNlcy9wcm92aXNpb25lcnMvY29ubmVjdGlvbiNob3ctcHJvdmlzaW9uZXJzLWV4ZWN1dGUtcmVtb3RlLXNjcmlwdHMgSG93IFByb3Zpc2lvbmVycyBFeGVjdXRlIFJlbW90ZSBTY3JpcHRzIGJlbG93IGZvciBtb3JlIGRldGFpbHN9XG4gICAqL1xuICByZWFkb25seSBzY3JpcHRQYXRoPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgYW4gU1NIIGtleSB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgKiBUaGVzZSBjYW4gYmUgbG9hZGVkIGZyb20gYSBmaWxlIG9uIGRpc2sgdXNpbmcgdGhlIGZpbGUgZnVuY3Rpb24uXG4gICAqIFRoaXMgdGFrZXMgcHJlZmVyZW5jZSBvdmVyIHBhc3N3b3JkIGlmIHByb3ZpZGVkLlxuICAgKi9cbiAgcmVhZG9ubHkgcHJpdmF0ZUtleT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIGEgc2lnbmVkIENBIENlcnRpZmljYXRlLlxuICAgKiBUaGUgY2VydGlmaWNhdGUgYXJndW1lbnQgbXVzdCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSBwcml2YXRlX2tleS5cbiAgICogVGhlc2UgY2FuIGJlIGxvYWRlZCBmcm9tIGEgZmlsZSBvbiBkaXNrIHVzaW5nIHRoZSB0aGUgZmlsZSBmdW5jdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IGNlcnRpZmljYXRlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB1c2luZyBzc2gtYWdlbnQgdG8gYXV0aGVudGljYXRlLlxuICAgKiBPbiBXaW5kb3dzIHRoZSBvbmx5IHN1cHBvcnRlZCBTU0ggYXV0aGVudGljYXRpb24gYWdlbnQgaXMgUGFnZWFudC5cbiAgICovXG4gIHJlYWRvbmx5IGFnZW50Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIGlkZW50aXR5IGZyb20gdGhlIHNzaCBhZ2VudCBmb3IgYXV0aGVudGljYXRpb24uXG4gICAqL1xuICByZWFkb25seSBhZ2VudElkZW50aXR5Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcHVibGljIGtleSBmcm9tIHRoZSByZW1vdGUgaG9zdCBvciB0aGUgc2lnbmluZyBDQSwgdXNlZCB0byB2ZXJpZnkgdGhlIGNvbm5lY3Rpb24uXG4gICAqL1xuICByZWFkb25seSBob3N0S2V5Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdGFyZ2V0IHBsYXRmb3JtIHRvIGNvbm5lY3QgdG8uXG4gICAqIFZhbGlkIHZhbHVlcyBhcmUgXCJ3aW5kb3dzXCIgYW5kIFwidW5peFwiLlxuICAgKiBJZiB0aGUgcGxhdGZvcm0gaXMgc2V0IHRvIHdpbmRvd3MsIHRoZSBkZWZhdWx0IHNjcmlwdF9wYXRoIGlzIGM6XFx3aW5kb3dzXFx0ZW1wXFx0ZXJyYWZvcm1fJVJBTkQlLmNtZCwgYXNzdW1pbmcgdGhlIFNTSCBkZWZhdWx0IHNoZWxsIGlzIGNtZC5leGUuXG4gICAqIElmIHRoZSBTU0ggZGVmYXVsdCBzaGVsbCBpcyBQb3dlclNoZWxsLCBzZXQgc2NyaXB0X3BhdGggdG8gXCJjOi93aW5kb3dzL3RlbXAvdGVycmFmb3JtXyVSQU5EJS5wczFcIlxuICAgKiBAZGVmYXVsdCB1bml4XG4gICAqL1xuICByZWFkb25seSB0YXJnZXRQbGF0Zm9ybT86IFwidW5peFwiIHwgXCJ3aW5kb3dzXCI7XG5cbiAgLyoqXG4gICAqIFNldHRpbmcgdGhpcyBlbmFibGVzIHRoZSBiYXN0aW9uIEhvc3QgY29ubmVjdGlvbi5cbiAgICogVGhlIHByb3Zpc2lvbmVyIHdpbGwgY29ubmVjdCB0byBiYXN0aW9uX2hvc3QgZmlyc3QsIGFuZCB0aGVuIGNvbm5lY3QgZnJvbSB0aGVyZSB0byBob3N0LlxuICAgKi9cbiAgcmVhZG9ubHkgYmFzdGlvbkhvc3Q/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwdWJsaWMga2V5IGZyb20gdGhlIHJlbW90ZSBob3N0IG9yIHRoZSBzaWduaW5nIENBLCB1c2VkIHRvIHZlcmlmeSB0aGUgaG9zdCBjb25uZWN0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgYmFzdGlvbkhvc3RLZXk/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwb3J0IHRvIHVzZSBjb25uZWN0IHRvIHRoZSBiYXN0aW9uIGhvc3QuXG4gICAqL1xuICByZWFkb25seSBiYXN0aW9uUG9ydD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHVzZXIgZm9yIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBiYXN0aW9uIGhvc3QuXG4gICAqL1xuICByZWFkb25seSBiYXN0aW9uVXNlcj86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBhc3N3b3JkIHRvIHVzZSBmb3IgdGhlIGJhc3Rpb24gaG9zdC5cbiAgICovXG4gIHJlYWRvbmx5IGJhc3Rpb25QYXNzd29yZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIGFuIFNTSCBrZXkgZmlsZSB0byB1c2UgZm9yIHRoZSBiYXN0aW9uIGhvc3QuXG4gICAqIFRoZXNlIGNhbiBiZSBsb2FkZWQgZnJvbSBhIGZpbGUgb24gZGlzayB1c2luZyB0aGUgZmlsZSBmdW5jdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IGJhc3Rpb25Qcml2YXRlS2V5Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgYSBzaWduZWQgQ0EgQ2VydGlmaWNhdGUuXG4gICAqIFRoZSBjZXJ0aWZpY2F0ZSBhcmd1bWVudCBtdXN0IGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBhIGJhc3Rpb25fcHJpdmF0ZV9rZXkuXG4gICAqIFRoZXNlIGNhbiBiZSBsb2FkZWQgZnJvbSBhIGZpbGUgb24gZGlzayB1c2luZyB0aGUgdGhlIGZpbGUgZnVuY3Rpb24uXG4gICAqL1xuICByZWFkb25seSBiYXN0aW9uQ2VydGlmaWNhdGU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzc2ggY29ubmVjdGlvbiBhbHNvIHN1cHBvcnRzIHRoZSBmb2xsb3dpbmcgZmllbGRzIHRvIGZhY2lsaXRhdGUgY29ubmVjdGlvbnMgYnkgU1NIIG92ZXIgSFRUUCBwcm94eS5cbiAgICovXG4gIHJlYWRvbmx5IHByb3h5U2NoZW1lPzogXCJodHRwXCIgfCBcImh0dHBzXCI7XG5cbiAgLyoqXG4gICAqIFNldHRpbmcgdGhpcyBlbmFibGVzIHRoZSBTU0ggb3ZlciBIVFRQIGNvbm5lY3Rpb24uXG4gICAqIFRoaXMgaG9zdCB3aWxsIGJlIGNvbm5lY3RlZCB0byBmaXJzdCwgYW5kIHRoZW4gdGhlIGhvc3Qgb3IgYmFzdGlvbl9ob3N0IGNvbm5lY3Rpb24gd2lsbCBiZSBtYWRlIGZyb20gdGhlcmUuXG4gICAqL1xuICByZWFkb25seSBwcm94eUhvc3Q/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwb3J0IHRvIHVzZSBjb25uZWN0IHRvIHRoZSBwcm94eSBob3N0LlxuICAgKi9cbiAgcmVhZG9ubHkgcHJveHlQb3J0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdXNlcm5hbWUgdG8gdXNlIGNvbm5lY3QgdG8gdGhlIHByaXZhdGUgcHJveHkgaG9zdC5cbiAgICogVGhpcyBhcmd1bWVudCBzaG91bGQgYmUgc3BlY2lmaWVkIG9ubHkgaWYgYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgZm9yIHRoZSBIVFRQIFByb3h5IHNlcnZlci5cbiAgICovXG4gIHJlYWRvbmx5IHByb3h5VXNlck5hbWU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwYXNzd29yZCB0byB1c2UgY29ubmVjdCB0byB0aGUgcHJpdmF0ZSBwcm94eSBob3N0LlxuICAgKiBUaGlzIGFyZ3VtZW50IHNob3VsZCBiZSBzcGVjaWZpZWQgb25seSBpZiBhdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBmb3IgdGhlIEhUVFAgUHJveHkgc2VydmVyLlxuICAgKi9cbiAgcmVhZG9ubHkgcHJveHlVc2VyUGFzc3dvcmQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogTW9zdCBwcm92aXNpb25lcnMgcmVxdWlyZSBhY2Nlc3MgdG8gdGhlIHJlbW90ZSByZXNvdXJjZSB2aWEgU1NIIG9yIFdpblJNIGFuZCBleHBlY3QgYSBuZXN0ZWQgY29ubmVjdGlvbiBibG9jayB3aXRoIGRldGFpbHMgYWJvdXQgaG93IHRvIGNvbm5lY3QuXG4gKlxuICogU2VlIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vbGFuZ3VhZ2UvcmVzb3VyY2VzL3Byb3Zpc2lvbmVycy9jb25uZWN0aW9uIGNvbm5lY3Rpb259XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVdpbnJtUHJvdmlzaW9uZXJDb25uZWN0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBjb25uZWN0aW9uIHR5cGUuIFZhbGlkIHZhbHVlcyBhcmUgXCJzc2hcIiBhbmQgXCJ3aW5ybVwiLlxuICAgKiBQcm92aXNpb25lcnMgdHlwaWNhbGx5IGFzc3VtZSB0aGF0IHRoZSByZW1vdGUgc3lzdGVtIHJ1bnMgTWljcm9zb2Z0IFdpbmRvd3Mgd2hlbiB1c2luZyBXaW5STS5cbiAgICogQmVoYXZpb3JzIGJhc2VkIG9uIHRoZSBTU0ggdGFyZ2V0X3BsYXRmb3JtIHdpbGwgZm9yY2UgV2luZG93cy1zcGVjaWZpYyBiZWhhdmlvciBmb3IgV2luUk0sIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZTogXCJ3aW5ybVwiO1xuXG4gIC8qKlxuICAgKiBUaGUgdXNlciB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAZGVmYXVsdCByb290XG4gICAqL1xuICByZWFkb25seSB1c2VyPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFzc3dvcmQgdG8gdXNlIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IHBhc3N3b3JkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgYWRkcmVzcyBvZiB0aGUgcmVzb3VyY2UgdG8gY29ubmVjdCB0by5cbiAgICovXG4gIHJlYWRvbmx5IGhvc3Q6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBvcnQgdG8gY29ubmVjdCB0by5cbiAgICpcbiAgICogQGRlZmF1bHQgMjJcbiAgICovXG4gIHJlYWRvbmx5IHBvcnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lb3V0IHRvIHdhaXQgZm9yIHRoZSBjb25uZWN0aW9uIHRvIGJlY29tZSBhdmFpbGFibGUuXG4gICAqIFNob3VsZCBiZSBwcm92aWRlZCBhcyBhIHN0cmluZyAoZS5nLiwgXCIzMHNcIiBvciBcIjVtXCIuKVxuICAgKlxuICAgKiBAZGVmYXVsdCA1bVxuICAgKi9cbiAgcmVhZG9ubHkgdGltZW91dD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBhdGggdXNlZCB0byBjb3B5IHNjcmlwdHMgbWVhbnQgZm9yIHJlbW90ZSBleGVjdXRpb24uXG4gICAqIFJlZmVyIHRvIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vbGFuZ3VhZ2UvcmVzb3VyY2VzL3Byb3Zpc2lvbmVycy9jb25uZWN0aW9uI2hvdy1wcm92aXNpb25lcnMtZXhlY3V0ZS1yZW1vdGUtc2NyaXB0cyBIb3cgUHJvdmlzaW9uZXJzIEV4ZWN1dGUgUmVtb3RlIFNjcmlwdHMgYmVsb3cgZm9yIG1vcmUgZGV0YWlsc31cbiAgICovXG4gIHJlYWRvbmx5IHNjcmlwdFBhdGg/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIHRvIGNvbm5lY3QgdXNpbmcgSFRUUFMgaW5zdGVhZCBvZiBIVFRQLlxuICAgKi9cbiAgcmVhZG9ubHkgaHR0cHM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSB0byBza2lwIHZhbGlkYXRpbmcgdGhlIEhUVFBTIGNlcnRpZmljYXRlIGNoYWluLlxuICAgKi9cbiAgcmVhZG9ubHkgaW5zZWN1cmU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSB0byB1c2UgTlRMTSBhdXRoZW50aWNhdGlvbiByYXRoZXIgdGhhbiBkZWZhdWx0IChiYXNpYyBhdXRoZW50aWNhdGlvbiksIHJlbW92aW5nIHRoZSByZXF1aXJlbWVudCBmb3IgYmFzaWMgYXV0aGVudGljYXRpb24gdG8gYmUgZW5hYmxlZCB3aXRoaW4gdGhlIHRhcmdldCBndWVzdC5cbiAgICogUmVmZXIgdG8gQXV0aGVudGljYXRpb24gZm9yIFJlbW90ZSBDb25uZWN0aW9ucyBpbiB0aGUgV2luZG93cyBBcHAgRGV2ZWxvcG1lbnQgZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgcmVhZG9ubHkgdXNlTnRsbT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBDQSBjZXJ0aWZpY2F0ZSB0byB2YWxpZGF0ZSBhZ2FpbnN0LlxuICAgKi9cbiAgcmVhZG9ubHkgY2FjZXJ0Pzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRoZSBmaWxlIHByb3Zpc2lvbmVyIGNvcGllcyBmaWxlcyBvciBkaXJlY3RvcmllcyBmcm9tIHRoZSBtYWNoaW5lIHJ1bm5pbmcgVGVycmFmb3JtIHRvIHRoZSBuZXdseSBjcmVhdGVkIHJlc291cmNlLlxuICogVGhlIGZpbGUgcHJvdmlzaW9uZXIgc3VwcG9ydHMgYm90aCBzc2ggYW5kIHdpbnJtIHR5cGUgY29ubmVjdGlvbnMuXG4gKlxuICogU2VlIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vbGFuZ3VhZ2UvcmVzb3VyY2VzL3Byb3Zpc2lvbmVycy9maWxlIGZpbGV9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVQcm92aXNpb25lciB7XG4gIHJlYWRvbmx5IHR5cGU6IFwiZmlsZVwiO1xuICAvKipcbiAgICogVGhlIHNvdXJjZSBmaWxlIG9yIGRpcmVjdG9yeS4gU3BlY2lmeSBpdCBlaXRoZXIgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3Rvcnkgb3IgYXMgYW4gYWJzb2x1dGUgcGF0aC5cbiAgICogVGhpcyBhcmd1bWVudCBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCBjb250ZW50LlxuICAgKi9cbiAgcmVhZG9ubHkgZGVzdGluYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBkaXJlY3QgY29udGVudCB0byBjb3B5IG9uIHRoZSBkZXN0aW5hdGlvbi5cbiAgICogSWYgZGVzdGluYXRpb24gaXMgYSBmaWxlLCB0aGUgY29udGVudCB3aWxsIGJlIHdyaXR0ZW4gb24gdGhhdCBmaWxlLlxuICAgKiBJbiBjYXNlIG9mIGEgZGlyZWN0b3J5LCBhIGZpbGUgbmFtZWQgdGYtZmlsZS1jb250ZW50IGlzIGNyZWF0ZWQgaW5zaWRlIHRoYXQgZGlyZWN0b3J5LlxuICAgKiBXZSByZWNvbW1lbmQgdXNpbmcgYSBmaWxlIGFzIHRoZSBkZXN0aW5hdGlvbiB3aGVuIHVzaW5nIGNvbnRlbnQuXG4gICAqIFRoaXMgYXJndW1lbnQgY2Fubm90IGJlIGNvbWJpbmVkIHdpdGggc291cmNlLlxuICAgKi9cbiAgcmVhZG9ubHkgc291cmNlPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGRlc3RpbmF0aW9uIHBhdGggdG8gd3JpdGUgdG8gb24gdGhlIHJlbW90ZSBzeXN0ZW0uXG4gICAqIFNlZSBEZXN0aW5hdGlvbiBQYXRocyBiZWxvdyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IGNvbnRlbnQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE1vc3QgcHJvdmlzaW9uZXJzIHJlcXVpcmUgYWNjZXNzIHRvIHRoZSByZW1vdGUgcmVzb3VyY2UgdmlhIFNTSCBvciBXaW5STSBhbmQgZXhwZWN0IGEgbmVzdGVkIGNvbm5lY3Rpb24gYmxvY2sgd2l0aCBkZXRhaWxzIGFib3V0IGhvdyB0byBjb25uZWN0LlxuICAgKi9cbiAgcmVhZG9ubHkgY29ubmVjdGlvbj86IElTU0hQcm92aXNpb25lckNvbm5lY3Rpb24gfCBJV2lucm1Qcm92aXNpb25lckNvbm5lY3Rpb247XG59XG5cbi8qKlxuICogVGhlIGxvY2FsLWV4ZWMgcHJvdmlzaW9uZXIgaW52b2tlcyBhIGxvY2FsIGV4ZWN1dGFibGUgYWZ0ZXIgYSByZXNvdXJjZSBpcyBjcmVhdGVkLlxuICogVGhpcyBpbnZva2VzIGEgcHJvY2VzcyBvbiB0aGUgbWFjaGluZSBydW5uaW5nIFRlcnJhZm9ybSwgbm90IG9uIHRoZSByZXNvdXJjZS5cbiAqXG4gKiBTZWUge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9sYW5ndWFnZS9yZXNvdXJjZXMvcHJvdmlzaW9uZXJzL2xvY2FsLWV4ZWMgbG9jYWwtZXhlY31cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJTG9jYWxFeGVjUHJvdmlzaW9uZXIge1xuICByZWFkb25seSB0eXBlOiBcImxvY2FsLWV4ZWNcIjtcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIGNvbW1hbmQgdG8gZXhlY3V0ZS5cbiAgICogSXQgY2FuIGJlIHByb3ZpZGVkIGFzIGEgcmVsYXRpdmUgcGF0aCB0byB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSBvciBhcyBhbiBhYnNvbHV0ZSBwYXRoLlxuICAgKiBJdCBpcyBldmFsdWF0ZWQgaW4gYSBzaGVsbCwgYW5kIGNhbiB1c2UgZW52aXJvbm1lbnQgdmFyaWFibGVzIG9yIFRlcnJhZm9ybSB2YXJpYWJsZXMuXG4gICAqL1xuICByZWFkb25seSBjb21tYW5kOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgc3BlY2lmaWVzIHRoZSB3b3JraW5nIGRpcmVjdG9yeSB3aGVyZSBjb21tYW5kIHdpbGwgYmUgZXhlY3V0ZWQuXG4gICAqIEl0IGNhbiBiZSBwcm92aWRlZCBhcyBhIHJlbGF0aXZlIHBhdGggdG8gdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3Rvcnkgb3IgYXMgYW4gYWJzb2x1dGUgcGF0aC5cbiAgICogVGhlIGRpcmVjdG9yeSBtdXN0IGV4aXN0LlxuICAgKi9cbiAgcmVhZG9ubHkgd29ya2luZ0Rpcj86IHN0cmluZztcbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCB0aGlzIGlzIGEgbGlzdCBvZiBpbnRlcnByZXRlciBhcmd1bWVudHMgdXNlZCB0byBleGVjdXRlIHRoZSBjb21tYW5kLlxuICAgKiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgdGhlIGludGVycHJldGVyIGl0c2VsZi5cbiAgICogSXQgY2FuIGJlIHByb3ZpZGVkIGFzIGEgcmVsYXRpdmUgcGF0aCB0byB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSBvciBhcyBhbiBhYnNvbHV0ZSBwYXRoXG4gICAqIFRoZSByZW1haW5pbmcgYXJndW1lbnRzIGFyZSBhcHBlbmRlZCBwcmlvciB0byB0aGUgY29tbWFuZC5cbiAgICogVGhpcyBhbGxvd3MgYnVpbGRpbmcgY29tbWFuZCBsaW5lcyBvZiB0aGUgZm9ybSBcIi9iaW4vYmFzaFwiLCBcIi1jXCIsIFwiZWNobyBmb29cIi5cbiAgICogSWYgaW50ZXJwcmV0ZXIgaXMgdW5zcGVjaWZpZWQsIHNlbnNpYmxlIGRlZmF1bHRzIHdpbGwgYmUgY2hvc2VuIGJhc2VkIG9uIHRoZSBzeXN0ZW0gT1MuXG4gICAqL1xuICByZWFkb25seSBpbnRlcnByZXRlcj86IHN0cmluZ1tdO1xuICAvKipcbiAgICogIEEgcmVjb3JkIG9mIGtleSB2YWx1ZSBwYWlycyByZXByZXNlbnRpbmcgdGhlIGVudmlyb25tZW50IG9mIHRoZSBleGVjdXRlZCBjb21tYW5kLlxuICAgKiBJdCBpbmhlcml0cyB0aGUgY3VycmVudCBwcm9jZXNzIGVudmlyb25tZW50LlxuICAgKi9cbiAgcmVhZG9ubHkgZW52aXJvbm1lbnQ/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIHNwZWNpZmllcyB3aGVuIFRlcnJhZm9ybSB3aWxsIGV4ZWN1dGUgdGhlIGNvbW1hbmQuXG4gICAqIEZvciBleGFtcGxlLCB3aGVuID0gZGVzdHJveSBzcGVjaWZpZXMgdGhhdCB0aGUgcHJvdmlzaW9uZXIgd2lsbCBydW4gd2hlbiB0aGUgYXNzb2NpYXRlZCByZXNvdXJjZSBpcyBkZXN0cm95ZWRcbiAgICovXG4gIHJlYWRvbmx5IHdoZW4/OiBcImRlc3Ryb3lcIiB8IFwiY3JlYXRlXCI7XG59XG5cbi8qKlxuICogVGhlIHJlbW90ZS1leGVjIHByb3Zpc2lvbmVyIGludm9rZXMgYSBzY3JpcHQgb24gYSByZW1vdGUgcmVzb3VyY2UgYWZ0ZXIgaXQgaXMgY3JlYXRlZC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcnVuIGEgY29uZmlndXJhdGlvbiBtYW5hZ2VtZW50IHRvb2wsIGJvb3RzdHJhcCBpbnRvIGEgY2x1c3RlciwgZXRjXG4gKiBUaGUgcmVtb3RlLWV4ZWMgcHJvdmlzaW9uZXIgcmVxdWlyZXMgYSBjb25uZWN0aW9uIGFuZCBzdXBwb3J0cyBib3RoIHNzaCBhbmQgd2lucm0uXG4gKlxuICogU2VlIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vbGFuZ3VhZ2UvcmVzb3VyY2VzL3Byb3Zpc2lvbmVycy9yZW1vdGUtZXhlYyByZW1vdGUtZXhlY31cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJUmVtb3RlRXhlY1Byb3Zpc2lvbmVyIHtcbiAgcmVhZG9ubHkgdHlwZTogXCJyZW1vdGUtZXhlY1wiO1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgbGlzdCBvZiBjb21tYW5kIHN0cmluZ3MuXG4gICAqIFRoZXkgYXJlIGV4ZWN1dGVkIGluIHRoZSBvcmRlciB0aGV5IGFyZSBwcm92aWRlZC5cbiAgICogVGhpcyBjYW5ub3QgYmUgcHJvdmlkZWQgd2l0aCBzY3JpcHQgb3Igc2NyaXB0cy5cbiAgICovXG4gIHJlYWRvbmx5IGlubGluZT86IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgcGF0aCAocmVsYXRpdmUgb3IgYWJzb2x1dGUpIHRvIGEgbG9jYWwgc2NyaXB0IHRoYXQgd2lsbCBiZSBjb3BpZWQgdG8gdGhlIHJlbW90ZSByZXNvdXJjZSBhbmQgdGhlbiBleGVjdXRlZC5cbiAgICogVGhpcyBjYW5ub3QgYmUgcHJvdmlkZWQgd2l0aCBpbmxpbmUgb3Igc2NyaXB0cy5cbiAgICovXG4gIHJlYWRvbmx5IHNjcmlwdD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhpcyBpcyBhIGxpc3Qgb2YgcGF0aHMgKHJlbGF0aXZlIG9yIGFic29sdXRlKSB0byBsb2NhbCBzY3JpcHRzIHRoYXQgd2lsbCBiZSBjb3BpZWQgdG8gdGhlIHJlbW90ZSByZXNvdXJjZSBhbmQgdGhlbiBleGVjdXRlZC5cbiAgICogVGhleSBhcmUgZXhlY3V0ZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIHByb3ZpZGVkLlxuICAgKiBUaGlzIGNhbm5vdCBiZSBwcm92aWRlZCB3aXRoIGlubGluZSBvciBzY3JpcHQuXG4gICAqL1xuICByZWFkb25seSBzY3JpcHRzPzogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIE1vc3QgcHJvdmlzaW9uZXJzIHJlcXVpcmUgYWNjZXNzIHRvIHRoZSByZW1vdGUgcmVzb3VyY2UgdmlhIFNTSCBvciBXaW5STSBhbmQgZXhwZWN0IGEgbmVzdGVkIGNvbm5lY3Rpb24gYmxvY2sgd2l0aCBkZXRhaWxzIGFib3V0IGhvdyB0byBjb25uZWN0LlxuICAgKiBBIGNvbm5lY3Rpb24gbXVzdCBiZSBwcm92aWRlZCBoZXJlIG9yIGluIHRoZSBwYXJlbnQgcmVzb3VyY2UuXG4gICAqL1xuICByZWFkb25seSBjb25uZWN0aW9uPzogSVNTSFByb3Zpc2lvbmVyQ29ubmVjdGlvbiB8IElXaW5ybVByb3Zpc2lvbmVyQ29ubmVjdGlvbjtcbn1cblxuLyoqXG4gKiBFeHByZXNzaW9ucyBpbiBjb25uZWN0aW9uIGJsb2NrcyBjYW5ub3QgcmVmZXIgdG8gdGhlaXIgcGFyZW50IHJlc291cmNlIGJ5IG5hbWUuXG4gKiBSZWZlcmVuY2VzIGNyZWF0ZSBkZXBlbmRlbmNpZXMsIGFuZCByZWZlcnJpbmcgdG8gYSByZXNvdXJjZSBieSBuYW1lIHdpdGhpbiBpdHMgb3duIGJsb2NrIHdvdWxkIGNyZWF0ZSBhIGRlcGVuZGVuY3kgY3ljbGUuXG4gKiBJbnN0ZWFkLCBleHByZXNzaW9ucyBjYW4gdXNlIHRoZSBzZWxmIG9iamVjdCwgd2hpY2ggcmVwcmVzZW50cyB0aGUgY29ubmVjdGlvbidzIHBhcmVudCByZXNvdXJjZSBhbmQgaGFzIGFsbCBvZiB0aGF0IHJlc291cmNlJ3MgYXR0cmlidXRlcy5cbiAqIEZvciBleGFtcGxlLCB1c2Ugc2VsZi5wdWJsaWNfaXAgdG8gcmVmZXJlbmNlIGFuIGF3c19pbnN0YW5jZSdzIHB1YmxpY19pcCBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXJyYWZvcm1TZWxmIHtcbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0SW50ZXJwb2xhdGlvbihrZXk6IHN0cmluZykge1xuICAgIHJldHVybiBgc2VsZi4ke3NuYWtlQ2FzZShrZXkpfWA7XG4gIH1cblxuICAvKipcbiAgICogT25seSB1c2FibGUgd2l0aGluIGEgY29ubmVjdGlvbiBibG9jayB0byByZWZlcmVuY2UgdGhlIGNvbm5lY3Rpb25zIHBhcmVudCByZXNvdXJjZS5cbiAgICogQWNjZXNzIGEgcHJvcGVydHkgb24gdGhlIHJlc291cmNlIGxpa2UgdGhpczogYGdldFN0cmluZyhcInB1YmxpY0lwXCIpYFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBnZXRTdHJpbmcoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBUb2tlbi5hc1N0cmluZyhyZWYoVGVycmFmb3JtU2VsZi5nZXRJbnRlcnBvbGF0aW9uKGtleSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPbmx5IHVzYWJsZSB3aXRoaW4gYSBjb25uZWN0aW9uIGJsb2NrIHRvIHJlZmVyZW5jZSB0aGUgY29ubmVjdGlvbnMgcGFyZW50IHJlc291cmNlLlxuICAgKiBBY2Nlc3MgYSBwcm9wZXJ0eSBvbiB0aGUgcmVzb3VyY2UgbGlrZSB0aGlzOiBgZ2V0TnVtYmVyKFwiaG9zdFBvcnRcIilgXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGdldE51bWJlcihrZXk6IHN0cmluZyk6IG51bWJlciB7XG4gICAgcmV0dXJuIFRva2VuLmFzTnVtYmVyKHJlZihUZXJyYWZvcm1TZWxmLmdldEludGVycG9sYXRpb24oa2V5KSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9ubHkgdXNhYmxlIHdpdGhpbiBhIGNvbm5lY3Rpb24gYmxvY2sgdG8gcmVmZXJlbmNlIHRoZSBjb25uZWN0aW9ucyBwYXJlbnQgcmVzb3VyY2UuXG4gICAqIEFjY2VzcyBhIHByb3BlcnR5IG9uIHRoZSByZXNvdXJjZSBsaWtlIHRoaXM6IGBnZXRBbnkoXCJob3N0UG9ydFwiKWBcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0QW55KGtleTogc3RyaW5nKTogYW55IHtcbiAgICByZXR1cm4gVG9rZW4uYXNBbnkocmVmKFRlcnJhZm9ybVNlbGYuZ2V0SW50ZXJwb2xhdGlvbihrZXkpKSk7XG4gIH1cbn1cbiJdfQ==