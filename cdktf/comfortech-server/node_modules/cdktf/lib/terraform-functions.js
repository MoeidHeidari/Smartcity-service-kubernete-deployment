"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.Fn = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
const token_1 = require("./tokens/token");
const tfExpression_1 = require("./tfExpression");
const encoding_1 = require("./tokens/private/encoding");
const _1 = require(".");
function hasUnescapedDoubleQuotes(str) {
    return /(^|[^\\])([\\]{2})*"/.test(str);
}
// Validators
function anyValue(value) {
    return value;
}
function mapValue(value) {
    return value;
}
function stringValue(value) {
    if (typeof value !== "string" && !token_1.Tokenization.isResolvable(value)) {
        throw new Error(`'${value}' is not a valid string nor a token`);
    }
    if (typeof value === "string" && hasUnescapedDoubleQuotes(value)) {
        throw new Error(`'${value}' can not be used as value directly since it has unescaped double quotes in it. To safely use the value please use Fn.rawString on your string.`);
    }
    return value;
}
function numericValue(value) {
    if (typeof value !== "number" && !token_1.Tokenization.isResolvable(value)) {
        throw new Error(`${value} is not a valid number nor a token`);
    }
    return value;
}
function listOf(type) {
    return (value) => {
        if (token_1.Tokenization.isResolvable(value)) {
            return value;
        }
        if (!Array.isArray(value)) {
            //   throw new Error(`${value} is not a valid list`);
            return value;
        }
        return value
            .filter((item) => item !== undefined && item !== null)
            .map((item, i) => {
            if (token_1.Tokenization.isResolvable(item)) {
                return item;
            }
            if (encoding_1.TokenString.forListToken(item).test()) {
                return item;
            }
            if (encoding_1.extractTokenDouble(item, true) !== undefined) {
                return item;
            }
            if (encoding_1.TokenString.forMapToken(item).test()) {
                return item;
            }
            if (typeof item === "string") {
                const tokenList = token_1.Tokenization.reverseString(item);
                const numberOfTokens = tokenList.tokens.length + tokenList.intrinsic.length;
                if (numberOfTokens === 1 && tokenList.literals.length === 0) {
                    return item;
                }
            }
            try {
                type(item);
                return typeof item === "string" ? `"${item}"` : item;
            }
            catch (error) {
                throw new Error(`Element in list ${value} at position ${i} is not of the right type: ${error}`);
            }
        });
    };
}
// Tokenization
function asString(value) {
    return token_1.Token.asString(value);
}
function asNumber(value) {
    return token_1.Token.asNumber(value);
}
function asList(value) {
    return token_1.Token.asList(value);
}
function asStringMap(value) {
    return token_1.Token.asStringMap(value);
}
function asBoolean(value) {
    return value; // Booleans can not be represented as a token
}
function asAny(value) {
    // Ordinarily casting to any can cause issues, but
    // in this case it makes using functions a bit easier in TS
    // and doesn't really harm other languages.
    // Jsii has issues when returning the value directly,
    // so wrap as a string.
    return asString(value);
}
function terraformFunction(name, argValidators) {
    return function (...args) {
        if (Array.isArray(argValidators)) {
            if (args.length !== argValidators.length) {
                throw new Error(`${name} takes ${argValidators.length} arguments, but ${args.length} were provided`);
            }
            return tfExpression_1.call(name, args.map((arg, i) => {
                try {
                    return argValidators[i](arg);
                }
                catch (error) {
                    throw new Error(`Argument ${i} of ${name} failed the validation: ${error}`);
                }
            }));
        }
        else {
            return tfExpression_1.call(name, argValidators(args));
        }
    };
}
class Fn {
    /**
     * {@link https://www.terraform.io/docs/language/functions/alltrue.html alltrue} returns true if all elements in a given collection are true or "true".
     * @param {Array} values
     */
    static alltrue(values) {
        return asBoolean(terraformFunction("alltrue", [listOf(anyValue)])(values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/anytrue.html anytrue} returns true if any element in a given collection is true or "true"
     * @param {Array} value
     */
    static anytrue(value) {
        return asBoolean(terraformFunction("anytrue", [listOf(anyValue)])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/chunklist.html chunklist} splits a single list into fixed-size chunks, returning a list of lists.
     * @param {Array} value
     * @param {number} chunkSize
     */
    static chunklist(value, chunkSize) {
        return asList(terraformFunction("chunklist", [listOf(anyValue), numericValue])(value, chunkSize));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/coalesce.html coalesce} takes any number of arguments and returns the first one that isn't null or an empty string.
     * @param {Array} value - Arguments are passed in an array
     */
    static coalesce(value) {
        return terraformFunction("coalesce", listOf(anyValue))(...value);
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/coalescelist.html coalescelist} takes any number of list arguments and returns the first one that isn't empty.
     * @param {Array} value - Arguments are passed in an array
     */
    static coalescelist(value) {
        return asList(terraformFunction("coalescelist", listOf(anyValue))(...value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/compact.html compact} takes a list of strings and returns a new list with any empty string elements removed.
     * @param {Array} value
     */
    static compact(value) {
        return asList(terraformFunction("compact", [listOf(anyValue)])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/concat.html concat} takes two or more lists and combines them into a single list.
     * @param {Array} value
     */
    static concat(value) {
        return asList(terraformFunction("concat", listOf(anyValue))(...value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/contains.html contains} determines whether a given list or set contains a given single value as one of its elements.
     * @param {Array} list
     * @param {any} value
     */
    static contains(list, value) {
        return asBoolean(terraformFunction("contains", [listOf(anyValue), anyValue])(list, value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/distinct.html distinct} takes a list and returns a new list with any duplicate elements removed.
     * @param {Array} list
     */
    static distinct(list) {
        return asList(terraformFunction("distinct", [listOf(anyValue)])(list));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/element.html element} retrieves a single element from a list.
     * @param {Array} list
     * @param {number} index
     */
    static element(list, index) {
        return asAny(terraformFunction("element", [listOf(anyValue), numericValue])(list, index));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/flatten.html flatten} takes a list and replaces any elements that are lists with a flattened sequence of the list contents.
     * @param {Array} list
     */
    static flatten(list) {
        return asList(terraformFunction("flatten", [listOf(anyValue)])(list));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/index.html index} finds the element index for a given value in a list.
     * @param {Array} list
     * @param {any} value
     */
    static index(list, value) {
        return asNumber(terraformFunction("index", [listOf(anyValue), anyValue])(list, value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/keys.html keys} takes a map and returns a list containing the keys from that map.
     * @param {Object} map
     */
    static keys(map) {
        return asList(terraformFunction("keys", [mapValue])(map));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/length.html length} determines the length of a given list, map, or string.
     * @param {Object|Array|string} value
     */
    static lengthOf(value) {
        return asNumber(terraformFunction("length", [anyValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/lookup.html lookup} retrieves the value of a single element from a map, given its key. If the given key does not exist, the given default value is returned instead.
     * @param {Object} value
     * @param {any} key
     * @param {any} defaultValue
     */
    static lookup(value, key, defaultValue) {
        return asAny(terraformFunction("lookup", [anyValue, anyValue, anyValue])(value, key, defaultValue));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/matchkeys.html matchkeys} constructs a new list by taking a subset of elements from one list whose indexes match the corresponding indexes of values in another list.
     * @param {Array} valuesList
     * @param {Array} keysList
     * @param {Array} searchSet
     */
    static matchkeys(valuesList, keysList, searchSet) {
        return asList(terraformFunction("matchkeys", [anyValue, anyValue, anyValue])(valuesList, keysList, searchSet));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/merge.html merge} takes an arbitrary number of maps or objects, and returns a single map or object that contains a merged set of elements from all arguments.
     * @param {Array} values - Arguments are passed in an array
     */
    static mergeLists(values) {
        return asList(terraformFunction("merge", listOf(listOf(anyValue)))(...values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/merge.html merge} takes an arbitrary number of maps or objects, and returns a single map or object that contains a merged set of elements from all arguments.
     * @param {Array} values - Arguments are passed in an array
     */
    static mergeMaps(values) {
        return asStringMap(terraformFunction("merge", listOf(mapValue(anyValue)))(...values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/one.html one} takes a list, set, or tuple value with either zero or one elements.
     * @param {Array} list
     */
    static one(list) {
        return asAny(terraformFunction("one", [listOf(anyValue)])(list));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/range.html range} generates a list of numbers using a start value, a limit value, and a step value.
     * @param {number} start
     * @param {number} limit
     * @param {number} step
     */
    static range(start, limit, step = 1) {
        return asList(terraformFunction("range", listOf(anyValue))(start, limit, step));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/reverse.html reverse} takes a sequence and produces a new sequence of the same length with all of the same elements as the given sequence but in reverse order.
     * @param {Array} values
     */
    static reverse(values) {
        return asList(terraformFunction("reverse", [listOf(anyValue)])(values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/setintersection.html setintersection} function takes multiple sets and produces a single set containing only the elements that all of the given sets have in common
     * @param {Array} values
     */
    static setintersection(values) {
        return asList(terraformFunction("setintersection", listOf(anyValue))(...values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/setproduct.html setproduct} function finds all of the possible combinations of elements from all of the given sets by computing the Cartesian product.
     * @param {Array} values
     */
    static setproduct(values) {
        return asList(terraformFunction("setproduct", listOf(anyValue))(...values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/slice.html setsubtract} function returns a new set containing the elements from the first set that are not present in the second set.
     * @param {Array} minuend
     * @param {Array} subtrahend
     */
    static setsubtract(minuend, subtrahend) {
        return asList(terraformFunction("setsubtract", [listOf(anyValue), listOf(anyValue)])(minuend, subtrahend));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/setunion.html setunion} function takes multiple sets and produces a single set containing the elements from all of the given sets.
     * @param {Array} values - Arguments are passed in an array
     */
    static setunion(values) {
        return asList(terraformFunction("setunion", listOf(anyValue))(...values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/slice.html slice} extracts some consecutive elements from within a list.
     * @param {Array} list
     * @param {number} startindex
     * @param {number} endindex
     */
    static slice(list, startindex, endindex) {
        return asList(terraformFunction("slice", [
            listOf(anyValue),
            numericValue,
            numericValue,
        ])(list, startindex, endindex));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/sort.html sort} takes a list of strings and returns a new list with those strings sorted lexicographically.
     * @param {Array} list
     */
    static sort(list) {
        return asList(terraformFunction("sort", [listOf(anyValue)])(list));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/sum.html sum} takes a list or set of numbers and returns the sum of those numbers.
     * @param {Array} list
     */
    static sum(list) {
        return asNumber(terraformFunction("sum", [listOf(anyValue)])(list));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/transpose.html transpose} takes a map of lists of strings and swaps the keys and values to produce a new map of lists of strings.
     * @param {Object} value
     */
    static transpose(value) {
        return asAny(terraformFunction("transpose", [mapValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/values.html values} takes a map and returns a list containing the values of the elements in that map.
     * @param {Object} value
     */
    static values(value) {
        return asList(terraformFunction("values", [mapValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/zipmap.html zipmap} constructs a map from a list of keys and a corresponding list of values.
     * @param {Array} keyslist
     * @param {Array} valueslist
     */
    static zipmap(keyslist, valueslist) {
        return asAny(terraformFunction("zipmap", [mapValue])(keyslist, valueslist));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/base64sha256.html base64sha256} computes the SHA256 hash of a given string and encodes it with Base64.
     * @param {string} value
     */
    static base64sha256(value) {
        return asString(terraformFunction("base64sha256", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/base64sha512.html base64sha512} computes the SHA512 hash of a given string and encodes it with Base64.
     * @param {string} value
     */
    static base64sha512(value) {
        return asString(terraformFunction("base64sha512", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/bcrypt.html bcrypt} computes a hash of the given string using the Blowfish cipher, returning a string in the Modular Crypt Format usually expected in the shadow password file on many Unix systems.
     * @param {string} value
     * @param {number} cost
     */
    static bcrypt(value, cost) {
        return asString(terraformFunction("bcrypt", listOf(anyValue))(value, cost));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/filebase64sha256.html filebase64sha256} is a variant of base64sha256 that hashes the contents of a given file rather than a literal string.
     * @param {string} value
     */
    static filebase64sha256(value) {
        return asString(terraformFunction("filebase64sha256", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/filebase64sha512.html filebase64sha512} is a variant of base64sha512 that hashes the contents of a given file rather than a literal string.
     * @param {string} value
     */
    static filebase64sha512(value) {
        return asString(terraformFunction("filebase64sha512", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/filemd5.html filemd5} is a variant of md5 that hashes the contents of a given file rather than a literal string.
     * @param {string} value
     */
    static filemd5(value) {
        return asString(terraformFunction("filemd5", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/filesha1.html filesha1} is a variant of sha1 that hashes the contents of a given file rather than a literal string.
     * @param {string} value
     */
    static filesha1(value) {
        return asString(terraformFunction("filesha1", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/filesha256.html filesha256} is a variant of sha256 that hashes the contents of a given file rather than a literal string.
     * @param {string} value
     */
    static filesha256(value) {
        return asString(terraformFunction("filesha256", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/filesha512.html filesha512} is a variant of sha512 that hashes the contents of a given file rather than a literal string.
     * @param {string} value
     */
    static filesha512(value) {
        return asString(terraformFunction("filesha512", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/md5.html md5} computes the MD5 hash of a given string and encodes it with hexadecimal digits.
     * @param {string} value
     */
    static md5(value) {
        return asString(terraformFunction("md5", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/rsadecrypt.html rsadecrypt} decrypts an RSA-encrypted ciphertext, returning the corresponding cleartext.
     * @param {string} ciphertext
     * @param {string} privatekey
     */
    static rsadecrypt(ciphertext, privatekey) {
        return asString(terraformFunction("rsadecrypt", [stringValue, stringValue])(ciphertext, privatekey));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/sha1.html sha1} computes the SHA1 hash of a given string and encodes it with hexadecimal digits.
     * @param {string} value
     */
    static sha1(value) {
        return asString(terraformFunction("sha1", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/sha256.html sha256} computes the SHA256 hash of a given string and encodes it with hexadecimal digits.
     * @param {string} value
     */
    static sha256(value) {
        return asString(terraformFunction("sha256", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/sha512.html sha512} computes the SHA512 hash of a given string and encodes it with hexadecimal digits.
     * @param {string} value
     */
    static sha512(value) {
        return asString(terraformFunction("sha512", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/uuid.html uuid} generates a unique identifier string.
     */
    static uuid() {
        return asString(terraformFunction("uuid", [])());
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/uuidv5.html uuidv5} generates a unique identifier string.
     * @param {string} namespace
     * @param {string} name
     */
    static uuidv5(namespace, name) {
        return asString(terraformFunction("uuidv5", [stringValue, stringValue])(namespace, name));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/formatdate.html formatdate} converts a timestamp into a different time format.
     * @param {string} spec
     * @param {string} timestamp
     */
    static formatdate(spec, timestamp) {
        return asString(terraformFunction("formatdate", [stringValue, stringValue])(spec, timestamp));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/timeadd.html timeadd} adds a duration to a timestamp, returning a new timestamp.
     * @param {string} timestamp
     * @param {string} duration
     */
    static timeadd(timestamp, duration) {
        return asString(terraformFunction("timeadd", [stringValue, stringValue])(timestamp, duration));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/timestamp.html timestamp} returns a UTC timestamp string in RFC 3339 format.
     */
    static timestamp() {
        return asString(terraformFunction("timestamp", [])());
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/base64decode.html base64decode} takes a string containing a Base64 character sequence and returns the original string.
     * @param {string} value
     */
    static base64decode(value) {
        return asString(terraformFunction("base64decode", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/base64encode.html base64encode} takes a string containing a Base64 character sequence and returns the original string.
     * @param {string} value
     */
    static base64encode(value) {
        return asString(terraformFunction("base64encode", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/base64gzip.html base64gzip} compresses a string with gzip and then encodes the result in Base64 encoding.
     * @param {string} value
     */
    static base64gzip(value) {
        return asString(terraformFunction("base64gzip", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/csvdecode.html csvdecode} decodes a string containing CSV-formatted data and produces a list of maps representing that data.
     * @param {string} value
     */
    static csvdecode(value) {
        return asList(terraformFunction("csvdecode", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/jsondecode.html jsondecode} interprets a given string as JSON, returning a representation of the result of decoding that string.
     * @param {string} value
     */
    static jsondecode(value) {
        return asAny(terraformFunction("jsondecode", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/jsonencode.html jsonencode} encodes a given value to a string using JSON syntax.
     * @param {any} value
     */
    static jsonencode(value) {
        return asString(terraformFunction("jsonencode", [anyValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/textdecodebase64.html textdecodebase64} function decodes a string that was previously Base64-encoded, and then interprets the result as characters in a specified character encoding.
     * @param {string} value
     * @param {string} encodingName
     */
    static textdecodebase64(value, encodingName) {
        return asString(terraformFunction("textdecodebase64", [stringValue, stringValue])(value, encodingName));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/textencodebase64.html textencodebase64}  encodes the unicode characters in a given string using a specified character encoding, returning the result base64 encoded because Terraform language strings are always sequences of unicode characters.
     * @param {string} value
     * @param {string} encodingName
     */
    static textencodebase64(value, encodingName) {
        return asString(terraformFunction("textencodebase64", [stringValue, stringValue])(value, encodingName));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/urlencode.html urlencode} applies URL encoding to a given string.
     * @param {string} value
     */
    static urlencode(value) {
        return asString(terraformFunction("urlencode", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/yamldecode.html yamldecode} parses a string as a subset of YAML, and produces a representation of its value.
     * @param {string} value
     */
    static yamldecode(value) {
        return asAny(terraformFunction("yamldecode", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/yamlencode.html yamlencode} encodes a given value to a string using JSON syntax.
     * @param {any} value
     */
    static yamlencode(value) {
        return asString(terraformFunction("yamlencode", [anyValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/abspath.html abspath} takes a string containing a filesystem path and converts it to an absolute path.
     * @param {string} value
     */
    static abspath(value) {
        return asString(terraformFunction("abspath", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/dirname.html dirname} takes a string containing a filesystem path and removes the last portion from it.
     * @param {string} value
     */
    static dirname(value) {
        return asString(terraformFunction("dirname", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/pathexpand.html pathexpand} takes a string containing a filesystem path and removes the last portion from it.
     * @param {string} value
     */
    static pathexpand(value) {
        return asString(terraformFunction("pathexpand", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/basename.html basename} takes a string containing a filesystem path and removes all except the last portion from it.
     * @param {string} value
     */
    static basename(value) {
        return asString(terraformFunction("basename", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/file.html file} takes a string containing a filesystem path and removes all except the last portion from it.
     * @param {string} value
     */
    static file(value) {
        return asString(terraformFunction("file", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/fileexists.html fileexists} determines whether a file exists at a given path.
     * @param {string} value
     */
    static fileexists(value) {
        return asBoolean(terraformFunction("fileexists", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/fileset.html fileset} enumerates a set of regular file names given a path and pattern.
     * @param {string} path
     * @param {string} pattern
     */
    static fileset(path, pattern) {
        return asList(terraformFunction("fileset", [stringValue, stringValue])(path, pattern));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/filebase64.html filebase64} reads the contents of a file at the given path and returns them as a base64-encoded string.
     * @param {string} value
     */
    static filebase64(value) {
        return asString(terraformFunction("filebase64", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/templatefile.html templatefile} reads the file at the given path and renders its content as a template using a supplied set of template variables.
     * @param {string} path
     * @param {Object} vars
     */
    static templatefile(path, vars) {
        return asString(terraformFunction("templatefile", [stringValue, mapValue])(path, vars));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/cidrhost.html cidrhost} calculates a full host IP address for a given host number within a given IP network address prefix.
     * @param {string} prefix
     * @param {number} hostnum
     */
    static cidrhost(prefix, hostnum) {
        return asString(terraformFunction("cidrhost", [stringValue, numericValue])(prefix, hostnum));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/cidrnetmask.html cidrnetmask} converts an IPv4 address prefix given in CIDR notation into a subnet mask address.
     * @param {string} prefix
     */
    static cidrnetmask(prefix) {
        return asString(terraformFunction("cidrnetmask", [stringValue])(prefix));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/cidrsubnet.html cidrsubnet} calculates a subnet address within given IP network address prefix.
     * @param {string} prefix
     * @param {number} newbits
     * @param {number} netnum
     */
    static cidrsubnet(prefix, newbits, netnum) {
        return asString(terraformFunction("cidrsubnet", [
            stringValue,
            numericValue,
            numericValue,
        ])(prefix, newbits, netnum));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/cidrsubnets.html cidrsubnets} calculates a sequence of consecutive IP address ranges within a particular CIDR prefix.
     * @param {string} prefix
     * @param {...number} newbits
     */
    static cidrsubnets(prefix, newbits) {
        return asList(terraformFunction("cidrsubnets", listOf(anyValue))(prefix, ...newbits));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/abs.html abs} returns the absolute value of the given number
     * @param {number} value
     */
    static abs(value) {
        return asNumber(terraformFunction("abs", [numericValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/ceil.html ceil} returns the closest whole number that is greater than or equal to the given value, which may be a fraction.
     * @param {number} value
     */
    static ceil(value) {
        return asNumber(terraformFunction("ceil", [numericValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/floor.html floor} returns the closest whole number that is less than or equal to the given value, which may be a fraction
     * @param {number} value
     */
    static floor(value) {
        return asNumber(terraformFunction("floor", [numericValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/log.html log} returns the logarithm of a given number in a given base.
     * @param {number} value
     * @param {number} base
     */
    static log(value, base) {
        return asNumber(terraformFunction("log", [numericValue, numericValue])(value, base));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/max.html max} takes one or more numbers and returns the greatest number from the set.
     * @param {Array<number>} values
     */
    static max(values) {
        return asNumber(terraformFunction("max", listOf(numericValue))(...values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/min.html min} takes one or more numbers and returns the smallest number from the set.
     * @param {Array<number>} values
     */
    static min(values) {
        return asNumber(terraformFunction("min", listOf(numericValue))(...values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/parseint.html parseInt} parses the given string as a representation of an integer in the specified base and returns the resulting number. The base must be between 2 and 62 inclusive.
     * @param {string} value
     * @param {number} base
     */
    static parseInt(value, base) {
        return asNumber(terraformFunction("parseint", [stringValue, numericValue])(value, base));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/pow.html pow} calculates an exponent, by raising its first argument to the power of the second argument.
     * @param {number} value
     * @param {number} power
     */
    static pow(value, power) {
        return asNumber(terraformFunction("pow", [numericValue, numericValue])(value, power));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/signum.html signum} determines the sign of a number, returning a number between -1 and 1 to represent the sign.
     * @param {number} value
     */
    static signum(value) {
        return asNumber(terraformFunction("signum", [numericValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/chomp.html chomp} removes newline characters at the end of a string.
     * @param {string} value
     */
    static chomp(value) {
        return asString(terraformFunction("chomp", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/format.html format} produces a string by formatting a number of other values according to a specification string
     * @param {string} spec
     * @param {Array} values
     */
    static format(spec, values) {
        return asString(terraformFunction("format", listOf(anyValue))(spec, ...values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/formatlist.html formatlist} produces a list of strings by formatting a number of other values according to a specification string.
     * @param {string} spec
     * @param {Array<string>} values
     */
    static formatlist(spec, values) {
        return asList(terraformFunction("formatlist", listOf(anyValue))(spec, ...values));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/indent.html indent} adds a given number of spaces to the beginnings of all but the first line in a given multi-line string.
     * @param {number} indentation
     * @param {string} value
     */
    static indent(indentation, value) {
        return asString(terraformFunction("indent", [numericValue, stringValue])(indentation, value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/join.html join} produces a string by concatenating together all elements of a given list of strings with the given delimiter.
     * @param {string} separator
     * @param {Array} value
     */
    static join(separator, value) {
        return asString(terraformFunction("join", [stringValue, listOf(anyValue)])(separator, value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/lower.html lower} converts all cased letters in the given string to lowercase.
     * @param {string} value
     */
    static lower(value) {
        return asString(terraformFunction("lower", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/regexall.html regexall} applies a regular expression to a string and returns a list of all matches.
     * @param {string} pattern
     * @param {string} value
     */
    static regexall(pattern, value) {
        return asList(terraformFunction("regexall", [stringValue, stringValue])(pattern, value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/regex.html regex} applies a regular expression to a string and returns the matching substrings in pattern.
     * @param {string} pattern
     * @param {string} value
     */
    static regex(pattern, value) {
        return asString(terraformFunction("regex", [stringValue, stringValue])(pattern, value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/replace.html replace} searches a given string for another given substring, and replaces each occurrence with a given replacement string.
     * @param {string} value
     * @param {string} substring
     * @param {string} replacement
     */
    static replace(value, substring, replacement) {
        return asString(terraformFunction("replace", [stringValue, stringValue, stringValue])(value, substring, replacement));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/split.html split} produces a list by dividing a given string at all occurrences of a given separator.
     * @param {string} seperator
     * @param {string} value
     */
    static split(seperator, value) {
        return asList(terraformFunction("split", [stringValue, stringValue])(seperator, value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/strrev.html strrev} reverses the characters in a string.
     * @param {string} value
     */
    static strrev(value) {
        return asString(terraformFunction("strrev", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/substr.html substr} extracts a substring from a given string by offset and length.
     * @param {string} value
     * @param {number} offset
     * @param {number} length
     */
    static substr(value, offset, length) {
        return asString(terraformFunction("substr", [stringValue, numericValue, numericValue])(value, offset, length));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/title.html title} converts the first letter of each word in the given string to uppercase.
     * @param {string} value
     */
    static title(value) {
        return asString(terraformFunction("title", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/trim.html trim} removes the specified characters from the start and end of the given string.
     * @param {string} value
     * @param {string} replacement
     */
    static trim(value, replacement) {
        return asString(terraformFunction("trim", [stringValue, stringValue])(value, replacement));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/trimprefix.html trimprefix} removes the specified prefix from the start of the given string.
     * @param {string} value
     * @param {string} prefix
     */
    static trimprefix(value, prefix) {
        return asString(terraformFunction("trimprefix", [stringValue, stringValue])(value, prefix));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/trimsuffix.html trimsuffix} removes the specified suffix from the end of the given string.
     * @param {string} value
     * @param {string} suffix
     */
    static trimsuffix(value, suffix) {
        return asString(terraformFunction("trimsuffix", [stringValue, stringValue])(value, suffix));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/trimspace.html trimspace} removes any space characters from the start and end of the given string.
     * @param {string} value
     */
    static trimspace(value) {
        return asString(terraformFunction("trimspace", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/upper.html upper} converts all cased letters in the given string to uppercase.
     * @param {string} value
     */
    static upper(value) {
        return asString(terraformFunction("upper", [stringValue])(value));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/can.html can} evaluates the given expression and returns a boolean value indicating whether the expression produced a result without any errors.
     * @param {any} expression
     */
    static can(expression) {
        return asBoolean(terraformFunction("can", [anyValue])(expression));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/nonsensitive.html nonsensitive} takes a sensitive value and returns a copy of that value with the sensitive marking removed, thereby exposing the sensitive value.
     * @param {any} expression
     */
    static nonsensitive(expression) {
        return asAny(terraformFunction("nonsensitive", [anyValue])(expression));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/sensitive.html sensitive} takes any value and returns a copy of it marked so that Terraform will treat it as sensitive, with the same meaning and behavior as for sensitive input variables.
     * @param {any} expression
     */
    static sensitive(expression) {
        return asAny(terraformFunction("sensitive", [anyValue])(expression));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/tobool.html tobool} converts its argument to a boolean value.
     * @param {any} expression
     */
    static tobool(expression) {
        return asBoolean(terraformFunction("tobool", [anyValue])(expression));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/tolist.html tolist} converts its argument to a list value.
     * @param {any} expression
     */
    static tolist(expression) {
        return asList(terraformFunction("tolist", [anyValue])(expression));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/tomap.html tomap} converts its argument to a map value.
     * @param {any} expression
     */
    static tomap(expression) {
        return asAny(terraformFunction("tomap", [anyValue])(expression));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/tonumber.html tonumber} converts its argument to a number value.
     * @param {any} expression
     */
    static tonumber(expression) {
        return asNumber(terraformFunction("tonumber", [anyValue])(expression));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/toset.html toset} converts its argument to a set value.
     * @param {any} expression
     */
    static toset(expression) {
        return asAny(terraformFunction("toset", [anyValue])(expression));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/tostring.html tostring} converts its argument to a string value.
     * @param {any} expression
     */
    static tostring(expression) {
        return asString(terraformFunction("tostring", [anyValue])(expression));
    }
    /**
     * {@link https://www.terraform.io/docs/language/functions/try.html try} evaluates all of its argument expressions in turn and returns the result of the first one that does not produce any errors.
     * @param {Array} expression
     */
    static try(expression) {
        return asAny(terraformFunction("try", listOf(anyValue))(...expression));
    }
    /**
     * Use this function to wrap a string and escape it properly for the use in Terraform
     * This is only needed in certain scenarios (e.g., if you have unescaped double quotes in the string)
     * @param {String} str
     */
    static rawString(str) {
        return asString(_1.rawString(str));
    }
}
exports.Fn = Fn;
_a = JSII_RTTI_SYMBOL_1;
Fn[_a] = { fqn: "cdktf.Fn", version: "0.12.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVycmFmb3JtLWZ1bmN0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInRlcnJhZm9ybS1mdW5jdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwwQ0FBcUQ7QUFDckQsaURBQXNDO0FBRXRDLHdEQUE0RTtBQUM1RSx3QkFBOEI7QUFTOUIsU0FBUyx3QkFBd0IsQ0FBQyxHQUFXO0lBQzNDLE9BQU8sc0JBQXNCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzFDLENBQUM7QUFFRCxhQUFhO0FBQ2IsU0FBUyxRQUFRLENBQUMsS0FBVTtJQUMxQixPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxTQUFTLFFBQVEsQ0FBQyxLQUFVO0lBQzFCLE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELFNBQVMsV0FBVyxDQUFDLEtBQVU7SUFDN0IsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksQ0FBQyxvQkFBWSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNsRSxNQUFNLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxxQ0FBcUMsQ0FBQyxDQUFDO0tBQ2pFO0lBRUQsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksd0JBQXdCLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDaEUsTUFBTSxJQUFJLEtBQUssQ0FDYixJQUFJLEtBQUssaUpBQWlKLENBQzNKLENBQUM7S0FDSDtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELFNBQVMsWUFBWSxDQUFDLEtBQVU7SUFDOUIsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksQ0FBQyxvQkFBWSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNsRSxNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsS0FBSyxvQ0FBb0MsQ0FBQyxDQUFDO0tBQy9EO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsU0FBUyxN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Q0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQWE7UUFDcEMsT0FBTyxLQUFLLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQVU7UUFDakMsT0FBTyxRQUFRLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQWE7UUFDakMsT0FBTyxRQUFRLENBQUMsaUJBQWlCLENBQUMsU0FBUyxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQWE7UUFDakMsT0FBTyxRQUFRLENBQUMsaUJBQWlCLENBQUMsU0FBUyxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQWE7UUFDcEMsT0FBTyxRQUFRLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3pFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQWE7UUFDbEMsT0FBTyxRQUFRLENBQUMsaUJBQWlCLENBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxN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QyxpQkFBaUIsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDeEUsQ0FBQztJQUVEOzs7T0FHRztJQUNJLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBZTtRQUNsQyxPQUFPLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVEOzs7T0FHRztJQUNJLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBZTtRQUNqQyxPQUFPLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVEOzs7T0FHRztJQUNJLE1BQU0sQ0FBQyxRQUFRLENBQUMsVUFBZTtRQUNwQyxPQUFPLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVEOzs7T0FHRztJQUNJLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBZTtRQUNqQyxPQUFPLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVEOzs7T0FHRztJQUNJLE1BQU0sQ0FBQyxRQUFRLENBQUMsVUFBZTtRQUNwQyxPQUFPLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVEOzs7T0FHRztJQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBaUI7UUFDakMsT0FBTyxLQUFLLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBVztRQUNqQyxPQUFPLFFBQVEsQ0FBQyxZQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNsQyxDQUFDOztBQW5rQ0gsZ0JBb2tDQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRva2VuaXphdGlvbiwgVG9rZW4gfSBmcm9tIFwiLi90b2tlbnMvdG9rZW5cIjtcbmltcG9ydCB7IGNhbGwgfSBmcm9tIFwiLi90ZkV4cHJlc3Npb25cIjtcbmltcG9ydCB7IElSZXNvbHZhYmxlIH0gZnJvbSBcIi4vdG9rZW5zL3Jlc29sdmFibGVcIjtcbmltcG9ydCB7IFRva2VuU3RyaW5nLCBleHRyYWN0VG9rZW5Eb3VibGUgfSBmcm9tIFwiLi90b2tlbnMvcHJpdmF0ZS9lbmNvZGluZ1wiO1xuaW1wb3J0IHsgcmF3U3RyaW5nIH0gZnJvbSBcIi5cIjtcblxuLy8gV2UgdXNlIGJyYW5kaW5nIGhlcmUgdG8gZW5zdXJlIHdlIGludGVybmFsbHkgb25seSBoYW5kbGUgdmFsaWRhdGVkIHZhbHVlc1xuLy8gdGhpcyBhbGxvd3MgdXMgdG8gY2F0Y2ggdXNhZ2UgZXJyb3JzIGJlZm9yZSB0ZXJyYWZvcm0gZG9lcyBpbiBzb21lIGNhc2VzXG50eXBlIFRGVmFsdWUgPSBhbnkgJiB7IF9fdHlwZTogXCJ0ZnZhbHVlXCIgfTtcbnR5cGUgVEZWYWx1ZVZhbGlkYXRvciA9ICh2YWx1ZTogYW55KSA9PiBURlZhbHVlO1xuXG50eXBlIEV4ZWN1dGFibGVUZkZ1bmN0aW9uID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBJUmVzb2x2YWJsZTtcblxuZnVuY3Rpb24gaGFzVW5lc2NhcGVkRG91YmxlUXVvdGVzKHN0cjogc3RyaW5nKSB7XG4gIHJldHVybiAvKF58W15cXFxcXSkoW1xcXFxdezJ9KSpcIi8udGVzdChzdHIpO1xufVxuXG4vLyBWYWxpZGF0b3JzXG5mdW5jdGlvbiBhbnlWYWx1ZSh2YWx1ZTogYW55KTogYW55IHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBtYXBWYWx1ZSh2YWx1ZTogYW55KTogYW55IHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdWYWx1ZSh2YWx1ZTogYW55KTogYW55IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIiAmJiAhVG9rZW5pemF0aW9uLmlzUmVzb2x2YWJsZSh2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCcke3ZhbHVlfScgaXMgbm90IGEgdmFsaWQgc3RyaW5nIG5vciBhIHRva2VuYCk7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIGhhc1VuZXNjYXBlZERvdWJsZVF1b3Rlcyh2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgJyR7dmFsdWV9JyBjYW4gbm90IGJlIHVzZWQgYXMgdmFsdWUgZGlyZWN0bHkgc2luY2UgaXQgaGFzIHVuZXNjYXBlZCBkb3VibGUgcXVvdGVzIGluIGl0LiBUbyBzYWZlbHkgdXNlIHRoZSB2YWx1ZSBwbGVhc2UgdXNlIEZuLnJhd1N0cmluZyBvbiB5b3VyIHN0cmluZy5gXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gbnVtZXJpY1ZhbHVlKHZhbHVlOiBhbnkpOiBhbnkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm51bWJlclwiICYmICFUb2tlbml6YXRpb24uaXNSZXNvbHZhYmxlKHZhbHVlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHt2YWx1ZX0gaXMgbm90IGEgdmFsaWQgbnVtYmVyIG5vciBhIHRva2VuYCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBsaXN0T2YodHlwZTogVEZWYWx1ZVZhbGlkYXRvcik6IFRGVmFsdWVWYWxpZGF0b3Ige1xuICByZXR1cm4gKHZhbHVlOiBhbnkpID0+IHtcbiAgICBpZiAoVG9rZW5pemF0aW9uLmlzUmVzb2x2YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAvLyAgIHRocm93IG5ldyBFcnJvcihgJHt2YWx1ZX0gaXMgbm90IGEgdmFsaWQgbGlzdGApO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZVxuICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAhPT0gdW5kZWZpbmVkICYmIGl0ZW0gIT09IG51bGwpXG4gICAgICAubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgIGlmIChUb2tlbml6YXRpb24uaXNSZXNvbHZhYmxlKGl0ZW0pKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoVG9rZW5TdHJpbmcuZm9yTGlzdFRva2VuKGl0ZW0pLnRlc3QoKSkge1xuICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4dHJhY3RUb2tlbkRvdWJsZShpdGVtLCB0cnVlKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoVG9rZW5TdHJpbmcuZm9yTWFwVG9rZW4oaXRlbSkudGVzdCgpKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBjb25zdCB0b2tlbkxpc3QgPSBUb2tlbml6YXRpb24ucmV2ZXJzZVN0cmluZyhpdGVtKTtcbiAgICAgICAgICBjb25zdCBudW1iZXJPZlRva2VucyA9XG4gICAgICAgICAgICB0b2tlbkxpc3QudG9rZW5zLmxlbmd0aCArIHRva2VuTGlzdC5pbnRyaW5zaWMubGVuZ3RoO1xuICAgICAgICAgIGlmIChudW1iZXJPZlRva2VucyA9PT0gMSAmJiB0b2tlbkxpc3QubGl0ZXJhbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHR5cGUoaXRlbSk7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiID8gYFwiJHtpdGVtfVwiYCA6IGl0ZW07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEVsZW1lbnQgaW4gbGlzdCAke3ZhbHVlfSBhdCBwb3NpdGlvbiAke2l9IGlzIG5vdCBvZiB0aGUgcmlnaHQgdHlwZTogJHtlcnJvcn1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG59XG5cbi8vIFRva2VuaXphdGlvblxuZnVuY3Rpb24gYXNTdHJpbmcodmFsdWU6IElSZXNvbHZhYmxlKSB7XG4gIHJldHVybiBUb2tlbi5hc1N0cmluZyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGFzTnVtYmVyKHZhbHVlOiBJUmVzb2x2YWJsZSkge1xuICByZXR1cm4gVG9rZW4uYXNOdW1iZXIodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBhc0xpc3QodmFsdWU6IElSZXNvbHZhYmxlKSB7XG4gIHJldHVybiBUb2tlbi5hc0xpc3QodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBhc1N0cmluZ01hcCh2YWx1ZTogSVJlc29sdmFibGUpIHtcbiAgcmV0dXJuIFRva2VuLmFzU3RyaW5nTWFwKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gYXNCb29sZWFuKHZhbHVlOiBJUmVzb2x2YWJsZSkge1xuICByZXR1cm4gdmFsdWU7IC8vIEJvb2xlYW5zIGNhbiBub3QgYmUgcmVwcmVzZW50ZWQgYXMgYSB0b2tlblxufVxuXG5mdW5jdGlvbiBhc0FueSh2YWx1ZTogSVJlc29sdmFibGUpIHtcbiAgLy8gT3JkaW5hcmlseSBjYXN0aW5nIHRvIGFueSBjYW4gY2F1c2UgaXNzdWVzLCBidXRcbiAgLy8gaW4gdGhpcyBjYXNlIGl0IG1ha2VzIHVzaW5nIGZ1bmN0aW9ucyBhIGJpdCBlYXNpZXIgaW4gVFNcbiAgLy8gYW5kIGRvZXNuJ3QgcmVhbGx5IGhhcm0gb3RoZXIgbGFuZ3VhZ2VzLlxuICAvLyBKc2lpIGhhcyBpc3N1ZXMgd2hlbiByZXR1cm5pbmcgdGhlIHZhbHVlIGRpcmVjdGx5LFxuICAvLyBzbyB3cmFwIGFzIGEgc3RyaW5nLlxuICByZXR1cm4gYXNTdHJpbmcodmFsdWUpIGFzIGFueTtcbn1cblxuZnVuY3Rpb24gdGVycmFmb3JtRnVuY3Rpb24oXG4gIG5hbWU6IHN0cmluZyxcbiAgYXJnVmFsaWRhdG9yczogVEZWYWx1ZVZhbGlkYXRvciB8IFRGVmFsdWVWYWxpZGF0b3JbXVxuKTogRXhlY3V0YWJsZVRmRnVuY3Rpb24ge1xuICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnVmFsaWRhdG9ycykpIHtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gYXJnVmFsaWRhdG9ycy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGAke25hbWV9IHRha2VzICR7YXJnVmFsaWRhdG9ycy5sZW5ndGh9IGFyZ3VtZW50cywgYnV0ICR7YXJncy5sZW5ndGh9IHdlcmUgcHJvdmlkZWRgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FsbChcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYXJncy5tYXAoKGFyZywgaSkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnVmFsaWRhdG9yc1tpXShhcmcpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBBcmd1bWVudCAke2l9IG9mICR7bmFtZX0gZmFpbGVkIHRoZSB2YWxpZGF0aW9uOiAke2Vycm9yfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNhbGwobmFtZSwgYXJnVmFsaWRhdG9ycyhhcmdzKSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgRm4ge1xuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9hbGx0cnVlLmh0bWwgYWxsdHJ1ZX0gcmV0dXJucyB0cnVlIGlmIGFsbCBlbGVtZW50cyBpbiBhIGdpdmVuIGNvbGxlY3Rpb24gYXJlIHRydWUgb3IgXCJ0cnVlXCIuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBhbGx0cnVlKHZhbHVlczogYW55W10pIHtcbiAgICByZXR1cm4gYXNCb29sZWFuKHRlcnJhZm9ybUZ1bmN0aW9uKFwiYWxsdHJ1ZVwiLCBbbGlzdE9mKGFueVZhbHVlKV0pKHZhbHVlcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvYW55dHJ1ZS5odG1sIGFueXRydWV9IHJldHVybnMgdHJ1ZSBpZiBhbnkgZWxlbWVudCBpbiBhIGdpdmVuIGNvbGxlY3Rpb24gaXMgdHJ1ZSBvciBcInRydWVcIlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBhbnl0cnVlKHZhbHVlOiBhbnlbXSkge1xuICAgIHJldHVybiBhc0Jvb2xlYW4odGVycmFmb3JtRnVuY3Rpb24oXCJhbnl0cnVlXCIsIFtsaXN0T2YoYW55VmFsdWUpXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2NodW5rbGlzdC5odG1sIGNodW5rbGlzdH0gc3BsaXRzIGEgc2luZ2xlIGxpc3QgaW50byBmaXhlZC1zaXplIGNodW5rcywgcmV0dXJuaW5nIGEgbGlzdCBvZiBsaXN0cy5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNodW5rU2l6ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBjaHVua2xpc3QodmFsdWU6IGFueVtdLCBjaHVua1NpemU6IG51bWJlcikge1xuICAgIHJldHVybiBhc0xpc3QoXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcImNodW5rbGlzdFwiLCBbbGlzdE9mKGFueVZhbHVlKSwgbnVtZXJpY1ZhbHVlXSkoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBjaHVua1NpemVcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvY29hbGVzY2UuaHRtbCBjb2FsZXNjZX0gdGFrZXMgYW55IG51bWJlciBvZiBhcmd1bWVudHMgYW5kIHJldHVybnMgdGhlIGZpcnN0IG9uZSB0aGF0IGlzbid0IG51bGwgb3IgYW4gZW1wdHkgc3RyaW5nLlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZSAtIEFyZ3VtZW50cyBhcmUgcGFzc2VkIGluIGFuIGFycmF5XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGNvYWxlc2NlKHZhbHVlOiBhbnlbXSkge1xuICAgIHJldHVybiB0ZXJyYWZvcm1GdW5jdGlvbihcImNvYWxlc2NlXCIsIGxpc3RPZihhbnlWYWx1ZSkpKC4uLnZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2NvYWxlc2NlbGlzdC5odG1sIGNvYWxlc2NlbGlzdH0gdGFrZXMgYW55IG51bWJlciBvZiBsaXN0IGFyZ3VtZW50cyBhbmQgcmV0dXJucyB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgZW1wdHkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlIC0gQXJndW1lbnRzIGFyZSBwYXNzZWQgaW4gYW4gYXJyYXlcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgY29hbGVzY2VsaXN0KHZhbHVlOiBhbnlbXVtdKSB7XG4gICAgcmV0dXJuIGFzTGlzdChcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwiY29hbGVzY2VsaXN0XCIsIGxpc3RPZihhbnlWYWx1ZSkpKC4uLnZhbHVlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9jb21wYWN0Lmh0bWwgY29tcGFjdH0gdGFrZXMgYSBsaXN0IG9mIHN0cmluZ3MgYW5kIHJldHVybnMgYSBuZXcgbGlzdCB3aXRoIGFueSBlbXB0eSBzdHJpbmcgZWxlbWVudHMgcmVtb3ZlZC5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgY29tcGFjdCh2YWx1ZTogc3RyaW5nW10pIHtcbiAgICByZXR1cm4gYXNMaXN0KHRlcnJhZm9ybUZ1bmN0aW9uKFwiY29tcGFjdFwiLCBbbGlzdE9mKGFueVZhbHVlKV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9jb25jYXQuaHRtbCBjb25jYXR9IHRha2VzIHR3byBvciBtb3JlIGxpc3RzIGFuZCBjb21iaW5lcyB0aGVtIGludG8gYSBzaW5nbGUgbGlzdC5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgY29uY2F0KHZhbHVlOiBhbnlbXVtdKSB7XG4gICAgcmV0dXJuIGFzTGlzdCh0ZXJyYWZvcm1GdW5jdGlvbihcImNvbmNhdFwiLCBsaXN0T2YoYW55VmFsdWUpKSguLi52YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvY29udGFpbnMuaHRtbCBjb250YWluc30gZGV0ZXJtaW5lcyB3aGV0aGVyIGEgZ2l2ZW4gbGlzdCBvciBzZXQgY29udGFpbnMgYSBnaXZlbiBzaW5nbGUgdmFsdWUgYXMgb25lIG9mIGl0cyBlbGVtZW50cy5cbiAgICogQHBhcmFtIHtBcnJheX0gbGlzdFxuICAgKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgY29udGFpbnMobGlzdDogYW55W10gfCBJUmVzb2x2YWJsZSwgdmFsdWU6IGFueSkge1xuICAgIHJldHVybiBhc0Jvb2xlYW4oXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcImNvbnRhaW5zXCIsIFtsaXN0T2YoYW55VmFsdWUpLCBhbnlWYWx1ZV0pKGxpc3QsIHZhbHVlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9kaXN0aW5jdC5odG1sIGRpc3RpbmN0fSB0YWtlcyBhIGxpc3QgYW5kIHJldHVybnMgYSBuZXcgbGlzdCB3aXRoIGFueSBkdXBsaWNhdGUgZWxlbWVudHMgcmVtb3ZlZC5cbiAgICogQHBhcmFtIHtBcnJheX0gbGlzdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBkaXN0aW5jdChsaXN0OiBhbnlbXSB8IElSZXNvbHZhYmxlKSB7XG4gICAgcmV0dXJuIGFzTGlzdCh0ZXJyYWZvcm1GdW5jdGlvbihcImRpc3RpbmN0XCIsIFtsaXN0T2YoYW55VmFsdWUpXSkobGlzdCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvZWxlbWVudC5odG1sIGVsZW1lbnR9IHJldHJpZXZlcyBhIHNpbmdsZSBlbGVtZW50IGZyb20gYSBsaXN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBlbGVtZW50KGxpc3Q6IGFueVtdIHwgSVJlc29sdmFibGUsIGluZGV4OiBudW1iZXIpIHtcbiAgICByZXR1cm4gYXNBbnkoXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcImVsZW1lbnRcIiwgW2xpc3RPZihhbnlWYWx1ZSksIG51bWVyaWNWYWx1ZV0pKFxuICAgICAgICBsaXN0LFxuICAgICAgICBpbmRleFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9mbGF0dGVuLmh0bWwgZmxhdHRlbn0gdGFrZXMgYSBsaXN0IGFuZCByZXBsYWNlcyBhbnkgZWxlbWVudHMgdGhhdCBhcmUgbGlzdHMgd2l0aCBhIGZsYXR0ZW5lZCBzZXF1ZW5jZSBvZiB0aGUgbGlzdCBjb250ZW50cy5cbiAgICogQHBhcmFtIHtBcnJheX0gbGlzdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBmbGF0dGVuKGxpc3Q6IGFueVtdIHwgSVJlc29sdmFibGUpIHtcbiAgICByZXR1cm4gYXNMaXN0KHRlcnJhZm9ybUZ1bmN0aW9uKFwiZmxhdHRlblwiLCBbbGlzdE9mKGFueVZhbHVlKV0pKGxpc3QpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2luZGV4Lmh0bWwgaW5kZXh9IGZpbmRzIHRoZSBlbGVtZW50IGluZGV4IGZvciBhIGdpdmVuIHZhbHVlIGluIGEgbGlzdC5cbiAgICogQHBhcmFtIHtBcnJheX0gbGlzdFxuICAgKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgaW5kZXgobGlzdDogYW55W10gfCBJUmVzb2x2YWJsZSwgdmFsdWU6IGFueSkge1xuICAgIHJldHVybiBhc051bWJlcihcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwiaW5kZXhcIiwgW2xpc3RPZihhbnlWYWx1ZSksIGFueVZhbHVlXSkobGlzdCwgdmFsdWUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2tleXMuaHRtbCBrZXlzfSB0YWtlcyBhIG1hcCBhbmQgcmV0dXJucyBhIGxpc3QgY29udGFpbmluZyB0aGUga2V5cyBmcm9tIHRoYXQgbWFwLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGtleXMobWFwOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgSVJlc29sdmFibGUpIHtcbiAgICByZXR1cm4gYXNMaXN0KHRlcnJhZm9ybUZ1bmN0aW9uKFwia2V5c1wiLCBbbWFwVmFsdWVdKShtYXApKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2xlbmd0aC5odG1sIGxlbmd0aH0gZGV0ZXJtaW5lcyB0aGUgbGVuZ3RoIG9mIGEgZ2l2ZW4gbGlzdCwgbWFwLCBvciBzdHJpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fHN0cmluZ30gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbGVuZ3RoT2YodmFsdWU6IGFueSkge1xuICAgIHJldHVybiBhc051bWJlcih0ZXJyYWZvcm1GdW5jdGlvbihcImxlbmd0aFwiLCBbYW55VmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvbG9va3VwLmh0bWwgbG9va3VwfSByZXRyaWV2ZXMgdGhlIHZhbHVlIG9mIGEgc2luZ2xlIGVsZW1lbnQgZnJvbSBhIG1hcCwgZ2l2ZW4gaXRzIGtleS4gSWYgdGhlIGdpdmVuIGtleSBkb2VzIG5vdCBleGlzdCwgdGhlIGdpdmVuIGRlZmF1bHQgdmFsdWUgaXMgcmV0dXJuZWQgaW5zdGVhZC5cbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gICAqIEBwYXJhbSB7YW55fSBrZXlcbiAgICogQHBhcmFtIHthbnl9IGRlZmF1bHRWYWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBsb29rdXAodmFsdWU6IGFueSwga2V5OiBhbnksIGRlZmF1bHRWYWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIGFzQW55KFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJsb29rdXBcIiwgW2FueVZhbHVlLCBhbnlWYWx1ZSwgYW55VmFsdWVdKShcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGtleSxcbiAgICAgICAgZGVmYXVsdFZhbHVlXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL21hdGNoa2V5cy5odG1sIG1hdGNoa2V5c30gY29uc3RydWN0cyBhIG5ldyBsaXN0IGJ5IHRha2luZyBhIHN1YnNldCBvZiBlbGVtZW50cyBmcm9tIG9uZSBsaXN0IHdob3NlIGluZGV4ZXMgbWF0Y2ggdGhlIGNvcnJlc3BvbmRpbmcgaW5kZXhlcyBvZiB2YWx1ZXMgaW4gYW5vdGhlciBsaXN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXNMaXN0XG4gICAqIEBwYXJhbSB7QXJyYXl9IGtleXNMaXN0XG4gICAqIEBwYXJhbSB7QXJyYXl9IHNlYXJjaFNldFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtYXRjaGtleXMoXG4gICAgdmFsdWVzTGlzdDogYW55W10gfCBzdHJpbmcgfCBJUmVzb2x2YWJsZSxcbiAgICBrZXlzTGlzdDogYW55W10gfCBzdHJpbmcgfCBJUmVzb2x2YWJsZSxcbiAgICBzZWFyY2hTZXQ6IGFueVtdIHwgc3RyaW5nIHwgSVJlc29sdmFibGVcbiAgKSB7XG4gICAgcmV0dXJuIGFzTGlzdChcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwibWF0Y2hrZXlzXCIsIFthbnlWYWx1ZSwgYW55VmFsdWUsIGFueVZhbHVlXSkoXG4gICAgICAgIHZhbHVlc0xpc3QsXG4gICAgICAgIGtleXNMaXN0LFxuICAgICAgICBzZWFyY2hTZXRcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvbWVyZ2UuaHRtbCBtZXJnZX0gdGFrZXMgYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBtYXBzIG9yIG9iamVjdHMsIGFuZCByZXR1cm5zIGEgc2luZ2xlIG1hcCBvciBvYmplY3QgdGhhdCBjb250YWlucyBhIG1lcmdlZCBzZXQgb2YgZWxlbWVudHMgZnJvbSBhbGwgYXJndW1lbnRzLlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgLSBBcmd1bWVudHMgYXJlIHBhc3NlZCBpbiBhbiBhcnJheVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtZXJnZUxpc3RzKHZhbHVlczogYW55W10pIHtcbiAgICByZXR1cm4gYXNMaXN0KFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJtZXJnZVwiLCBsaXN0T2YobGlzdE9mKGFueVZhbHVlKSkpKC4uLnZhbHVlcylcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvbWVyZ2UuaHRtbCBtZXJnZX0gdGFrZXMgYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBtYXBzIG9yIG9iamVjdHMsIGFuZCByZXR1cm5zIGEgc2luZ2xlIG1hcCBvciBvYmplY3QgdGhhdCBjb250YWlucyBhIG1lcmdlZCBzZXQgb2YgZWxlbWVudHMgZnJvbSBhbGwgYXJndW1lbnRzLlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgLSBBcmd1bWVudHMgYXJlIHBhc3NlZCBpbiBhbiBhcnJheVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtZXJnZU1hcHModmFsdWVzOiBhbnlbXSkge1xuICAgIHJldHVybiBhc1N0cmluZ01hcChcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwibWVyZ2VcIiwgbGlzdE9mKG1hcFZhbHVlKGFueVZhbHVlKSkpKC4uLnZhbHVlcylcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvb25lLmh0bWwgb25lfSB0YWtlcyBhIGxpc3QsIHNldCwgb3IgdHVwbGUgdmFsdWUgd2l0aCBlaXRoZXIgemVybyBvciBvbmUgZWxlbWVudHMuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGxpc3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgb25lKGxpc3Q6IGFueVtdIHwgc3RyaW5nIHwgSVJlc29sdmFibGUpIHtcbiAgICByZXR1cm4gYXNBbnkodGVycmFmb3JtRnVuY3Rpb24oXCJvbmVcIiwgW2xpc3RPZihhbnlWYWx1ZSldKShsaXN0KSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9yYW5nZS5odG1sIHJhbmdlfSBnZW5lcmF0ZXMgYSBsaXN0IG9mIG51bWJlcnMgdXNpbmcgYSBzdGFydCB2YWx1ZSwgYSBsaW1pdCB2YWx1ZSwgYW5kIGEgc3RlcCB2YWx1ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdFxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyByYW5nZShzdGFydDogbnVtYmVyLCBsaW1pdDogbnVtYmVyLCBzdGVwID0gMSkge1xuICAgIHJldHVybiBhc0xpc3QoXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcInJhbmdlXCIsIGxpc3RPZihhbnlWYWx1ZSkpKHN0YXJ0LCBsaW1pdCwgc3RlcClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvcmV2ZXJzZS5odG1sIHJldmVyc2V9IHRha2VzIGEgc2VxdWVuY2UgYW5kIHByb2R1Y2VzIGEgbmV3IHNlcXVlbmNlIG9mIHRoZSBzYW1lIGxlbmd0aCB3aXRoIGFsbCBvZiB0aGUgc2FtZSBlbGVtZW50cyBhcyB0aGUgZ2l2ZW4gc2VxdWVuY2UgYnV0IGluIHJldmVyc2Ugb3JkZXIuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyByZXZlcnNlKHZhbHVlczogYW55W10gfCBJUmVzb2x2YWJsZSkge1xuICAgIHJldHVybiBhc0xpc3QodGVycmFmb3JtRnVuY3Rpb24oXCJyZXZlcnNlXCIsIFtsaXN0T2YoYW55VmFsdWUpXSkodmFsdWVzKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9zZXRpbnRlcnNlY3Rpb24uaHRtbCBzZXRpbnRlcnNlY3Rpb259IGZ1bmN0aW9uIHRha2VzIG11bHRpcGxlIHNldHMgYW5kIHByb2R1Y2VzIGEgc2luZ2xlIHNldCBjb250YWluaW5nIG9ubHkgdGhlIGVsZW1lbnRzIHRoYXQgYWxsIG9mIHRoZSBnaXZlbiBzZXRzIGhhdmUgaW4gY29tbW9uXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBzZXRpbnRlcnNlY3Rpb24odmFsdWVzOiBhbnlbXSkge1xuICAgIHJldHVybiBhc0xpc3QoXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcInNldGludGVyc2VjdGlvblwiLCBsaXN0T2YoYW55VmFsdWUpKSguLi52YWx1ZXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3NldHByb2R1Y3QuaHRtbCBzZXRwcm9kdWN0fSBmdW5jdGlvbiBmaW5kcyBhbGwgb2YgdGhlIHBvc3NpYmxlIGNvbWJpbmF0aW9ucyBvZiBlbGVtZW50cyBmcm9tIGFsbCBvZiB0aGUgZ2l2ZW4gc2V0cyBieSBjb21wdXRpbmcgdGhlIENhcnRlc2lhbiBwcm9kdWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgc2V0cHJvZHVjdCh2YWx1ZXM6IGFueVtdKSB7XG4gICAgcmV0dXJuIGFzTGlzdCh0ZXJyYWZvcm1GdW5jdGlvbihcInNldHByb2R1Y3RcIiwgbGlzdE9mKGFueVZhbHVlKSkoLi4udmFsdWVzKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9zbGljZS5odG1sIHNldHN1YnRyYWN0fSBmdW5jdGlvbiByZXR1cm5zIGEgbmV3IHNldCBjb250YWluaW5nIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBmaXJzdCBzZXQgdGhhdCBhcmUgbm90IHByZXNlbnQgaW4gdGhlIHNlY29uZCBzZXQuXG4gICAqIEBwYXJhbSB7QXJyYXl9IG1pbnVlbmRcbiAgICogQHBhcmFtIHtBcnJheX0gc3VidHJhaGVuZFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBzZXRzdWJ0cmFjdChcbiAgICBtaW51ZW5kOiBhbnlbXSB8IHN0cmluZyB8IElSZXNvbHZhYmxlLFxuICAgIHN1YnRyYWhlbmQ6IGFueVtdIHwgc3RyaW5nIHwgSVJlc29sdmFibGVcbiAgKSB7XG4gICAgcmV0dXJuIGFzTGlzdChcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwic2V0c3VidHJhY3RcIiwgW2xpc3RPZihhbnlWYWx1ZSksIGxpc3RPZihhbnlWYWx1ZSldKShcbiAgICAgICAgbWludWVuZCxcbiAgICAgICAgc3VidHJhaGVuZFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9zZXR1bmlvbi5odG1sIHNldHVuaW9ufSBmdW5jdGlvbiB0YWtlcyBtdWx0aXBsZSBzZXRzIGFuZCBwcm9kdWNlcyBhIHNpbmdsZSBzZXQgY29udGFpbmluZyB0aGUgZWxlbWVudHMgZnJvbSBhbGwgb2YgdGhlIGdpdmVuIHNldHMuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyAtIEFyZ3VtZW50cyBhcmUgcGFzc2VkIGluIGFuIGFycmF5XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHNldHVuaW9uKHZhbHVlczogYW55W10pIHtcbiAgICByZXR1cm4gYXNMaXN0KHRlcnJhZm9ybUZ1bmN0aW9uKFwic2V0dW5pb25cIiwgbGlzdE9mKGFueVZhbHVlKSkoLi4udmFsdWVzKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9zbGljZS5odG1sIHNsaWNlfSBleHRyYWN0cyBzb21lIGNvbnNlY3V0aXZlIGVsZW1lbnRzIGZyb20gd2l0aGluIGEgbGlzdC5cbiAgICogQHBhcmFtIHtBcnJheX0gbGlzdFxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRpbmRleFxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kaW5kZXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgc2xpY2UoXG4gICAgbGlzdDogYW55W10gfCBzdHJpbmcgfCBJUmVzb2x2YWJsZSxcbiAgICBzdGFydGluZGV4OiBudW1iZXIsXG4gICAgZW5kaW5kZXg6IG51bWJlclxuICApIHtcbiAgICByZXR1cm4gYXNMaXN0KFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJzbGljZVwiLCBbXG4gICAgICAgIGxpc3RPZihhbnlWYWx1ZSksXG4gICAgICAgIG51bWVyaWNWYWx1ZSxcbiAgICAgICAgbnVtZXJpY1ZhbHVlLFxuICAgICAgXSkobGlzdCwgc3RhcnRpbmRleCwgZW5kaW5kZXgpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3NvcnQuaHRtbCBzb3J0fSB0YWtlcyBhIGxpc3Qgb2Ygc3RyaW5ncyBhbmQgcmV0dXJucyBhIG5ldyBsaXN0IHdpdGggdGhvc2Ugc3RyaW5ncyBzb3J0ZWQgbGV4aWNvZ3JhcGhpY2FsbHkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGxpc3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgc29ydChsaXN0OiBhbnlbXSB8IHN0cmluZyB8IElSZXNvbHZhYmxlKSB7XG4gICAgcmV0dXJuIGFzTGlzdCh0ZXJyYWZvcm1GdW5jdGlvbihcInNvcnRcIiwgW2xpc3RPZihhbnlWYWx1ZSldKShsaXN0KSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9zdW0uaHRtbCBzdW19IHRha2VzIGEgbGlzdCBvciBzZXQgb2YgbnVtYmVycyBhbmQgcmV0dXJucyB0aGUgc3VtIG9mIHRob3NlIG51bWJlcnMuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGxpc3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgc3VtKGxpc3Q6IGFueVtdIHwgc3RyaW5nIHwgSVJlc29sdmFibGUpIHtcbiAgICByZXR1cm4gYXNOdW1iZXIodGVycmFmb3JtRnVuY3Rpb24oXCJzdW1cIiwgW2xpc3RPZihhbnlWYWx1ZSldKShsaXN0KSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy90cmFuc3Bvc2UuaHRtbCB0cmFuc3Bvc2V9IHRha2VzIGEgbWFwIG9mIGxpc3RzIG9mIHN0cmluZ3MgYW5kIHN3YXBzIHRoZSBrZXlzIGFuZCB2YWx1ZXMgdG8gcHJvZHVjZSBhIG5ldyBtYXAgb2YgbGlzdHMgb2Ygc3RyaW5ncy5cbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHRyYW5zcG9zZSh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIGFzQW55KHRlcnJhZm9ybUZ1bmN0aW9uKFwidHJhbnNwb3NlXCIsIFttYXBWYWx1ZV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy92YWx1ZXMuaHRtbCB2YWx1ZXN9IHRha2VzIGEgbWFwIGFuZCByZXR1cm5zIGEgbGlzdCBjb250YWluaW5nIHRoZSB2YWx1ZXMgb2YgdGhlIGVsZW1lbnRzIGluIHRoYXQgbWFwLlxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdmFsdWVzKHZhbHVlOiBhbnkpIHtcbiAgICByZXR1cm4gYXNMaXN0KHRlcnJhZm9ybUZ1bmN0aW9uKFwidmFsdWVzXCIsIFttYXBWYWx1ZV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy96aXBtYXAuaHRtbCB6aXBtYXB9IGNvbnN0cnVjdHMgYSBtYXAgZnJvbSBhIGxpc3Qgb2Yga2V5cyBhbmQgYSBjb3JyZXNwb25kaW5nIGxpc3Qgb2YgdmFsdWVzLlxuICAgKiBAcGFyYW0ge0FycmF5fSBrZXlzbGlzdFxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXNsaXN0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHppcG1hcChcbiAgICBrZXlzbGlzdDogYW55W10gfCBJUmVzb2x2YWJsZSxcbiAgICB2YWx1ZXNsaXN0OiBhbnlbXSB8IElSZXNvbHZhYmxlXG4gICkge1xuICAgIHJldHVybiBhc0FueSh0ZXJyYWZvcm1GdW5jdGlvbihcInppcG1hcFwiLCBbbWFwVmFsdWVdKShrZXlzbGlzdCwgdmFsdWVzbGlzdCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvYmFzZTY0c2hhMjU2Lmh0bWwgYmFzZTY0c2hhMjU2fSBjb21wdXRlcyB0aGUgU0hBMjU2IGhhc2ggb2YgYSBnaXZlbiBzdHJpbmcgYW5kIGVuY29kZXMgaXQgd2l0aCBCYXNlNjQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBiYXNlNjRzaGEyNTYodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcImJhc2U2NHNoYTI1NlwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvYmFzZTY0c2hhNTEyLmh0bWwgYmFzZTY0c2hhNTEyfSBjb21wdXRlcyB0aGUgU0hBNTEyIGhhc2ggb2YgYSBnaXZlbiBzdHJpbmcgYW5kIGVuY29kZXMgaXQgd2l0aCBCYXNlNjQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBiYXNlNjRzaGE1MTIodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcImJhc2U2NHNoYTUxMlwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvYmNyeXB0Lmh0bWwgYmNyeXB0fSBjb21wdXRlcyBhIGhhc2ggb2YgdGhlIGdpdmVuIHN0cmluZyB1c2luZyB0aGUgQmxvd2Zpc2ggY2lwaGVyLCByZXR1cm5pbmcgYSBzdHJpbmcgaW4gdGhlIE1vZHVsYXIgQ3J5cHQgRm9ybWF0IHVzdWFsbHkgZXhwZWN0ZWQgaW4gdGhlIHNoYWRvdyBwYXNzd29yZCBmaWxlIG9uIG1hbnkgVW5peCBzeXN0ZW1zLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvc3RcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgYmNyeXB0KHZhbHVlOiBzdHJpbmcsIGNvc3Q/OiBudW1iZXIpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcodGVycmFmb3JtRnVuY3Rpb24oXCJiY3J5cHRcIiwgbGlzdE9mKGFueVZhbHVlKSkodmFsdWUsIGNvc3QpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2ZpbGViYXNlNjRzaGEyNTYuaHRtbCBmaWxlYmFzZTY0c2hhMjU2fSBpcyBhIHZhcmlhbnQgb2YgYmFzZTY0c2hhMjU2IHRoYXQgaGFzaGVzIHRoZSBjb250ZW50cyBvZiBhIGdpdmVuIGZpbGUgcmF0aGVyIHRoYW4gYSBsaXRlcmFsIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGZpbGViYXNlNjRzaGEyNTYodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyhcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwiZmlsZWJhc2U2NHNoYTI1NlwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvZmlsZWJhc2U2NHNoYTUxMi5odG1sIGZpbGViYXNlNjRzaGE1MTJ9IGlzIGEgdmFyaWFudCBvZiBiYXNlNjRzaGE1MTIgdGhhdCBoYXNoZXMgdGhlIGNvbnRlbnRzIG9mIGEgZ2l2ZW4gZmlsZSByYXRoZXIgdGhhbiBhIGxpdGVyYWwgc3RyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZmlsZWJhc2U2NHNoYTUxMih2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJmaWxlYmFzZTY0c2hhNTEyXCIsIFtzdHJpbmdWYWx1ZV0pKHZhbHVlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9maWxlbWQ1Lmh0bWwgZmlsZW1kNX0gaXMgYSB2YXJpYW50IG9mIG1kNSB0aGF0IGhhc2hlcyB0aGUgY29udGVudHMgb2YgYSBnaXZlbiBmaWxlIHJhdGhlciB0aGFuIGEgbGl0ZXJhbCBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBmaWxlbWQ1KHZhbHVlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcodGVycmFmb3JtRnVuY3Rpb24oXCJmaWxlbWQ1XCIsIFtzdHJpbmdWYWx1ZV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9maWxlc2hhMS5odG1sIGZpbGVzaGExfSBpcyBhIHZhcmlhbnQgb2Ygc2hhMSB0aGF0IGhhc2hlcyB0aGUgY29udGVudHMgb2YgYSBnaXZlbiBmaWxlIHJhdGhlciB0aGFuIGEgbGl0ZXJhbCBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBmaWxlc2hhMSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKHRlcnJhZm9ybUZ1bmN0aW9uKFwiZmlsZXNoYTFcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2ZpbGVzaGEyNTYuaHRtbCBmaWxlc2hhMjU2fSBpcyBhIHZhcmlhbnQgb2Ygc2hhMjU2IHRoYXQgaGFzaGVzIHRoZSBjb250ZW50cyBvZiBhIGdpdmVuIGZpbGUgcmF0aGVyIHRoYW4gYSBsaXRlcmFsIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGZpbGVzaGEyNTYodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcImZpbGVzaGEyNTZcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2ZpbGVzaGE1MTIuaHRtbCBmaWxlc2hhNTEyfSBpcyBhIHZhcmlhbnQgb2Ygc2hhNTEyIHRoYXQgaGFzaGVzIHRoZSBjb250ZW50cyBvZiBhIGdpdmVuIGZpbGUgcmF0aGVyIHRoYW4gYSBsaXRlcmFsIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGZpbGVzaGE1MTIodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcImZpbGVzaGE1MTJcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL21kNS5odG1sIG1kNX0gY29tcHV0ZXMgdGhlIE1ENSBoYXNoIG9mIGEgZ2l2ZW4gc3RyaW5nIGFuZCBlbmNvZGVzIGl0IHdpdGggaGV4YWRlY2ltYWwgZGlnaXRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbWQ1KHZhbHVlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcodGVycmFmb3JtRnVuY3Rpb24oXCJtZDVcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3JzYWRlY3J5cHQuaHRtbCByc2FkZWNyeXB0fSBkZWNyeXB0cyBhbiBSU0EtZW5jcnlwdGVkIGNpcGhlcnRleHQsIHJldHVybmluZyB0aGUgY29ycmVzcG9uZGluZyBjbGVhcnRleHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaXBoZXJ0ZXh0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcml2YXRla2V5XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHJzYWRlY3J5cHQoY2lwaGVydGV4dDogc3RyaW5nLCBwcml2YXRla2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcoXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcInJzYWRlY3J5cHRcIiwgW3N0cmluZ1ZhbHVlLCBzdHJpbmdWYWx1ZV0pKFxuICAgICAgICBjaXBoZXJ0ZXh0LFxuICAgICAgICBwcml2YXRla2V5XG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3NoYTEuaHRtbCBzaGExfSBjb21wdXRlcyB0aGUgU0hBMSBoYXNoIG9mIGEgZ2l2ZW4gc3RyaW5nIGFuZCBlbmNvZGVzIGl0IHdpdGggaGV4YWRlY2ltYWwgZGlnaXRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgc2hhMSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKHRlcnJhZm9ybUZ1bmN0aW9uKFwic2hhMVwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvc2hhMjU2Lmh0bWwgc2hhMjU2fSBjb21wdXRlcyB0aGUgU0hBMjU2IGhhc2ggb2YgYSBnaXZlbiBzdHJpbmcgYW5kIGVuY29kZXMgaXQgd2l0aCBoZXhhZGVjaW1hbCBkaWdpdHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBzaGEyNTYodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcInNoYTI1NlwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvc2hhNTEyLmh0bWwgc2hhNTEyfSBjb21wdXRlcyB0aGUgU0hBNTEyIGhhc2ggb2YgYSBnaXZlbiBzdHJpbmcgYW5kIGVuY29kZXMgaXQgd2l0aCBoZXhhZGVjaW1hbCBkaWdpdHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBzaGE1MTIodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcInNoYTUxMlwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvdXVpZC5odG1sIHV1aWR9IGdlbmVyYXRlcyBhIHVuaXF1ZSBpZGVudGlmaWVyIHN0cmluZy5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdXVpZCgpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcodGVycmFmb3JtRnVuY3Rpb24oXCJ1dWlkXCIsIFtdKSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3V1aWR2NS5odG1sIHV1aWR2NX0gZ2VuZXJhdGVzIGEgdW5pcXVlIGlkZW50aWZpZXIgc3RyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZXNwYWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHV1aWR2NShuYW1lc3BhY2U6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJ1dWlkdjVcIiwgW3N0cmluZ1ZhbHVlLCBzdHJpbmdWYWx1ZV0pKG5hbWVzcGFjZSwgbmFtZSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvZm9ybWF0ZGF0ZS5odG1sIGZvcm1hdGRhdGV9IGNvbnZlcnRzIGEgdGltZXN0YW1wIGludG8gYSBkaWZmZXJlbnQgdGltZSBmb3JtYXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcGVjXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0aW1lc3RhbXBcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZm9ybWF0ZGF0ZShzcGVjOiBzdHJpbmcsIHRpbWVzdGFtcDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJmb3JtYXRkYXRlXCIsIFtzdHJpbmdWYWx1ZSwgc3RyaW5nVmFsdWVdKShcbiAgICAgICAgc3BlYyxcbiAgICAgICAgdGltZXN0YW1wXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3RpbWVhZGQuaHRtbCB0aW1lYWRkfSBhZGRzIGEgZHVyYXRpb24gdG8gYSB0aW1lc3RhbXAsIHJldHVybmluZyBhIG5ldyB0aW1lc3RhbXAuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0aW1lc3RhbXBcbiAgICogQHBhcmFtIHtzdHJpbmd9IGR1cmF0aW9uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHRpbWVhZGQodGltZXN0YW1wOiBzdHJpbmcsIGR1cmF0aW9uOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcoXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcInRpbWVhZGRcIiwgW3N0cmluZ1ZhbHVlLCBzdHJpbmdWYWx1ZV0pKFxuICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgIGR1cmF0aW9uXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3RpbWVzdGFtcC5odG1sIHRpbWVzdGFtcH0gcmV0dXJucyBhIFVUQyB0aW1lc3RhbXAgc3RyaW5nIGluIFJGQyAzMzM5IGZvcm1hdC5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdGltZXN0YW1wKCkge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcInRpbWVzdGFtcFwiLCBbXSkoKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9iYXNlNjRkZWNvZGUuaHRtbCBiYXNlNjRkZWNvZGV9IHRha2VzIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBCYXNlNjQgY2hhcmFjdGVyIHNlcXVlbmNlIGFuZCByZXR1cm5zIHRoZSBvcmlnaW5hbCBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBiYXNlNjRkZWNvZGUodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcImJhc2U2NGRlY29kZVwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvYmFzZTY0ZW5jb2RlLmh0bWwgYmFzZTY0ZW5jb2RlfSB0YWtlcyBhIHN0cmluZyBjb250YWluaW5nIGEgQmFzZTY0IGNoYXJhY3RlciBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgb3JpZ2luYWwgc3RyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgYmFzZTY0ZW5jb2RlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcodGVycmFmb3JtRnVuY3Rpb24oXCJiYXNlNjRlbmNvZGVcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2Jhc2U2NGd6aXAuaHRtbCBiYXNlNjRnemlwfSBjb21wcmVzc2VzIGEgc3RyaW5nIHdpdGggZ3ppcCBhbmQgdGhlbiBlbmNvZGVzIHRoZSByZXN1bHQgaW4gQmFzZTY0IGVuY29kaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgYmFzZTY0Z3ppcCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKHRlcnJhZm9ybUZ1bmN0aW9uKFwiYmFzZTY0Z3ppcFwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvY3N2ZGVjb2RlLmh0bWwgY3N2ZGVjb2RlfSBkZWNvZGVzIGEgc3RyaW5nIGNvbnRhaW5pbmcgQ1NWLWZvcm1hdHRlZCBkYXRhIGFuZCBwcm9kdWNlcyBhIGxpc3Qgb2YgbWFwcyByZXByZXNlbnRpbmcgdGhhdCBkYXRhLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgY3N2ZGVjb2RlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNMaXN0KHRlcnJhZm9ybUZ1bmN0aW9uKFwiY3N2ZGVjb2RlXCIsIFtzdHJpbmdWYWx1ZV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9qc29uZGVjb2RlLmh0bWwganNvbmRlY29kZX0gaW50ZXJwcmV0cyBhIGdpdmVuIHN0cmluZyBhcyBKU09OLCByZXR1cm5pbmcgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmVzdWx0IG9mIGRlY29kaW5nIHRoYXQgc3RyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMganNvbmRlY29kZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzQW55KHRlcnJhZm9ybUZ1bmN0aW9uKFwianNvbmRlY29kZVwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvanNvbmVuY29kZS5odG1sIGpzb25lbmNvZGV9IGVuY29kZXMgYSBnaXZlbiB2YWx1ZSB0byBhIHN0cmluZyB1c2luZyBKU09OIHN5bnRheC5cbiAgICogQHBhcmFtIHthbnl9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGpzb25lbmNvZGUodmFsdWU6IGFueSkge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcImpzb25lbmNvZGVcIiwgW2FueVZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3RleHRkZWNvZGViYXNlNjQuaHRtbCB0ZXh0ZGVjb2RlYmFzZTY0fSBmdW5jdGlvbiBkZWNvZGVzIGEgc3RyaW5nIHRoYXQgd2FzIHByZXZpb3VzbHkgQmFzZTY0LWVuY29kZWQsIGFuZCB0aGVuIGludGVycHJldHMgdGhlIHJlc3VsdCBhcyBjaGFyYWN0ZXJzIGluIGEgc3BlY2lmaWVkIGNoYXJhY3RlciBlbmNvZGluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZ05hbWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdGV4dGRlY29kZWJhc2U2NCh2YWx1ZTogc3RyaW5nLCBlbmNvZGluZ05hbWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyhcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwidGV4dGRlY29kZWJhc2U2NFwiLCBbc3RyaW5nVmFsdWUsIHN0cmluZ1ZhbHVlXSkoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBlbmNvZGluZ05hbWVcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvdGV4dGVuY29kZWJhc2U2NC5odG1sIHRleHRlbmNvZGViYXNlNjR9ICBlbmNvZGVzIHRoZSB1bmljb2RlIGNoYXJhY3RlcnMgaW4gYSBnaXZlbiBzdHJpbmcgdXNpbmcgYSBzcGVjaWZpZWQgY2hhcmFjdGVyIGVuY29kaW5nLCByZXR1cm5pbmcgdGhlIHJlc3VsdCBiYXNlNjQgZW5jb2RlZCBiZWNhdXNlIFRlcnJhZm9ybSBsYW5ndWFnZSBzdHJpbmdzIGFyZSBhbHdheXMgc2VxdWVuY2VzIG9mIHVuaWNvZGUgY2hhcmFjdGVycy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZ05hbWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdGV4dGVuY29kZWJhc2U2NCh2YWx1ZTogc3RyaW5nLCBlbmNvZGluZ05hbWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyhcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwidGV4dGVuY29kZWJhc2U2NFwiLCBbc3RyaW5nVmFsdWUsIHN0cmluZ1ZhbHVlXSkoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBlbmNvZGluZ05hbWVcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvdXJsZW5jb2RlLmh0bWwgdXJsZW5jb2RlfSBhcHBsaWVzIFVSTCBlbmNvZGluZyB0byBhIGdpdmVuIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHVybGVuY29kZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKHRlcnJhZm9ybUZ1bmN0aW9uKFwidXJsZW5jb2RlXCIsIFtzdHJpbmdWYWx1ZV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy95YW1sZGVjb2RlLmh0bWwgeWFtbGRlY29kZX0gcGFyc2VzIGEgc3RyaW5nIGFzIGEgc3Vic2V0IG9mIFlBTUwsIGFuZCBwcm9kdWNlcyBhIHJlcHJlc2VudGF0aW9uIG9mIGl0cyB2YWx1ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHlhbWxkZWNvZGUodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc0FueSh0ZXJyYWZvcm1GdW5jdGlvbihcInlhbWxkZWNvZGVcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3lhbWxlbmNvZGUuaHRtbCB5YW1sZW5jb2RlfSBlbmNvZGVzIGEgZ2l2ZW4gdmFsdWUgdG8gYSBzdHJpbmcgdXNpbmcgSlNPTiBzeW50YXguXG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB5YW1sZW5jb2RlKHZhbHVlOiBhbnkpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcodGVycmFmb3JtRnVuY3Rpb24oXCJ5YW1sZW5jb2RlXCIsIFthbnlWYWx1ZV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9hYnNwYXRoLmh0bWwgYWJzcGF0aH0gdGFrZXMgYSBzdHJpbmcgY29udGFpbmluZyBhIGZpbGVzeXN0ZW0gcGF0aCBhbmQgY29udmVydHMgaXQgdG8gYW4gYWJzb2x1dGUgcGF0aC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGFic3BhdGgodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcImFic3BhdGhcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2Rpcm5hbWUuaHRtbCBkaXJuYW1lfSB0YWtlcyBhIHN0cmluZyBjb250YWluaW5nIGEgZmlsZXN5c3RlbSBwYXRoIGFuZCByZW1vdmVzIHRoZSBsYXN0IHBvcnRpb24gZnJvbSBpdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGRpcm5hbWUodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcImRpcm5hbWVcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3BhdGhleHBhbmQuaHRtbCBwYXRoZXhwYW5kfSB0YWtlcyBhIHN0cmluZyBjb250YWluaW5nIGEgZmlsZXN5c3RlbSBwYXRoIGFuZCByZW1vdmVzIHRoZSBsYXN0IHBvcnRpb24gZnJvbSBpdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHBhdGhleHBhbmQodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcInBhdGhleHBhbmRcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2Jhc2VuYW1lLmh0bWwgYmFzZW5hbWV9IHRha2VzIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBmaWxlc3lzdGVtIHBhdGggYW5kIHJlbW92ZXMgYWxsIGV4Y2VwdCB0aGUgbGFzdCBwb3J0aW9uIGZyb20gaXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBiYXNlbmFtZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKHRlcnJhZm9ybUZ1bmN0aW9uKFwiYmFzZW5hbWVcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2ZpbGUuaHRtbCBmaWxlfSB0YWtlcyBhIHN0cmluZyBjb250YWluaW5nIGEgZmlsZXN5c3RlbSBwYXRoIGFuZCByZW1vdmVzIGFsbCBleGNlcHQgdGhlIGxhc3QgcG9ydGlvbiBmcm9tIGl0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZmlsZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKHRlcnJhZm9ybUZ1bmN0aW9uKFwiZmlsZVwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvZmlsZWV4aXN0cy5odG1sIGZpbGVleGlzdHN9IGRldGVybWluZXMgd2hldGhlciBhIGZpbGUgZXhpc3RzIGF0IGEgZ2l2ZW4gcGF0aC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGZpbGVleGlzdHModmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc0Jvb2xlYW4odGVycmFmb3JtRnVuY3Rpb24oXCJmaWxlZXhpc3RzXCIsIFtzdHJpbmdWYWx1ZV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9maWxlc2V0Lmh0bWwgZmlsZXNldH0gZW51bWVyYXRlcyBhIHNldCBvZiByZWd1bGFyIGZpbGUgbmFtZXMgZ2l2ZW4gYSBwYXRoIGFuZCBwYXR0ZXJuLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVyblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBmaWxlc2V0KHBhdGg6IHN0cmluZywgcGF0dGVybjogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzTGlzdChcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwiZmlsZXNldFwiLCBbc3RyaW5nVmFsdWUsIHN0cmluZ1ZhbHVlXSkocGF0aCwgcGF0dGVybilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvZmlsZWJhc2U2NC5odG1sIGZpbGViYXNlNjR9IHJlYWRzIHRoZSBjb250ZW50cyBvZiBhIGZpbGUgYXQgdGhlIGdpdmVuIHBhdGggYW5kIHJldHVybnMgdGhlbSBhcyBhIGJhc2U2NC1lbmNvZGVkIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGZpbGViYXNlNjQodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcImZpbGViYXNlNjRcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3RlbXBsYXRlZmlsZS5odG1sIHRlbXBsYXRlZmlsZX0gcmVhZHMgdGhlIGZpbGUgYXQgdGhlIGdpdmVuIHBhdGggYW5kIHJlbmRlcnMgaXRzIGNvbnRlbnQgYXMgYSB0ZW1wbGF0ZSB1c2luZyBhIHN1cHBsaWVkIHNldCBvZiB0ZW1wbGF0ZSB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YXJzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHRlbXBsYXRlZmlsZShwYXRoOiBzdHJpbmcsIHZhcnM6IGFueSkge1xuICAgIHJldHVybiBhc1N0cmluZyhcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwidGVtcGxhdGVmaWxlXCIsIFtzdHJpbmdWYWx1ZSwgbWFwVmFsdWVdKShwYXRoLCB2YXJzKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9jaWRyaG9zdC5odG1sIGNpZHJob3N0fSBjYWxjdWxhdGVzIGEgZnVsbCBob3N0IElQIGFkZHJlc3MgZm9yIGEgZ2l2ZW4gaG9zdCBudW1iZXIgd2l0aGluIGEgZ2l2ZW4gSVAgbmV0d29yayBhZGRyZXNzIHByZWZpeC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gaG9zdG51bVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBjaWRyaG9zdChwcmVmaXg6IHN0cmluZywgaG9zdG51bTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJjaWRyaG9zdFwiLCBbc3RyaW5nVmFsdWUsIG51bWVyaWNWYWx1ZV0pKFxuICAgICAgICBwcmVmaXgsXG4gICAgICAgIGhvc3RudW1cbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvY2lkcm5ldG1hc2suaHRtbCBjaWRybmV0bWFza30gY29udmVydHMgYW4gSVB2NCBhZGRyZXNzIHByZWZpeCBnaXZlbiBpbiBDSURSIG5vdGF0aW9uIGludG8gYSBzdWJuZXQgbWFzayBhZGRyZXNzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGNpZHJuZXRtYXNrKHByZWZpeDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKHRlcnJhZm9ybUZ1bmN0aW9uKFwiY2lkcm5ldG1hc2tcIiwgW3N0cmluZ1ZhbHVlXSkocHJlZml4KSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9jaWRyc3VibmV0Lmh0bWwgY2lkcnN1Ym5ldH0gY2FsY3VsYXRlcyBhIHN1Ym5ldCBhZGRyZXNzIHdpdGhpbiBnaXZlbiBJUCBuZXR3b3JrIGFkZHJlc3MgcHJlZml4LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuZXdiaXRzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuZXRudW1cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgY2lkcnN1Ym5ldChwcmVmaXg6IHN0cmluZywgbmV3Yml0czogbnVtYmVyLCBuZXRudW06IG51bWJlcikge1xuICAgIHJldHVybiBhc1N0cmluZyhcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwiY2lkcnN1Ym5ldFwiLCBbXG4gICAgICAgIHN0cmluZ1ZhbHVlLFxuICAgICAgICBudW1lcmljVmFsdWUsXG4gICAgICAgIG51bWVyaWNWYWx1ZSxcbiAgICAgIF0pKHByZWZpeCwgbmV3Yml0cywgbmV0bnVtKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9jaWRyc3VibmV0cy5odG1sIGNpZHJzdWJuZXRzfSBjYWxjdWxhdGVzIGEgc2VxdWVuY2Ugb2YgY29uc2VjdXRpdmUgSVAgYWRkcmVzcyByYW5nZXMgd2l0aGluIGEgcGFydGljdWxhciBDSURSIHByZWZpeC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeFxuICAgKiBAcGFyYW0gey4uLm51bWJlcn0gbmV3Yml0c1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBjaWRyc3VibmV0cyhwcmVmaXg6IHN0cmluZywgbmV3Yml0czogbnVtYmVyW10pIHtcbiAgICByZXR1cm4gYXNMaXN0KFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJjaWRyc3VibmV0c1wiLCBsaXN0T2YoYW55VmFsdWUpKShwcmVmaXgsIC4uLm5ld2JpdHMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2Ficy5odG1sIGFic30gcmV0dXJucyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhlIGdpdmVuIG51bWJlclxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgYWJzKHZhbHVlOiBudW1iZXIpIHtcbiAgICByZXR1cm4gYXNOdW1iZXIodGVycmFmb3JtRnVuY3Rpb24oXCJhYnNcIiwgW251bWVyaWNWYWx1ZV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9jZWlsLmh0bWwgY2VpbH0gcmV0dXJucyB0aGUgY2xvc2VzdCB3aG9sZSBudW1iZXIgdGhhdCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGdpdmVuIHZhbHVlLCB3aGljaCBtYXkgYmUgYSBmcmFjdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGNlaWwodmFsdWU6IG51bWJlcikge1xuICAgIHJldHVybiBhc051bWJlcih0ZXJyYWZvcm1GdW5jdGlvbihcImNlaWxcIiwgW251bWVyaWNWYWx1ZV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9mbG9vci5odG1sIGZsb29yfSByZXR1cm5zIHRoZSBjbG9zZXN0IHdob2xlIG51bWJlciB0aGF0IGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgZ2l2ZW4gdmFsdWUsIHdoaWNoIG1heSBiZSBhIGZyYWN0aW9uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBmbG9vcih2YWx1ZTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIGFzTnVtYmVyKHRlcnJhZm9ybUZ1bmN0aW9uKFwiZmxvb3JcIiwgW251bWVyaWNWYWx1ZV0pKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9sb2cuaHRtbCBsb2d9IHJldHVybnMgdGhlIGxvZ2FyaXRobSBvZiBhIGdpdmVuIG51bWJlciBpbiBhIGdpdmVuIGJhc2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gYmFzZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBsb2codmFsdWU6IG51bWJlciwgYmFzZTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIGFzTnVtYmVyKFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJsb2dcIiwgW251bWVyaWNWYWx1ZSwgbnVtZXJpY1ZhbHVlXSkodmFsdWUsIGJhc2UpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL21heC5odG1sIG1heH0gdGFrZXMgb25lIG9yIG1vcmUgbnVtYmVycyBhbmQgcmV0dXJucyB0aGUgZ3JlYXRlc3QgbnVtYmVyIGZyb20gdGhlIHNldC5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB2YWx1ZXNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbWF4KHZhbHVlczogbnVtYmVyW10pIHtcbiAgICByZXR1cm4gYXNOdW1iZXIodGVycmFmb3JtRnVuY3Rpb24oXCJtYXhcIiwgbGlzdE9mKG51bWVyaWNWYWx1ZSkpKC4uLnZhbHVlcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvbWluLmh0bWwgbWlufSB0YWtlcyBvbmUgb3IgbW9yZSBudW1iZXJzIGFuZCByZXR1cm5zIHRoZSBzbWFsbGVzdCBudW1iZXIgZnJvbSB0aGUgc2V0LlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHZhbHVlc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtaW4odmFsdWVzOiBudW1iZXJbXSkge1xuICAgIHJldHVybiBhc051bWJlcih0ZXJyYWZvcm1GdW5jdGlvbihcIm1pblwiLCBsaXN0T2YobnVtZXJpY1ZhbHVlKSkoLi4udmFsdWVzKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9wYXJzZWludC5odG1sIHBhcnNlSW50fSBwYXJzZXMgdGhlIGdpdmVuIHN0cmluZyBhcyBhIHJlcHJlc2VudGF0aW9uIG9mIGFuIGludGVnZXIgaW4gdGhlIHNwZWNpZmllZCBiYXNlIGFuZCByZXR1cm5zIHRoZSByZXN1bHRpbmcgbnVtYmVyLiBUaGUgYmFzZSBtdXN0IGJlIGJldHdlZW4gMiBhbmQgNjIgaW5jbHVzaXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJhc2VcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgcGFyc2VJbnQodmFsdWU6IHN0cmluZywgYmFzZTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIGFzTnVtYmVyKFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJwYXJzZWludFwiLCBbc3RyaW5nVmFsdWUsIG51bWVyaWNWYWx1ZV0pKHZhbHVlLCBiYXNlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9wb3cuaHRtbCBwb3d9IGNhbGN1bGF0ZXMgYW4gZXhwb25lbnQsIGJ5IHJhaXNpbmcgaXRzIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwb3dlciBvZiB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBvd2VyXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHBvdyh2YWx1ZTogbnVtYmVyLCBwb3dlcjogbnVtYmVyKSB7XG4gICAgcmV0dXJuIGFzTnVtYmVyKFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJwb3dcIiwgW251bWVyaWNWYWx1ZSwgbnVtZXJpY1ZhbHVlXSkodmFsdWUsIHBvd2VyKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9zaWdudW0uaHRtbCBzaWdudW19IGRldGVybWluZXMgdGhlIHNpZ24gb2YgYSBudW1iZXIsIHJldHVybmluZyBhIG51bWJlciBiZXR3ZWVuIC0xIGFuZCAxIHRvIHJlcHJlc2VudCB0aGUgc2lnbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHNpZ251bSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIGFzTnVtYmVyKHRlcnJhZm9ybUZ1bmN0aW9uKFwic2lnbnVtXCIsIFtudW1lcmljVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvY2hvbXAuaHRtbCBjaG9tcH0gcmVtb3ZlcyBuZXdsaW5lIGNoYXJhY3RlcnMgYXQgdGhlIGVuZCBvZiBhIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGNob21wKHZhbHVlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcodGVycmFmb3JtRnVuY3Rpb24oXCJjaG9tcFwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvZm9ybWF0Lmh0bWwgZm9ybWF0fSBwcm9kdWNlcyBhIHN0cmluZyBieSBmb3JtYXR0aW5nIGEgbnVtYmVyIG9mIG90aGVyIHZhbHVlcyBhY2NvcmRpbmcgdG8gYSBzcGVjaWZpY2F0aW9uIHN0cmluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gc3BlY1xuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZm9ybWF0KHNwZWM6IHN0cmluZywgdmFsdWVzOiBhbnlbXSkge1xuICAgIHJldHVybiBhc1N0cmluZyhcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwiZm9ybWF0XCIsIGxpc3RPZihhbnlWYWx1ZSkpKHNwZWMsIC4uLnZhbHVlcylcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvZm9ybWF0bGlzdC5odG1sIGZvcm1hdGxpc3R9IHByb2R1Y2VzIGEgbGlzdCBvZiBzdHJpbmdzIGJ5IGZvcm1hdHRpbmcgYSBudW1iZXIgb2Ygb3RoZXIgdmFsdWVzIGFjY29yZGluZyB0byBhIHNwZWNpZmljYXRpb24gc3RyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3BlY1xuICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHZhbHVlc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBmb3JtYXRsaXN0KHNwZWM6IHN0cmluZywgdmFsdWVzOiBhbnlbXSkge1xuICAgIHJldHVybiBhc0xpc3QoXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcImZvcm1hdGxpc3RcIiwgbGlzdE9mKGFueVZhbHVlKSkoc3BlYywgLi4udmFsdWVzKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9pbmRlbnQuaHRtbCBpbmRlbnR9IGFkZHMgYSBnaXZlbiBudW1iZXIgb2Ygc3BhY2VzIHRvIHRoZSBiZWdpbm5pbmdzIG9mIGFsbCBidXQgdGhlIGZpcnN0IGxpbmUgaW4gYSBnaXZlbiBtdWx0aS1saW5lIHN0cmluZy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGVudGF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBpbmRlbnQoaW5kZW50YXRpb246IG51bWJlciwgdmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyhcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwiaW5kZW50XCIsIFtudW1lcmljVmFsdWUsIHN0cmluZ1ZhbHVlXSkoXG4gICAgICAgIGluZGVudGF0aW9uLFxuICAgICAgICB2YWx1ZVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9qb2luLmh0bWwgam9pbn0gcHJvZHVjZXMgYSBzdHJpbmcgYnkgY29uY2F0ZW5hdGluZyB0b2dldGhlciBhbGwgZWxlbWVudHMgb2YgYSBnaXZlbiBsaXN0IG9mIHN0cmluZ3Mgd2l0aCB0aGUgZ2l2ZW4gZGVsaW1pdGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VwYXJhdG9yXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGpvaW4oc2VwYXJhdG9yOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmdbXSkge1xuICAgIHJldHVybiBhc1N0cmluZyhcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwiam9pblwiLCBbc3RyaW5nVmFsdWUsIGxpc3RPZihhbnlWYWx1ZSldKShcbiAgICAgICAgc2VwYXJhdG9yLFxuICAgICAgICB2YWx1ZVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9sb3dlci5odG1sIGxvd2VyfSBjb252ZXJ0cyBhbGwgY2FzZWQgbGV0dGVycyBpbiB0aGUgZ2l2ZW4gc3RyaW5nIHRvIGxvd2VyY2FzZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGxvd2VyKHZhbHVlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcodGVycmFmb3JtRnVuY3Rpb24oXCJsb3dlclwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvcmVnZXhhbGwuaHRtbCByZWdleGFsbH0gYXBwbGllcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBhIHN0cmluZyBhbmQgcmV0dXJucyBhIGxpc3Qgb2YgYWxsIG1hdGNoZXMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXR0ZXJuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyByZWdleGFsbChwYXR0ZXJuOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNMaXN0KFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJyZWdleGFsbFwiLCBbc3RyaW5nVmFsdWUsIHN0cmluZ1ZhbHVlXSkocGF0dGVybiwgdmFsdWUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3JlZ2V4Lmh0bWwgcmVnZXh9IGFwcGxpZXMgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gYSBzdHJpbmcgYW5kIHJldHVybnMgdGhlIG1hdGNoaW5nIHN1YnN0cmluZ3MgaW4gcGF0dGVybi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdHRlcm5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHJlZ2V4KHBhdHRlcm46IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyhcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwicmVnZXhcIiwgW3N0cmluZ1ZhbHVlLCBzdHJpbmdWYWx1ZV0pKHBhdHRlcm4sIHZhbHVlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9yZXBsYWNlLmh0bWwgcmVwbGFjZX0gc2VhcmNoZXMgYSBnaXZlbiBzdHJpbmcgZm9yIGFub3RoZXIgZ2l2ZW4gc3Vic3RyaW5nLCBhbmQgcmVwbGFjZXMgZWFjaCBvY2N1cnJlbmNlIHdpdGggYSBnaXZlbiByZXBsYWNlbWVudCBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3Vic3RyaW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZXBsYWNlbWVudFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyByZXBsYWNlKHZhbHVlOiBzdHJpbmcsIHN1YnN0cmluZzogc3RyaW5nLCByZXBsYWNlbWVudDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKFxuICAgICAgdGVycmFmb3JtRnVuY3Rpb24oXCJyZXBsYWNlXCIsIFtzdHJpbmdWYWx1ZSwgc3RyaW5nVmFsdWUsIHN0cmluZ1ZhbHVlXSkoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBzdWJzdHJpbmcsXG4gICAgICAgIHJlcGxhY2VtZW50XG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3NwbGl0Lmh0bWwgc3BsaXR9IHByb2R1Y2VzIGEgbGlzdCBieSBkaXZpZGluZyBhIGdpdmVuIHN0cmluZyBhdCBhbGwgb2NjdXJyZW5jZXMgb2YgYSBnaXZlbiBzZXBhcmF0b3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXBlcmF0b3JcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHNwbGl0KHNlcGVyYXRvcjogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzTGlzdChcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwic3BsaXRcIiwgW3N0cmluZ1ZhbHVlLCBzdHJpbmdWYWx1ZV0pKHNlcGVyYXRvciwgdmFsdWUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3N0cnJldi5odG1sIHN0cnJldn0gcmV2ZXJzZXMgdGhlIGNoYXJhY3RlcnMgaW4gYSBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBzdHJyZXYodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcInN0cnJldlwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvc3Vic3RyLmh0bWwgc3Vic3RyfSBleHRyYWN0cyBhIHN1YnN0cmluZyBmcm9tIGEgZ2l2ZW4gc3RyaW5nIGJ5IG9mZnNldCBhbmQgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHN1YnN0cih2YWx1ZTogc3RyaW5nLCBvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcoXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcInN1YnN0clwiLCBbc3RyaW5nVmFsdWUsIG51bWVyaWNWYWx1ZSwgbnVtZXJpY1ZhbHVlXSkoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGxlbmd0aFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy90aXRsZS5odG1sIHRpdGxlfSBjb252ZXJ0cyB0aGUgZmlyc3QgbGV0dGVyIG9mIGVhY2ggd29yZCBpbiB0aGUgZ2l2ZW4gc3RyaW5nIHRvIHVwcGVyY2FzZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHRpdGxlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcodGVycmFmb3JtRnVuY3Rpb24oXCJ0aXRsZVwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvdHJpbS5odG1sIHRyaW19IHJlbW92ZXMgdGhlIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIGdpdmVuIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZXBsYWNlbWVudFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB0cmltKHZhbHVlOiBzdHJpbmcsIHJlcGxhY2VtZW50OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcoXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcInRyaW1cIiwgW3N0cmluZ1ZhbHVlLCBzdHJpbmdWYWx1ZV0pKHZhbHVlLCByZXBsYWNlbWVudClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvdHJpbXByZWZpeC5odG1sIHRyaW1wcmVmaXh9IHJlbW92ZXMgdGhlIHNwZWNpZmllZCBwcmVmaXggZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGdpdmVuIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdHJpbXByZWZpeCh2YWx1ZTogc3RyaW5nLCBwcmVmaXg6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyhcbiAgICAgIHRlcnJhZm9ybUZ1bmN0aW9uKFwidHJpbXByZWZpeFwiLCBbc3RyaW5nVmFsdWUsIHN0cmluZ1ZhbHVlXSkodmFsdWUsIHByZWZpeClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvdHJpbXN1ZmZpeC5odG1sIHRyaW1zdWZmaXh9IHJlbW92ZXMgdGhlIHNwZWNpZmllZCBzdWZmaXggZnJvbSB0aGUgZW5kIG9mIHRoZSBnaXZlbiBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3VmZml4XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHRyaW1zdWZmaXgodmFsdWU6IHN0cmluZywgc3VmZml4OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXNTdHJpbmcoXG4gICAgICB0ZXJyYWZvcm1GdW5jdGlvbihcInRyaW1zdWZmaXhcIiwgW3N0cmluZ1ZhbHVlLCBzdHJpbmdWYWx1ZV0pKHZhbHVlLCBzdWZmaXgpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3RyaW1zcGFjZS5odG1sIHRyaW1zcGFjZX0gcmVtb3ZlcyBhbnkgc3BhY2UgY2hhcmFjdGVycyBmcm9tIHRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSBnaXZlbiBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB0cmltc3BhY2UodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcInRyaW1zcGFjZVwiLCBbc3RyaW5nVmFsdWVdKSh2YWx1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvdXBwZXIuaHRtbCB1cHBlcn0gY29udmVydHMgYWxsIGNhc2VkIGxldHRlcnMgaW4gdGhlIGdpdmVuIHN0cmluZyB0byB1cHBlcmNhc2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB1cHBlcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFzU3RyaW5nKHRlcnJhZm9ybUZ1bmN0aW9uKFwidXBwZXJcIiwgW3N0cmluZ1ZhbHVlXSkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL2Nhbi5odG1sIGNhbn0gZXZhbHVhdGVzIHRoZSBnaXZlbiBleHByZXNzaW9uIGFuZCByZXR1cm5zIGEgYm9vbGVhbiB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24gcHJvZHVjZWQgYSByZXN1bHQgd2l0aG91dCBhbnkgZXJyb3JzLlxuICAgKiBAcGFyYW0ge2FueX0gZXhwcmVzc2lvblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBjYW4oZXhwcmVzc2lvbjogYW55KSB7XG4gICAgcmV0dXJuIGFzQm9vbGVhbih0ZXJyYWZvcm1GdW5jdGlvbihcImNhblwiLCBbYW55VmFsdWVdKShleHByZXNzaW9uKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9ub25zZW5zaXRpdmUuaHRtbCBub25zZW5zaXRpdmV9IHRha2VzIGEgc2Vuc2l0aXZlIHZhbHVlIGFuZCByZXR1cm5zIGEgY29weSBvZiB0aGF0IHZhbHVlIHdpdGggdGhlIHNlbnNpdGl2ZSBtYXJraW5nIHJlbW92ZWQsIHRoZXJlYnkgZXhwb3NpbmcgdGhlIHNlbnNpdGl2ZSB2YWx1ZS5cbiAgICogQHBhcmFtIHthbnl9IGV4cHJlc3Npb25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbm9uc2Vuc2l0aXZlKGV4cHJlc3Npb246IGFueSkge1xuICAgIHJldHVybiBhc0FueSh0ZXJyYWZvcm1GdW5jdGlvbihcIm5vbnNlbnNpdGl2ZVwiLCBbYW55VmFsdWVdKShleHByZXNzaW9uKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy9zZW5zaXRpdmUuaHRtbCBzZW5zaXRpdmV9IHRha2VzIGFueSB2YWx1ZSBhbmQgcmV0dXJucyBhIGNvcHkgb2YgaXQgbWFya2VkIHNvIHRoYXQgVGVycmFmb3JtIHdpbGwgdHJlYXQgaXQgYXMgc2Vuc2l0aXZlLCB3aXRoIHRoZSBzYW1lIG1lYW5pbmcgYW5kIGJlaGF2aW9yIGFzIGZvciBzZW5zaXRpdmUgaW5wdXQgdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge2FueX0gZXhwcmVzc2lvblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBzZW5zaXRpdmUoZXhwcmVzc2lvbjogYW55KSB7XG4gICAgcmV0dXJuIGFzQW55KHRlcnJhZm9ybUZ1bmN0aW9uKFwic2Vuc2l0aXZlXCIsIFthbnlWYWx1ZV0pKGV4cHJlc3Npb24pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3RvYm9vbC5odG1sIHRvYm9vbH0gY29udmVydHMgaXRzIGFyZ3VtZW50IHRvIGEgYm9vbGVhbiB2YWx1ZS5cbiAgICogQHBhcmFtIHthbnl9IGV4cHJlc3Npb25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdG9ib29sKGV4cHJlc3Npb246IGFueSkge1xuICAgIHJldHVybiBhc0Jvb2xlYW4odGVycmFmb3JtRnVuY3Rpb24oXCJ0b2Jvb2xcIiwgW2FueVZhbHVlXSkoZXhwcmVzc2lvbikpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvdG9saXN0Lmh0bWwgdG9saXN0fSBjb252ZXJ0cyBpdHMgYXJndW1lbnQgdG8gYSBsaXN0IHZhbHVlLlxuICAgKiBAcGFyYW0ge2FueX0gZXhwcmVzc2lvblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB0b2xpc3QoZXhwcmVzc2lvbjogYW55KSB7XG4gICAgcmV0dXJuIGFzTGlzdCh0ZXJyYWZvcm1GdW5jdGlvbihcInRvbGlzdFwiLCBbYW55VmFsdWVdKShleHByZXNzaW9uKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy90b21hcC5odG1sIHRvbWFwfSBjb252ZXJ0cyBpdHMgYXJndW1lbnQgdG8gYSBtYXAgdmFsdWUuXG4gICAqIEBwYXJhbSB7YW55fSBleHByZXNzaW9uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHRvbWFwKGV4cHJlc3Npb246IGFueSkge1xuICAgIHJldHVybiBhc0FueSh0ZXJyYWZvcm1GdW5jdGlvbihcInRvbWFwXCIsIFthbnlWYWx1ZV0pKGV4cHJlc3Npb24pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3RvbnVtYmVyLmh0bWwgdG9udW1iZXJ9IGNvbnZlcnRzIGl0cyBhcmd1bWVudCB0byBhIG51bWJlciB2YWx1ZS5cbiAgICogQHBhcmFtIHthbnl9IGV4cHJlc3Npb25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdG9udW1iZXIoZXhwcmVzc2lvbjogYW55KSB7XG4gICAgcmV0dXJuIGFzTnVtYmVyKHRlcnJhZm9ybUZ1bmN0aW9uKFwidG9udW1iZXJcIiwgW2FueVZhbHVlXSkoZXhwcmVzc2lvbikpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9sYW5ndWFnZS9mdW5jdGlvbnMvdG9zZXQuaHRtbCB0b3NldH0gY29udmVydHMgaXRzIGFyZ3VtZW50IHRvIGEgc2V0IHZhbHVlLlxuICAgKiBAcGFyYW0ge2FueX0gZXhwcmVzc2lvblxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB0b3NldChleHByZXNzaW9uOiBhbnkpIHtcbiAgICByZXR1cm4gYXNBbnkodGVycmFmb3JtRnVuY3Rpb24oXCJ0b3NldFwiLCBbYW55VmFsdWVdKShleHByZXNzaW9uKSk7XG4gIH1cblxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL2xhbmd1YWdlL2Z1bmN0aW9ucy90b3N0cmluZy5odG1sIHRvc3RyaW5nfSBjb252ZXJ0cyBpdHMgYXJndW1lbnQgdG8gYSBzdHJpbmcgdmFsdWUuXG4gICAqIEBwYXJhbSB7YW55fSBleHByZXNzaW9uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHRvc3RyaW5nKGV4cHJlc3Npb246IGFueSkge1xuICAgIHJldHVybiBhc1N0cmluZyh0ZXJyYWZvcm1GdW5jdGlvbihcInRvc3RyaW5nXCIsIFthbnlWYWx1ZV0pKGV4cHJlc3Npb24pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvbGFuZ3VhZ2UvZnVuY3Rpb25zL3RyeS5odG1sIHRyeX0gZXZhbHVhdGVzIGFsbCBvZiBpdHMgYXJndW1lbnQgZXhwcmVzc2lvbnMgaW4gdHVybiBhbmQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBmaXJzdCBvbmUgdGhhdCBkb2VzIG5vdCBwcm9kdWNlIGFueSBlcnJvcnMuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGV4cHJlc3Npb25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdHJ5KGV4cHJlc3Npb246IGFueVtdKSB7XG4gICAgcmV0dXJuIGFzQW55KHRlcnJhZm9ybUZ1bmN0aW9uKFwidHJ5XCIsIGxpc3RPZihhbnlWYWx1ZSkpKC4uLmV4cHJlc3Npb24pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2UgdGhpcyBmdW5jdGlvbiB0byB3cmFwIGEgc3RyaW5nIGFuZCBlc2NhcGUgaXQgcHJvcGVybHkgZm9yIHRoZSB1c2UgaW4gVGVycmFmb3JtXG4gICAqIFRoaXMgaXMgb25seSBuZWVkZWQgaW4gY2VydGFpbiBzY2VuYXJpb3MgKGUuZy4sIGlmIHlvdSBoYXZlIHVuZXNjYXBlZCBkb3VibGUgcXVvdGVzIGluIHRoZSBzdHJpbmcpXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgcmF3U3RyaW5nKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYXNTdHJpbmcocmF3U3RyaW5nKHN0cikpO1xuICB9XG59XG4iXX0=