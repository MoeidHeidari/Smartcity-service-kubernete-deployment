"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.List = void 0;
const react_1 = __importStar(require("react"));
const ink_1 = require("ink");
const cdktf_project_1 = require("./hooks/cdktf-project");
const components_1 = require("./components");
exports.List = ({ outDir, synthCommand, }) => {
    const { status, logEntries, returnValue } = cdktf_project_1.useCdktfProject({ outDir, synthCommand }, (project) => project.synth());
    return (react_1.default.createElement(components_1.StreamView, { logs: logEntries },
        react_1.default.createElement(components_1.StatusBottomBar, { status: status }, status.type === "done" ? (react_1.default.createElement(ink_1.Box, null,
            react_1.default.createElement(react_1.Fragment, null,
                react_1.default.createElement(ink_1.Box, { flexDirection: "column", width: 80 },
                    react_1.default.createElement(ink_1.Box, null,
                        react_1.default.createElement(ink_1.Box, { width: "40%" },
                            react_1.default.createElement(ink_1.Text, { bold: true }, "Stack name")),
                        react_1.default.createElement(ink_1.Box, { width: "60%" },
                            react_1.default.createElement(ink_1.Text, { bold: true }, "Path"))),
                    returnValue.map((stack) => (react_1.default.createElement(ink_1.Box, { key: stack.name },
                        react_1.default.createElement(ink_1.Box, { width: "40%" },
                            react_1.default.createElement(ink_1.Text, null, stack.name)),
                        react_1.default.createElement(ink_1.Box, { width: "60%" },
                            react_1.default.createElement(ink_1.Text, null, stack.workingDirectory))))))))) : (react_1.default.createElement(react_1.default.Fragment, null)))));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxpc3QudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQ0FBd0M7QUFDeEMsNkJBQWdDO0FBQ2hDLHlEQUF3RDtBQUN4RCw2Q0FBMkQ7QUFPOUMsUUFBQSxJQUFJLEdBQUcsQ0FBQyxFQUNuQixNQUFNLEVBQ04sWUFBWSxHQUNELEVBQXNCLEVBQUU7SUFDbkMsTUFBTSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLEdBQUcsK0JBQWUsQ0FDekQsRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLEVBQ3hCLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQzdCLENBQUM7SUFFRixPQUFPLENBQ0wsOEJBQUMsdUJBQVUsSUFBQyxJQUFJLEVBQUUsVUFBVTtRQUMxQiw4QkFBQyw0QkFBZSxJQUFDLE1BQU0sRUFBRSxNQUFNLElBQzVCLE1BQU0sQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUN4Qiw4QkFBQyxTQUFHO1lBQ0YsOEJBQUMsZ0JBQVE7Z0JBQ1AsOEJBQUMsU0FBRyxJQUFDLGFBQWEsRUFBQyxRQUFRLEVBQUMsS0FBSyxFQUFFLEVBQUU7b0JBQ25DLDhCQUFDLFNBQUc7d0JBQ0YsOEJBQUMsU0FBRyxJQUFDLEtBQUssRUFBQyxLQUFLOzRCQUNkLDhCQUFDLFVBQUksSUFBQyxJQUFJLHVCQUFrQixDQUN4Qjt3QkFDTiw4QkFBQyxTQUFHLElBQUMsS0FBSyxFQUFDLEtBQUs7NEJBQ2QsOEJBQUMsVUFBSSxJQUFDLElBQUksaUJBQVksQ0FDbEIsQ0FDRjtvQkFDTCxXQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUMzQiw4QkFBQyxTQUFHLElBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJO3dCQUNsQiw4QkFBQyxTQUFHLElBQUMsS0FBSyxFQUFDLEtBQUs7NEJBQ2QsOEJBQUMsVUFBSSxRQUFFLEtBQUssQ0FBQyxJQUFJLENBQVEsQ0FDckI7d0JBQ04sOEJBQUMsU0FBRyxJQUFDLEtBQUssRUFBQyxLQUFLOzRCQUNkLDhCQUFDLFVBQUksUUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQVEsQ0FDakMsQ0FDRixDQUNQLENBQUMsQ0FDRSxDQUNHLENBQ1AsQ0FDUCxDQUFDLENBQUMsQ0FBQyxDQUNGLDZEQUFLLENBQ04sQ0FDZSxDQUNQLENBQ2QsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBGcmFnbWVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVGV4dCwgQm94IH0gZnJvbSBcImlua1wiO1xuaW1wb3J0IHsgdXNlQ2RrdGZQcm9qZWN0IH0gZnJvbSBcIi4vaG9va3MvY2RrdGYtcHJvamVjdFwiO1xuaW1wb3J0IHsgU3RyZWFtVmlldywgU3RhdHVzQm90dG9tQmFyIH0gZnJvbSBcIi4vY29tcG9uZW50c1wiO1xuXG5pbnRlcmZhY2UgTGlzdENvbmZpZyB7XG4gIG91dERpcjogc3RyaW5nO1xuICBzeW50aENvbW1hbmQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IExpc3QgPSAoe1xuICBvdXREaXIsXG4gIHN5bnRoQ29tbWFuZCxcbn06IExpc3RDb25maWcpOiBSZWFjdC5SZWFjdEVsZW1lbnQgPT4ge1xuICBjb25zdCB7IHN0YXR1cywgbG9nRW50cmllcywgcmV0dXJuVmFsdWUgfSA9IHVzZUNka3RmUHJvamVjdChcbiAgICB7IG91dERpciwgc3ludGhDb21tYW5kIH0sXG4gICAgKHByb2plY3QpID0+IHByb2plY3Quc3ludGgoKVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFN0cmVhbVZpZXcgbG9ncz17bG9nRW50cmllc30+XG4gICAgICA8U3RhdHVzQm90dG9tQmFyIHN0YXR1cz17c3RhdHVzfT5cbiAgICAgICAge3N0YXR1cy50eXBlID09PSBcImRvbmVcIiA/IChcbiAgICAgICAgICA8Qm94PlxuICAgICAgICAgICAgPEZyYWdtZW50PlxuICAgICAgICAgICAgICA8Qm94IGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIiB3aWR0aD17ODB9PlxuICAgICAgICAgICAgICAgIDxCb3g+XG4gICAgICAgICAgICAgICAgICA8Qm94IHdpZHRoPVwiNDAlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0IGJvbGQ+U3RhY2sgbmFtZTwvVGV4dD5cbiAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgPEJveCB3aWR0aD1cIjYwJVwiPlxuICAgICAgICAgICAgICAgICAgICA8VGV4dCBib2xkPlBhdGg8L1RleHQ+XG4gICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICB7cmV0dXJuVmFsdWUhLm1hcCgoc3RhY2spID0+IChcbiAgICAgICAgICAgICAgICAgIDxCb3gga2V5PXtzdGFjay5uYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgPEJveCB3aWR0aD1cIjQwJVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxUZXh0PntzdGFjay5uYW1lfTwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgIDxCb3ggd2lkdGg9XCI2MCVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dD57c3RhY2sud29ya2luZ0RpcmVjdG9yeX08L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICAgICA8L0JveD5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8PjwvPlxuICAgICAgICApfVxuICAgICAgPC9TdGF0dXNCb3R0b21CYXI+XG4gICAgPC9TdHJlYW1WaWV3PlxuICApO1xufTtcbiJdfQ==