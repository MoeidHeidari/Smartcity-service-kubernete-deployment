"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Destroy = void 0;
/* eslint-disable no-control-regex */
const react_1 = __importDefault(require("react"));
const cdktf_project_1 = require("./hooks/cdktf-project");
const components_1 = require("./components");
exports.Destroy = ({ outDir, targetStacks, synthCommand, autoApprove, ignoreMissingStackDependencies, parallelism, }) => {
    const { status, logEntries } = cdktf_project_1.useCdktfProject({ outDir, synthCommand }, (project) => project.destroy({
        stackNames: targetStacks,
        autoApprove,
        ignoreMissingStackDependencies,
        parallelism,
    }));
    const bottomBar = (status === null || status === void 0 ? void 0 : status.type) === "waiting for approval of stack" ? (react_1.default.createElement(components_1.ApproveBottomBar, { stackName: status.stackName, onApprove: status.approve, onDismiss: status.dismiss, onStop: status.stop })) : (react_1.default.createElement(components_1.ExecutionStatusBottomBar, { status: status, actionName: "destroying" }));
    return react_1.default.createElement(components_1.StreamView, { logs: logEntries }, bottomBar);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVzdHJveS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRlc3Ryb3kudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHFDQUFxQztBQUNyQyxrREFBMEI7QUFFMUIseURBQXdEO0FBQ3hELDZDQUlzQjtBQVdULFFBQUEsT0FBTyxHQUFHLENBQUMsRUFDdEIsTUFBTSxFQUNOLFlBQVksRUFDWixZQUFZLEVBQ1osV0FBVyxFQUNYLDhCQUE4QixFQUM5QixXQUFXLEdBQ0csRUFBc0IsRUFBRTtJQUN0QyxNQUFNLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxHQUFHLCtCQUFlLENBQzVDLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxFQUN4QixDQUFDLE9BQU8sRUFBRSxFQUFFLENBQ1YsT0FBTyxDQUFDLE9BQU8sQ0FBQztRQUNkLFVBQVUsRUFBRSxZQUFZO1FBQ3hCLFdBQVc7UUFDWCw4QkFBOEI7UUFDOUIsV0FBVztLQUNaLENBQUMsQ0FDTCxDQUFDO0lBRUYsTUFBTSxTQUFTLEdBQ2IsQ0FBQSxNQUFNLGFBQU4sTUFBTSx1QkFBTixNQUFNLENBQUUsSUFBSSxNQUFLLCtCQUErQixDQUFDLENBQUMsQ0FBQyxDQUNqRCw4QkFBQyw2QkFBZ0IsSUFDZixTQUFTLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFDM0IsU0FBUyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQ3pCLFNBQVMsRUFBRSxNQUFNLENBQUMsT0FBTyxFQUN6QixNQUFNLEVBQUUsTUFBTSxDQUFDLElBQUksR0FDbkIsQ0FDSCxDQUFDLENBQUMsQ0FBQyxDQUNGLDhCQUFDLHFDQUF3QixJQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFDLFlBQVksR0FBRyxDQUNyRSxDQUFDO0lBRUosT0FBTyw4QkFBQyx1QkFBVSxJQUFDLElBQUksRUFBRSxVQUFVLElBQUcsU0FBUyxDQUFjLENBQUM7QUFDaEUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tY29udHJvbC1yZWdleCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgeyB1c2VDZGt0ZlByb2plY3QgfSBmcm9tIFwiLi9ob29rcy9jZGt0Zi1wcm9qZWN0XCI7XG5pbXBvcnQge1xuICBTdHJlYW1WaWV3LFxuICBFeGVjdXRpb25TdGF0dXNCb3R0b21CYXIsXG4gIEFwcHJvdmVCb3R0b21CYXIsXG59IGZyb20gXCIuL2NvbXBvbmVudHNcIjtcblxuaW50ZXJmYWNlIERlc3Ryb3lDb25maWcge1xuICBvdXREaXI6IHN0cmluZztcbiAgdGFyZ2V0U3RhY2tzPzogc3RyaW5nW107XG4gIHN5bnRoQ29tbWFuZDogc3RyaW5nO1xuICBhdXRvQXBwcm92ZTogYm9vbGVhbjtcbiAgaWdub3JlTWlzc2luZ1N0YWNrRGVwZW5kZW5jaWVzPzogYm9vbGVhbjtcbiAgcGFyYWxsZWxpc20/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBEZXN0cm95ID0gKHtcbiAgb3V0RGlyLFxuICB0YXJnZXRTdGFja3MsXG4gIHN5bnRoQ29tbWFuZCxcbiAgYXV0b0FwcHJvdmUsXG4gIGlnbm9yZU1pc3NpbmdTdGFja0RlcGVuZGVuY2llcyxcbiAgcGFyYWxsZWxpc20sXG59OiBEZXN0cm95Q29uZmlnKTogUmVhY3QuUmVhY3RFbGVtZW50ID0+IHtcbiAgY29uc3QgeyBzdGF0dXMsIGxvZ0VudHJpZXMgfSA9IHVzZUNka3RmUHJvamVjdChcbiAgICB7IG91dERpciwgc3ludGhDb21tYW5kIH0sXG4gICAgKHByb2plY3QpID0+XG4gICAgICBwcm9qZWN0LmRlc3Ryb3koe1xuICAgICAgICBzdGFja05hbWVzOiB0YXJnZXRTdGFja3MsXG4gICAgICAgIGF1dG9BcHByb3ZlLFxuICAgICAgICBpZ25vcmVNaXNzaW5nU3RhY2tEZXBlbmRlbmNpZXMsXG4gICAgICAgIHBhcmFsbGVsaXNtLFxuICAgICAgfSlcbiAgKTtcblxuICBjb25zdCBib3R0b21CYXIgPVxuICAgIHN0YXR1cz8udHlwZSA9PT0gXCJ3YWl0aW5nIGZvciBhcHByb3ZhbCBvZiBzdGFja1wiID8gKFxuICAgICAgPEFwcHJvdmVCb3R0b21CYXJcbiAgICAgICAgc3RhY2tOYW1lPXtzdGF0dXMuc3RhY2tOYW1lfVxuICAgICAgICBvbkFwcHJvdmU9e3N0YXR1cy5hcHByb3ZlfVxuICAgICAgICBvbkRpc21pc3M9e3N0YXR1cy5kaXNtaXNzfVxuICAgICAgICBvblN0b3A9e3N0YXR1cy5zdG9wfVxuICAgICAgLz5cbiAgICApIDogKFxuICAgICAgPEV4ZWN1dGlvblN0YXR1c0JvdHRvbUJhciBzdGF0dXM9e3N0YXR1c30gYWN0aW9uTmFtZT1cImRlc3Ryb3lpbmdcIiAvPlxuICAgICk7XG5cbiAgcmV0dXJuIDxTdHJlYW1WaWV3IGxvZ3M9e2xvZ0VudHJpZXN9Pntib3R0b21CYXJ9PC9TdHJlYW1WaWV3Pjtcbn07XG4iXX0=