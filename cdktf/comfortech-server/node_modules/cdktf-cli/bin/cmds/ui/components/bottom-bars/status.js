"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.WatchStatusBottomBar = exports.ExecutionStatusBottomBar = exports.localizeStacks = exports.StatusBottomBar = void 0;
const react_1 = __importDefault(require("react"));
const ink_1 = require("ink");
const ink_spinner_1 = __importDefault(require("ink-spinner"));
function StatusBottomBar({ status, children, }) {
    switch (status.type) {
        case "done": {
            if (children) {
                return children;
            }
            return react_1.default.createElement(react_1.default.Fragment, null);
        }
        // This is handled on the outside of this component
        case "waiting for approval of stack":
            return react_1.default.createElement(react_1.default.Fragment, null);
        case "starting":
            return (react_1.default.createElement(ink_1.Box, null,
                react_1.default.createElement(ink_1.Box, { marginRight: 2 },
                    react_1.default.createElement(ink_1.Text, null,
                        react_1.default.createElement(ink_spinner_1.default, { type: "dots" }))),
                react_1.default.createElement(ink_1.Box, null,
                    react_1.default.createElement(ink_1.Text, { bold: true }, "Starting"))));
        case "synthesizing":
            return (react_1.default.createElement(ink_1.Box, null,
                react_1.default.createElement(ink_1.Box, { marginRight: 2 },
                    react_1.default.createElement(ink_1.Text, null,
                        react_1.default.createElement(ink_spinner_1.default, { type: "dots" }))),
                react_1.default.createElement(ink_1.Box, null,
                    react_1.default.createElement(ink_1.Text, { bold: true }, "Synthesizing"))));
        case "running":
            return (react_1.default.createElement(ink_1.Box, null,
                react_1.default.createElement(ink_1.Box, { marginRight: 2 },
                    react_1.default.createElement(ink_1.Text, null,
                        react_1.default.createElement(ink_spinner_1.default, { type: "dots" }))),
                react_1.default.createElement(ink_1.Box, null,
                    react_1.default.createElement(ink_1.Text, { bold: true }, "Processing"))));
    }
}
exports.StatusBottomBar = StatusBottomBar;
function localizeStacks(num) {
    if (num === 1) {
        return "1 Stack";
    }
    return `${num} Stacks`;
}
exports.localizeStacks = localizeStacks;
function Execution({ inProgress, finished, pending, actionName, }) {
    return (react_1.default.createElement(ink_1.Box, { marginTop: 1 },
        react_1.default.createElement(ink_1.Box, { marginRight: 5 },
            react_1.default.createElement(ink_1.Text, null,
                localizeStacks(inProgress.length),
                " ",
                actionName)),
        react_1.default.createElement(ink_1.Box, { marginRight: 5 },
            react_1.default.createElement(ink_1.Text, null,
                localizeStacks(finished.length),
                " done")),
        react_1.default.createElement(ink_1.Box, null,
            react_1.default.createElement(ink_1.Text, null,
                localizeStacks(pending.length),
                " waiting"))));
}
function ExecutionStatusBottomBar({ status, children, actionName, }) {
    if ((status === null || status === void 0 ? void 0 : status.type) !== "running") {
        return react_1.default.createElement(StatusBottomBar, { status: status }, children);
    }
    return (react_1.default.createElement(Execution, { inProgress: status.inProgress, finished: status.finished, pending: status.pending, actionName: actionName }));
}
exports.ExecutionStatusBottomBar = ExecutionStatusBottomBar;
function WatchStatusBottomBar({ currentState, }) {
    switch (currentState.type) {
        case "waiting": {
            return (react_1.default.createElement(ink_1.Box, { marginTop: 1 },
                react_1.default.createElement(ink_spinner_1.default, null),
                react_1.default.createElement(ink_1.Box, { marginLeft: 1 },
                    react_1.default.createElement(ink_1.Text, null, "Waiting for changes..."))));
        }
        case "stopped": {
            return (react_1.default.createElement(ink_1.Box, { marginTop: 1 },
                react_1.default.createElement(ink_1.Text, null, "Watch was stopped")));
        }
        case "running": {
            if (currentState.inProgress.length +
                currentState.finished.length +
                currentState.pending.length ===
                0) {
                return (react_1.default.createElement(ink_1.Box, { marginTop: 1 },
                    react_1.default.createElement(ink_spinner_1.default, null),
                    react_1.default.createElement(ink_1.Box, { marginLeft: 1 },
                        react_1.default.createElement(ink_1.Text, null, "Synthesizing..."))));
            }
            return (react_1.default.createElement(Execution, { inProgress: currentState.inProgress, finished: currentState.finished, pending: currentState.pending, actionName: "deploying" }));
        }
    }
}
exports.WatchStatusBottomBar = WatchStatusBottomBar;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdHVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic3RhdHVzLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxrREFBMEI7QUFDMUIsNkJBQWdDO0FBQ2hDLDhEQUFrQztBQVlsQyxTQUFnQixlQUFlLENBQUMsRUFDOUIsTUFBTSxFQUNOLFFBQVEsR0FDa0I7SUFDMUIsUUFBUSxNQUFNLENBQUMsSUFBSSxFQUFFO1FBQ25CLEtBQUssTUFBTSxDQUFDLENBQUM7WUFDWCxJQUFJLFFBQVEsRUFBRTtnQkFDWixPQUFPLFFBQVEsQ0FBQzthQUNqQjtZQUNELE9BQU8sNkRBQUssQ0FBQztTQUNkO1FBRUQsbURBQW1EO1FBQ25ELEtBQUssK0JBQStCO1lBQ2xDLE9BQU8sNkRBQUssQ0FBQztRQUVmLEtBQUssVUFBVTtZQUNiLE9BQU8sQ0FDTCw4QkFBQyxTQUFHO2dCQUNGLDhCQUFDLFNBQUcsSUFBQyxXQUFXLEVBQUUsQ0FBQztvQkFDakIsOEJBQUMsVUFBSTt3QkFDSCw4QkFBQyxxQkFBTyxJQUFDLElBQUksRUFBQyxNQUFNLEdBQUcsQ0FDbEIsQ0FDSDtnQkFDTiw4QkFBQyxTQUFHO29CQUNGLDhCQUFDLFVBQUksSUFBQyxJQUFJLHFCQUFnQixDQUN0QixDQUNGLENBQ1AsQ0FBQztRQUVKLEtBQUssY0FBYztZQUNqQixPQUFPLENBQ0wsOEJBQUMsU0FBRztnQkFDRiw4QkFBQyxTQUFHLElBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ2pCLDhCQUFDLFVBQUk7d0JBQ0gsOEJBQUMscUJBQU8sSUFBQyxJQUFJLEVBQUMsTUFBTSxHQUFHLENBQ2xCLENBQ0g7Z0JBQ04sOEJBQUMsU0FBRztvQkFDRiw4QkFBQyxVQUFJLElBQUMsSUFBSSx5QkFBb0IsQ0FDMUIsQ0FDRixDQUNQLENBQUM7UUFFSixLQUFLLFNBQVM7WUFDWixPQUFPLENBQ0wsOEJBQUMsU0FBRztnQkFDRiw4QkFBQyxTQUFHLElBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ2pC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UixVQUFVLEVBQUUsWUFBWSxDQUFDLFVBQVUsRUFDbkMsUUFBUSxFQUFFLFlBQVksQ0FBQyxRQUFRLEVBQy9CLE9BQU8sRUFBRSxZQUFZLENBQUMsT0FBTyxFQUM3QixVQUFVLEVBQUMsV0FBVyxHQUN0QixDQUNILENBQUM7U0FDSDtLQUNGO0FBQ0gsQ0FBQztBQW5ERCxvREFtREMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUZXh0LCBCb3ggfSBmcm9tIFwiaW5rXCI7XG5pbXBvcnQgU3Bpbm5lciBmcm9tIFwiaW5rLXNwaW5uZXJcIjtcbmltcG9ydCB7IFN0YXR1cyB9IGZyb20gXCIuLi8uLi9ob29rcy9jZGt0Zi1wcm9qZWN0XCI7XG5pbXBvcnQgeyBXYXRjaFN0YXRlIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2xpYlwiO1xuaW1wb3J0IHsgQ2RrdGZTdGFjayB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9saWIvY2RrdGYtc3RhY2tcIjtcblxudHlwZSBQcm9wcyA9IHtcbiAgc3RhdHVzOiBTdGF0dXM7XG4gIGVycm9yTWVzc2FnZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBhbnk7XG4gIGFjdGlvbk5hbWU6IFwiZGVwbG95aW5nXCIgfCBcImRlc3Ryb3lpbmdcIjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBTdGF0dXNCb3R0b21CYXIoe1xuICBzdGF0dXMsXG4gIGNoaWxkcmVuLFxufTogT21pdDxQcm9wcywgXCJhY3Rpb25OYW1lXCI+KSB7XG4gIHN3aXRjaCAoc3RhdHVzLnR5cGUpIHtcbiAgICBjYXNlIFwiZG9uZVwiOiB7XG4gICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDw+PC8+O1xuICAgIH1cblxuICAgIC8vIFRoaXMgaXMgaGFuZGxlZCBvbiB0aGUgb3V0c2lkZSBvZiB0aGlzIGNvbXBvbmVudFxuICAgIGNhc2UgXCJ3YWl0aW5nIGZvciBhcHByb3ZhbCBvZiBzdGFja1wiOlxuICAgICAgcmV0dXJuIDw+PC8+O1xuXG4gICAgY2FzZSBcInN0YXJ0aW5nXCI6XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Qm94PlxuICAgICAgICAgIDxCb3ggbWFyZ2luUmlnaHQ9ezJ9PlxuICAgICAgICAgICAgPFRleHQ+XG4gICAgICAgICAgICAgIDxTcGlubmVyIHR5cGU9XCJkb3RzXCIgLz5cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICA8L0JveD5cbiAgICAgICAgICA8Qm94PlxuICAgICAgICAgICAgPFRleHQgYm9sZD5TdGFydGluZzwvVGV4dD5cbiAgICAgICAgICA8L0JveD5cbiAgICAgICAgPC9Cb3g+XG4gICAgICApO1xuXG4gICAgY2FzZSBcInN5bnRoZXNpemluZ1wiOlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEJveD5cbiAgICAgICAgICA8Qm94IG1hcmdpblJpZ2h0PXsyfT5cbiAgICAgICAgICAgIDxUZXh0PlxuICAgICAgICAgICAgICA8U3Bpbm5lciB0eXBlPVwiZG90c1wiIC8+XG4gICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgPEJveD5cbiAgICAgICAgICAgIDxUZXh0IGJvbGQ+U3ludGhlc2l6aW5nPC9UZXh0PlxuICAgICAgICAgIDwvQm94PlxuICAgICAgICA8L0JveD5cbiAgICAgICk7XG5cbiAgICBjYXNlIFwicnVubmluZ1wiOlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEJveD5cbiAgICAgICAgICA8Qm94IG1hcmdpblJpZ2h0PXsyfT5cbiAgICAgICAgICAgIDxUZXh0PlxuICAgICAgICAgICAgICA8U3Bpbm5lciB0eXBlPVwiZG90c1wiIC8+XG4gICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgPEJveD5cbiAgICAgICAgICAgIDxUZXh0IGJvbGQ+UHJvY2Vzc2luZzwvVGV4dD5cbiAgICAgICAgICA8L0JveD5cbiAgICAgICAgPC9Cb3g+XG4gICAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2NhbGl6ZVN0YWNrcyhudW06IG51bWJlcikge1xuICBpZiAobnVtID09PSAxKSB7XG4gICAgcmV0dXJuIFwiMSBTdGFja1wiO1xuICB9XG4gIHJldHVybiBgJHtudW19IFN0YWNrc2A7XG59XG5cbmZ1bmN0aW9uIEV4ZWN1dGlvbih7XG4gIGluUHJvZ3Jlc3MsXG4gIGZpbmlzaGVkLFxuICBwZW5kaW5nLFxuICBhY3Rpb25OYW1lLFxufTogUGljazxQcm9wcywgXCJhY3Rpb25OYW1lXCI+ICYge1xuICBpblByb2dyZXNzOiBDZGt0ZlN0YWNrW107XG4gIGZpbmlzaGVkOiBDZGt0ZlN0YWNrW107XG4gIHBlbmRpbmc6IENka3RmU3RhY2tbXTtcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8Qm94IG1hcmdpblRvcD17MX0+XG4gICAgICA8Qm94IG1hcmdpblJpZ2h0PXs1fT5cbiAgICAgICAgPFRleHQ+XG4gICAgICAgICAge2xvY2FsaXplU3RhY2tzKGluUHJvZ3Jlc3MubGVuZ3RoKX0ge2FjdGlvbk5hbWV9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgIDwvQm94PlxuICAgICAgPEJveCBtYXJnaW5SaWdodD17NX0+XG4gICAgICAgIDxUZXh0Pntsb2NhbGl6ZVN0YWNrcyhmaW5pc2hlZC5sZW5ndGgpfSBkb25lPC9UZXh0PlxuICAgICAgPC9Cb3g+XG4gICAgICA8Qm94PlxuICAgICAgICA8VGV4dD57bG9jYWxpemVTdGFja3MocGVuZGluZy5sZW5ndGgpfSB3YWl0aW5nPC9UZXh0PlxuICAgICAgPC9Cb3g+XG4gICAgPC9Cb3g+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeGVjdXRpb25TdGF0dXNCb3R0b21CYXIoe1xuICBzdGF0dXMsXG4gIGNoaWxkcmVuLFxuICBhY3Rpb25OYW1lLFxufTogUHJvcHMpIHtcbiAgaWYgKHN0YXR1cz8udHlwZSAhPT0gXCJydW5uaW5nXCIpIHtcbiAgICByZXR1cm4gPFN0YXR1c0JvdHRvbUJhciBzdGF0dXM9e3N0YXR1c30+e2NoaWxkcmVufTwvU3RhdHVzQm90dG9tQmFyPjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEV4ZWN1dGlvblxuICAgICAgaW5Qcm9ncmVzcz17c3RhdHVzLmluUHJvZ3Jlc3N9XG4gICAgICBmaW5pc2hlZD17c3RhdHVzLmZpbmlzaGVkfVxuICAgICAgcGVuZGluZz17c3RhdHVzLnBlbmRpbmd9XG4gICAgICBhY3Rpb25OYW1lPXthY3Rpb25OYW1lfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBXYXRjaFN0YXR1c0JvdHRvbUJhcih7XG4gIGN1cnJlbnRTdGF0ZSxcbn06IHtcbiAgY3VycmVudFN0YXRlOiBXYXRjaFN0YXRlO1xufSk6IFJlYWN0LlJlYWN0RWxlbWVudCB7XG4gIHN3aXRjaCAoY3VycmVudFN0YXRlLnR5cGUpIHtcbiAgICBjYXNlIFwid2FpdGluZ1wiOiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Qm94IG1hcmdpblRvcD17MX0+XG4gICAgICAgICAgPFNwaW5uZXIgLz5cbiAgICAgICAgICA8Qm94IG1hcmdpbkxlZnQ9ezF9PlxuICAgICAgICAgICAgPFRleHQ+V2FpdGluZyBmb3IgY2hhbmdlcy4uLjwvVGV4dD5cbiAgICAgICAgICA8L0JveD5cbiAgICAgICAgPC9Cb3g+XG4gICAgICApO1xuICAgIH1cbiAgICBjYXNlIFwic3RvcHBlZFwiOiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Qm94IG1hcmdpblRvcD17MX0+XG4gICAgICAgICAgPFRleHQ+V2F0Y2ggd2FzIHN0b3BwZWQ8L1RleHQ+XG4gICAgICAgIDwvQm94PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjYXNlIFwicnVubmluZ1wiOiB7XG4gICAgICBpZiAoXG4gICAgICAgIGN1cnJlbnRTdGF0ZS5pblByb2dyZXNzLmxlbmd0aCArXG4gICAgICAgICAgY3VycmVudFN0YXRlLmZpbmlzaGVkLmxlbmd0aCArXG4gICAgICAgICAgY3VycmVudFN0YXRlLnBlbmRpbmcubGVuZ3RoID09PVxuICAgICAgICAwXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Qm94IG1hcmdpblRvcD17MX0+XG4gICAgICAgICAgICA8U3Bpbm5lciAvPlxuICAgICAgICAgICAgPEJveCBtYXJnaW5MZWZ0PXsxfT5cbiAgICAgICAgICAgICAgPFRleHQ+U3ludGhlc2l6aW5nLi4uPC9UZXh0PlxuICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgPC9Cb3g+XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxFeGVjdXRpb25cbiAgICAgICAgICBpblByb2dyZXNzPXtjdXJyZW50U3RhdGUuaW5Qcm9ncmVzc31cbiAgICAgICAgICBmaW5pc2hlZD17Y3VycmVudFN0YXRlLmZpbmlzaGVkfVxuICAgICAgICAgIHBlbmRpbmc9e2N1cnJlbnRTdGF0ZS5wZW5kaW5nfVxuICAgICAgICAgIGFjdGlvbk5hbWU9XCJkZXBsb3lpbmdcIlxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==