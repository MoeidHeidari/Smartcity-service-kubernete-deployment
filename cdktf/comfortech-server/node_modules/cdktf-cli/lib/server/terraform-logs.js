"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractJsonLogIfPresent = void 0;
function extractJsonLogLineIfPresent(logLine) {
    try {
        const extractedMessage = JSON.parse(logLine)["@message"];
        return extractedMessage ? extractedMessage : logLine;
    }
    catch (e) {
        return logLine;
    }
}
function extractJsonLogIfPresent(logLines) {
    return logLines
        .split("\n")
        .map(extractJsonLogLineIfPresent)
        .map((line) => line.trim())
        .join("\n");
}
exports.extractJsonLogIfPresent = extractJsonLogIfPresent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVycmFmb3JtLWxvZ3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0ZXJyYWZvcm0tbG9ncy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxTQUFTLDJCQUEyQixDQUFDLE9BQWU7SUFDbEQsSUFBSTtRQUNGLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN6RCxPQUFPLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO0tBQ3REO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixPQUFPLE9BQU8sQ0FBQztLQUNoQjtBQUNILENBQUM7QUFFRCxTQUFnQix1QkFBdUIsQ0FBQyxRQUFnQjtJQUN0RCxPQUFPLFFBQVE7U0FDWixLQUFLLENBQUMsSUFBSSxDQUFDO1NBQ1gsR0FBRyxDQUFDLDJCQUEyQixDQUFDO1NBQ2hDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNoQixDQUFDO0FBTkQsMERBTUMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBleHRyYWN0SnNvbkxvZ0xpbmVJZlByZXNlbnQobG9nTGluZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBleHRyYWN0ZWRNZXNzYWdlID0gSlNPTi5wYXJzZShsb2dMaW5lKVtcIkBtZXNzYWdlXCJdO1xuICAgIHJldHVybiBleHRyYWN0ZWRNZXNzYWdlID8gZXh0cmFjdGVkTWVzc2FnZSA6IGxvZ0xpbmU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbG9nTGluZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEpzb25Mb2dJZlByZXNlbnQobG9nTGluZXM6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBsb2dMaW5lc1xuICAgIC5zcGxpdChcIlxcblwiKVxuICAgIC5tYXAoZXh0cmFjdEpzb25Mb2dMaW5lSWZQcmVzZW50KVxuICAgIC5tYXAoKGxpbmUpID0+IGxpbmUudHJpbSgpKVxuICAgIC5qb2luKFwiXFxuXCIpO1xufVxuIl19