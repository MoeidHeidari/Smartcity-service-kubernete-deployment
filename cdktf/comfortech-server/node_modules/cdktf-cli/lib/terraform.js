"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.terraformVersion = exports.terraformBinaryName = void 0;
const errors_1 = require("./errors");
const util_1 = require("./util");
exports.terraformBinaryName = process.env.TERRAFORM_BINARY_NAME || "terraform";
exports.terraformVersion = util_1.exec(exports.terraformBinaryName, ["version", "-json"], {})
    .then((versionString) => JSON.parse(versionString).terraform_version)
    .catch((err) => errors_1.Errors.Usage(`Unknown: Error loading terraform version ${err}`));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVycmFmb3JtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidGVycmFmb3JtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFrQztBQUNsQyxpQ0FBOEI7QUFFakIsUUFBQSxtQkFBbUIsR0FDOUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsSUFBSSxXQUFXLENBQUM7QUFDdEMsUUFBQSxnQkFBZ0IsR0FBRyxXQUFJLENBQ2xDLDJCQUFtQixFQUNuQixDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsRUFDcEIsRUFBRSxDQUNIO0tBQ0UsSUFBSSxDQUFDLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGlCQUFpQixDQUFDO0tBQ3BFLEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQ2IsZUFBTSxDQUFDLEtBQUssQ0FBQyw0Q0FBNEMsR0FBRyxFQUFFLENBQUMsQ0FDaEUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVycm9ycyB9IGZyb20gXCIuL2Vycm9yc1wiO1xuaW1wb3J0IHsgZXhlYyB9IGZyb20gXCIuL3V0aWxcIjtcblxuZXhwb3J0IGNvbnN0IHRlcnJhZm9ybUJpbmFyeU5hbWUgPVxuICBwcm9jZXNzLmVudi5URVJSQUZPUk1fQklOQVJZX05BTUUgfHwgXCJ0ZXJyYWZvcm1cIjtcbmV4cG9ydCBjb25zdCB0ZXJyYWZvcm1WZXJzaW9uID0gZXhlYyhcbiAgdGVycmFmb3JtQmluYXJ5TmFtZSxcbiAgW1widmVyc2lvblwiLCBcIi1qc29uXCJdLFxuICB7fVxuKVxuICAudGhlbigodmVyc2lvblN0cmluZykgPT4gSlNPTi5wYXJzZSh2ZXJzaW9uU3RyaW5nKS50ZXJyYWZvcm1fdmVyc2lvbilcbiAgLmNhdGNoKChlcnIpID0+XG4gICAgRXJyb3JzLlVzYWdlKGBVbmtub3duOiBFcnJvciBsb2FkaW5nIHRlcnJhZm9ybSB2ZXJzaW9uICR7ZXJyfWApXG4gICk7XG4iXX0=