"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.mkdtemp = void 0;
const config_1 = require("../lib/config");
const fs = __importStar(require("fs-extra"));
const os = __importStar(require("os"));
const path = __importStar(require("path"));
async function mkdtemp(closure) {
    const workdir = await fs.mkdtemp(path.join(os.tmpdir(), "cdktf."));
    try {
        await closure(workdir);
    }
    finally {
        await fs.remove(workdir);
    }
}
exports.mkdtemp = mkdtemp;
describe("parseConfig", () => {
    it("provides default with no input", async () => {
        expect(config_1.parseConfig()).toMatchInlineSnapshot(`
      Object {
        "codeMakerOutput": ".gen",
        "output": "cdktf.out",
      }
    `);
    });
    describe("providers", () => {
        it("parses provider string", async () => {
            const input = {
                terraformProviders: ["aws@~> 2.0"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformProviders": Array [
            TerraformProviderConstraint {
              "fqn": "aws",
              "name": "aws",
              "namespace": undefined,
              "source": "aws",
              "version": "~> 2.0",
            },
          ],
        }
      `);
        });
        it("parses provider string with namespace", async () => {
            const input = {
                terraformProviders: ["hashicorp/aws@~> 2.0"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformProviders": Array [
            TerraformProviderConstraint {
              "fqn": "hashicorp/aws",
              "name": "aws",
              "namespace": "hashicorp",
              "source": "hashicorp/aws",
              "version": "~> 2.0",
            },
          ],
        }
      `);
        });
        it("parses complex provider config", async () => {
            const input = {
                terraformProviders: [
                    {
                        name: "aws",
                        version: "~> 2.0",
                    },
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformProviders": Array [
            TerraformProviderConstraint {
              "fqn": "aws",
              "name": "aws",
              "namespace": undefined,
              "source": undefined,
              "version": "~> 2.0",
            },
          ],
        }
      `);
        });
    });
    describe("modules", () => {
        it("parses module string", async () => {
            const input = {
                terraformModules: ["terraform-aws-modules/vpc/aws@2.39.0"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "terraform-aws-modules/vpc/aws",
              "name": "vpc",
              "namespace": "terraform-aws-modules/aws",
              "source": "terraform-aws-modules/vpc/aws",
              "version": "2.39.0",
            },
          ],
        }
      `);
        });
        it("parses module for local module for module generator", async () => {
            const input = {
                terraformModules: [
                    {
                        name: "local-module",
                        source: "./foo",
                    },
                ],
            };
            const parsed = config_1.parseConfig(JSON.stringify(input));
            expect(parsed.terraformModules[0].localSource).toMatch("/packages/@cdktf/provider-generator/foo");
        });
        it("parses sub module registry string", async () => {
            const input = {
                terraformModules: [
                    "terraform-aws-modules/iam/aws//modules/iam-account@3.12.0",
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "terraform-aws-modules/iam/aws/modules/iam-account",
              "name": "iam-account",
              "namespace": "terraform-aws-modules/aws/iam/modules",
              "source": "terraform-aws-modules/iam/aws//modules/iam-account",
              "version": "3.12.0",
            },
          ],
        }
      `);
        });
        it("takes complex config", async () => {
            const input = {
                terraformModules: [
                    {
                        name: "customAWSVpc",
                        source: "https://github.com/terraform-aws-modules/terraform-aws-vpc",
                        version: "~> v2.0",
                    },
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "customAWSVpc",
              "name": "customAWSVpc",
              "namespace": undefined,
              "source": "https://github.com/terraform-aws-modules/terraform-aws-vpc",
              "version": "~> v2.0",
            },
          ],
        }
      `);
        });
        it("takes complex and string config", async () => {
            const input = {
                terraformModules: [
                    "terraform-aws-modules/vpc/aws@2.39.0",
                    {
                        name: "customAWSVpc",
                        source: "https://github.com/terraform-aws-modules/terraform-aws-vpc",
                        version: "~> v2.0",
                    },
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "terraform-aws-modules/vpc/aws",
              "name": "vpc",
              "namespace": "terraform-aws-modules/aws",
              "source": "terraform-aws-modules/vpc/aws",
              "version": "2.39.0",
            },
            TerraformModuleConstraint {
              "fqn": "customAWSVpc",
              "name": "customAWSVpc",
              "namespace": undefined,
              "source": "https://github.com/terraform-aws-modules/terraform-aws-vpc",
              "version": "~> v2.0",
            },
          ],
        }
      `);
        });
        it("parses local path", async () => {
            const input = {
                terraformModules: ["./consul"],
            };
            const parsed = config_1.parseConfig(JSON.stringify(input));
            expect(parsed.terraformModules[0].localSource).toMatch("/packages/@cdktf/provider-generator/consul");
            expect(parsed.terraformModules[0].name).toMatch("consul");
        });
        it("parses registry", async () => {
            const input = {
                terraformModules: ["hashicorp/consul/aws@0.1.0"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "hashicorp/consul/aws",
              "name": "consul",
              "namespace": "hashicorp/aws",
              "source": "hashicorp/consul/aws",
              "version": "0.1.0",
            },
          ],
        }
      `);
        });
        it("parses private registry", async () => {
            const input = {
                terraformModules: [
                    "app.terraform.io/example-corp/k8s-cluster/azurerm@1.1.0",
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "app-terraform-io/example-corp/k8s-cluster/azurerm",
              "name": "k8s-cluster",
              "namespace": "example-corp/azurerm",
              "source": "app.terraform.io/example-corp/k8s-cluster/azurerm",
              "version": "1.1.0",
            },
          ],
        }
      `);
        });
        it("parses github", async () => {
            const input = {
                terraformModules: ["github.com/hashicorp/example"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "hashicorp/example",
              "name": "example",
              "namespace": "hashicorp",
              "source": "github.com/hashicorp/example",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses github ssh", async () => {
            const input = {
                terraformModules: ["git@github.com:hashicorp/example.git"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "hashicorp/example",
              "name": "example",
              "namespace": "hashicorp",
              "source": "git@github.com:hashicorp/example.git",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses bitbucket", async () => {
            const input = {
                terraformModules: ["bitbucket.org/hashicorp/terraform-consul-aws"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "hashicorp/terraform-consul-aws",
              "name": "terraform-consul-aws",
              "namespace": "hashicorp",
              "source": "bitbucket.org/hashicorp/terraform-consul-aws",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses generic git", async () => {
            const input = {
                terraformModules: ["git::https://example.com/vpc.git"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "vpc",
              "name": "vpc",
              "namespace": undefined,
              "source": "git::https://example.com/vpc.git",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses git ssh", async () => {
            const input = {
                terraformModules: ["git::ssh://username@example.com/storage.git"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "storage",
              "name": "storage",
              "namespace": undefined,
              "source": "git::ssh://username@example.com/storage.git",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses revision", async () => {
            const input = {
                terraformModules: [
                    "git::https://example.com/infra/main-vpc.git?ref=v1.2.0",
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "infra/main-vpc",
              "name": "main-vpc",
              "namespace": "infra",
              "source": "git::https://example.com/infra/main-vpc.git?ref=v1.2.0",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses scp", async () => {
            const input = {
                terraformModules: ["git::username@example.com:storage.git"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "storage",
              "name": "storage",
              "namespace": undefined,
              "source": "git::username@example.com:storage.git",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses mercurial", async () => {
            const input = {
                terraformModules: ["hg::http://example.com/vpc.hg"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "vpc",
              "name": "vpc",
              "namespace": undefined,
              "source": "hg::http://example.com/vpc.hg",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses hg revision", async () => {
            const input = {
                terraformModules: ["hg::http://example.com/vpc.hg?ref=v1.2.0"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "vpc",
              "name": "vpc",
              "namespace": undefined,
              "source": "hg::http://example.com/vpc.hg?ref=v1.2.0",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses http", async () => {
            const input = {
                terraformModules: ["https://example.com/vpc-module.zip"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "vpc-module",
              "name": "vpc-module",
              "namespace": undefined,
              "source": "https://example.com/vpc-module.zip",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses archive type", async () => {
            const input = {
                terraformModules: ["https://example.com/vpc-module?archive=zip"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "vpc-module",
              "name": "vpc-module",
              "namespace": undefined,
              "source": "https://example.com/vpc-module?archive=zip",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses s3", async () => {
            const input = {
                terraformModules: [
                    "s3::https://s3-eu-west-1.amazonaws.com/examplecorp-terraform-modules/vpc.zip",
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "examplecorp-terraform-modules/vpc",
              "name": "vpc",
              "namespace": "examplecorp-terraform-modules",
              "source": "s3::https://s3-eu-west-1.amazonaws.com/examplecorp-terraform-modules/vpc.zip",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses gcs", async () => {
            const input = {
                terraformModules: [
                    "gcs::https://www.googleapis.com/storage/v1/modules/foomodule.zip",
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "storage/v1/modules/foomodule",
              "name": "foomodule",
              "namespace": "modules",
              "source": "gcs::https://www.googleapis.com/storage/v1/modules/foomodule.zip",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses submodule registry", async () => {
            const input = {
                terraformModules: ["hashicorp/consul/aws//modules/consul-cluster"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "hashicorp/consul/aws/modules/consul-cluster",
              "name": "consul-cluster",
              "namespace": "hashicorp/aws/consul/modules",
              "source": "hashicorp/consul/aws//modules/consul-cluster",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses submodule git", async () => {
            const input = {
                terraformModules: ["git::https://example.com/network.git//modules/vpc"],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "network/modules/vpc",
              "name": "vpc",
              "namespace": "network/modules",
              "source": "git::https://example.com/network.git//modules/vpc",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses submodule http", async () => {
            const input = {
                terraformModules: [
                    "https://example.com/network-module.zip//modules/vpc",
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "network-module/modules/vpc",
              "name": "vpc",
              "namespace": "network-module/modules",
              "source": "https://example.com/network-module.zip//modules/vpc",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses submodule s3", async () => {
            const input = {
                terraformModules: [
                    "s3::https://s3-eu-west-1.amazonaws.com/examplecorp-terraform-modules/network.zip//modules/vpc",
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "examplecorp-terraform-modules/network/modules/vpc",
              "name": "vpc",
              "namespace": "examplecorp-terraform-modules/network/modules",
              "source": "s3::https://s3-eu-west-1.amazonaws.com/examplecorp-terraform-modules/network.zip//modules/vpc",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses submodule ref", async () => {
            const input = {
                terraformModules: [
                    "git::https://example.com/network.git//modules/vpc?ref=v1.2.0",
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "network/modules/vpc",
              "name": "vpc",
              "namespace": "network/modules",
              "source": "git::https://example.com/network.git//modules/vpc?ref=v1.2.0",
              "version": undefined,
            },
          ],
        }
      `);
        });
        it("parses ref with /", async () => {
            const input = {
                terraformModules: [
                    "git::https://github.com/cloudposse/terraform-null-label.git?ref=tags/0.14.1",
                ],
            };
            expect(config_1.parseConfig(JSON.stringify(input))).toMatchInlineSnapshot(`
        Object {
          "codeMakerOutput": ".gen",
          "output": "cdktf.out",
          "terraformModules": Array [
            TerraformModuleConstraint {
              "fqn": "cloudposse/terraform-null-label",
              "name": "terraform-null-label",
              "namespace": "cloudposse",
              "source": "git::https://github.com/cloudposse/terraform-null-label.git?ref=tags/0.14.1",
              "version": undefined,
            },
          ],
        }
      `);
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjb25maWcudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMENBQTRDO0FBQzVDLDZDQUErQjtBQUMvQix1Q0FBeUI7QUFDekIsMkNBQTZCO0FBRXRCLEtBQUssVUFBVSxPQUFPLENBQUMsT0FBdUM7SUFDbkUsTUFBTSxPQUFPLEdBQUcsTUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDbkUsSUFBSTtRQUNGLE1BQU0sT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQ3hCO1lBQVM7UUFDUixNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDMUI7QUFDSCxDQUFDO0FBUEQsMEJBT0M7QUFFRCxRQUFRLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtJQUMzQixFQUFFLENBQUMsZ0NBQWdDLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDOUMsTUFBTSxDQUFDLG9CQUFXLEVBQUUsQ0FBQyxDQUFDLHFCQUFxQixDQUFDOzs7OztLQUszQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFO1FBQ3pCLEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN0QyxNQUFNLEtBQUssR0FBRztnQkFDWixrQkFBa0IsRUFBRSxDQUFDLFlBQVksQ0FBQzthQUNuQyxDQUFDO1lBRUYsTUFBTSxDQUFDLG9CQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMscUJBQXFCLENBQUM7Ozs7Ozs7Ozs7Ozs7O09BY2hFLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFB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LHFCQUFxQixDQUFDOzs7Ozs7Ozs7Ozs7OztPQWNoRSxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxLQUFLLElBQUksRUFBRTtZQUNqQyxNQUFNLEtBQUssR0FBRztnQkFDWixnQkFBZ0IsRUFBRTtvQkFDaEIsNkVBQTZFO2lCQUM5RTthQUNGLENBQUM7WUFFRixNQUFNLENBQUMsb0JBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7T0FjaEUsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VDb25maWcgfSBmcm9tIFwiLi4vbGliL2NvbmZpZ1wiO1xuaW1wb3J0ICogYXMgZnMgZnJvbSBcImZzLWV4dHJhXCI7XG5pbXBvcnQgKiBhcyBvcyBmcm9tIFwib3NcIjtcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1rZHRlbXAoY2xvc3VyZTogKGRpcjogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+KSB7XG4gIGNvbnN0IHdvcmtkaXIgPSBhd2FpdCBmcy5ta2R0ZW1wKHBhdGguam9pbihvcy50bXBkaXIoKSwgXCJjZGt0Zi5cIikpO1xuICB0cnkge1xuICAgIGF3YWl0IGNsb3N1cmUod29ya2Rpcik7XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgZnMucmVtb3ZlKHdvcmtkaXIpO1xuICB9XG59XG5cbmRlc2NyaWJlKFwicGFyc2VDb25maWdcIiwgKCkgPT4ge1xuICBpdChcInByb3ZpZGVzIGRlZmF1bHQgd2l0aCBubyBpbnB1dFwiLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHBhcnNlQ29uZmlnKCkpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICBPYmplY3Qge1xuICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgXCJvdXRwdXRcIjogXCJjZGt0Zi5vdXRcIixcbiAgICAgIH1cbiAgICBgKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJwcm92aWRlcnNcIiwgKCkgPT4ge1xuICAgIGl0KFwicGFyc2VzIHByb3ZpZGVyIHN0cmluZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgdGVycmFmb3JtUHJvdmlkZXJzOiBbXCJhd3NAfj4gMi4wXCJdLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHBhcnNlQ29uZmlnKEpTT04uc3RyaW5naWZ5KGlucHV0KSkpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICAgIE9iamVjdCB7XG4gICAgICAgICAgXCJjb2RlTWFrZXJPdXRwdXRcIjogXCIuZ2VuXCIsXG4gICAgICAgICAgXCJvdXRwdXRcIjogXCJjZGt0Zi5vdXRcIixcbiAgICAgICAgICBcInRlcnJhZm9ybVByb3ZpZGVyc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Qcm92aWRlckNvbnN0cmFpbnQge1xuICAgICAgICAgICAgICBcImZxblwiOiBcImF3c1wiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJhd3NcIixcbiAgICAgICAgICAgICAgXCJuYW1lc3BhY2VcIjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcImF3c1wiLFxuICAgICAgICAgICAgICBcInZlcnNpb25cIjogXCJ+PiAyLjBcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyBwcm92aWRlciBzdHJpbmcgd2l0aCBuYW1lc3BhY2VcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybVByb3ZpZGVyczogW1wiaGFzaGljb3JwL2F3c0B+PiAyLjBcIl0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtUHJvdmlkZXJzXCI6IEFycmF5IFtcbiAgICAgICAgICAgIFRlcnJhZm9ybVByb3ZpZGVyQ29uc3RyYWludCB7XG4gICAgICAgICAgICAgIFwiZnFuXCI6IFwiaGFzaGljb3JwL2F3c1wiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJhd3NcIixcbiAgICAgICAgICAgICAgXCJuYW1lc3BhY2VcIjogXCJoYXNoaWNvcnBcIixcbiAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJoYXNoaWNvcnAvYXdzXCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiBcIn4+IDIuMFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICBgKTtcbiAgICB9KTtcblxuICAgIGl0KFwicGFyc2VzIGNvbXBsZXggcHJvdmlkZXIgY29uZmlnXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0ZXJyYWZvcm1Qcm92aWRlcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcImF3c1wiLFxuICAgICAgICAgICAgdmVyc2lvbjogXCJ+PiAyLjBcIixcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHBhcnNlQ29uZmlnKEpTT04uc3RyaW5naWZ5KGlucHV0KSkpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICAgIE9iamVjdCB7XG4gICAgICAgICAgXCJjb2RlTWFrZXJPdXRwdXRcIjogXCIuZ2VuXCIsXG4gICAgICAgICAgXCJvdXRwdXRcIjogXCJjZGt0Zi5vdXRcIixcbiAgICAgICAgICBcInRlcnJhZm9ybVByb3ZpZGVyc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Qcm92aWRlckNvbnN0cmFpbnQge1xuICAgICAgICAgICAgICBcImZxblwiOiBcImF3c1wiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJhd3NcIixcbiAgICAgICAgICAgICAgXCJuYW1lc3BhY2VcIjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiBcIn4+IDIuMFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICBgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJtb2R1bGVzXCIsICgpID0+IHtcbiAgICBpdChcInBhcnNlcyBtb2R1bGUgc3RyaW5nXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0ZXJyYWZvcm1Nb2R1bGVzOiBbXCJ0ZXJyYWZvcm0tYXdzLW1vZHVsZXMvdnBjL2F3c0AyLjM5LjBcIl0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJ0ZXJyYWZvcm0tYXdzLW1vZHVsZXMvdnBjL2F3c1wiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2cGNcIixcbiAgICAgICAgICAgICAgXCJuYW1lc3BhY2VcIjogXCJ0ZXJyYWZvcm0tYXdzLW1vZHVsZXMvYXdzXCIsXG4gICAgICAgICAgICAgIFwic291cmNlXCI6IFwidGVycmFmb3JtLWF3cy1tb2R1bGVzL3ZwYy9hd3NcIixcbiAgICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IFwiMi4zOS4wXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgIGApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJwYXJzZXMgbW9kdWxlIGZvciBsb2NhbCBtb2R1bGUgZm9yIG1vZHVsZSBnZW5lcmF0b3JcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcImxvY2FsLW1vZHVsZVwiLFxuICAgICAgICAgICAgc291cmNlOiBcIi4vZm9vXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH07XG4gICAgICBjb25zdCBwYXJzZWQ6IGFueSA9IHBhcnNlQ29uZmlnKEpTT04uc3RyaW5naWZ5KGlucHV0KSk7XG4gICAgICBleHBlY3QocGFyc2VkLnRlcnJhZm9ybU1vZHVsZXNbMF0ubG9jYWxTb3VyY2UpLnRvTWF0Y2goXG4gICAgICAgIFwiL3BhY2thZ2VzL0BjZGt0Zi9wcm92aWRlci1nZW5lcmF0b3IvZm9vXCJcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyBzdWIgbW9kdWxlIHJlZ2lzdHJ5IHN0cmluZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgdGVycmFmb3JtTW9kdWxlczogW1xuICAgICAgICAgIFwidGVycmFmb3JtLWF3cy1tb2R1bGVzL2lhbS9hd3MvL21vZHVsZXMvaWFtLWFjY291bnRAMy4xMi4wXCIsXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJ0ZXJyYWZvcm0tYXdzLW1vZHVsZXMvaWFtL2F3cy9tb2R1bGVzL2lhbS1hY2NvdW50XCIsXG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcImlhbS1hY2NvdW50XCIsXG4gICAgICAgICAgICAgIFwibmFtZXNwYWNlXCI6IFwidGVycmFmb3JtLWF3cy1tb2R1bGVzL2F3cy9pYW0vbW9kdWxlc1wiLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcInRlcnJhZm9ybS1hd3MtbW9kdWxlcy9pYW0vYXdzLy9tb2R1bGVzL2lhbS1hY2NvdW50XCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiBcIjMuMTIuMFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICBgKTtcbiAgICB9KTtcblxuICAgIGl0KFwidGFrZXMgY29tcGxleCBjb25maWdcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcImN1c3RvbUFXU1ZwY1wiLFxuICAgICAgICAgICAgc291cmNlOlxuICAgICAgICAgICAgICBcImh0dHBzOi8vZ2l0aHViLmNvbS90ZXJyYWZvcm0tYXdzLW1vZHVsZXMvdGVycmFmb3JtLWF3cy12cGNcIixcbiAgICAgICAgICAgIHZlcnNpb246IFwifj4gdjIuMFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJjdXN0b21BV1NWcGNcIixcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY3VzdG9tQVdTVnBjXCIsXG4gICAgICAgICAgICAgIFwibmFtZXNwYWNlXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vdGVycmFmb3JtLWF3cy1tb2R1bGVzL3RlcnJhZm9ybS1hd3MtdnBjXCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiBcIn4+IHYyLjBcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInRha2VzIGNvbXBsZXggYW5kIHN0cmluZyBjb25maWdcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcbiAgICAgICAgICBcInRlcnJhZm9ybS1hd3MtbW9kdWxlcy92cGMvYXdzQDIuMzkuMFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiY3VzdG9tQVdTVnBjXCIsXG4gICAgICAgICAgICBzb3VyY2U6XG4gICAgICAgICAgICAgIFwiaHR0cHM6Ly9naXRodWIuY29tL3RlcnJhZm9ybS1hd3MtbW9kdWxlcy90ZXJyYWZvcm0tYXdzLXZwY1wiLFxuICAgICAgICAgICAgdmVyc2lvbjogXCJ+PiB2Mi4wXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChwYXJzZUNvbmZpZyhKU09OLnN0cmluZ2lmeShpbnB1dCkpKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgICBPYmplY3Qge1xuICAgICAgICAgIFwiY29kZU1ha2VyT3V0cHV0XCI6IFwiLmdlblwiLFxuICAgICAgICAgIFwib3V0cHV0XCI6IFwiY2RrdGYub3V0XCIsXG4gICAgICAgICAgXCJ0ZXJyYWZvcm1Nb2R1bGVzXCI6IEFycmF5IFtcbiAgICAgICAgICAgIFRlcnJhZm9ybU1vZHVsZUNvbnN0cmFpbnQge1xuICAgICAgICAgICAgICBcImZxblwiOiBcInRlcnJhZm9ybS1hd3MtbW9kdWxlcy92cGMvYXdzXCIsXG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcInZwY1wiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiBcInRlcnJhZm9ybS1hd3MtbW9kdWxlcy9hd3NcIixcbiAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJ0ZXJyYWZvcm0tYXdzLW1vZHVsZXMvdnBjL2F3c1wiLFxuICAgICAgICAgICAgICBcInZlcnNpb25cIjogXCIyLjM5LjBcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJjdXN0b21BV1NWcGNcIixcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiY3VzdG9tQVdTVnBjXCIsXG4gICAgICAgICAgICAgIFwibmFtZXNwYWNlXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vdGVycmFmb3JtLWF3cy1tb2R1bGVzL3RlcnJhZm9ybS1hd3MtdnBjXCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiBcIn4+IHYyLjBcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyBsb2NhbCBwYXRoXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0ZXJyYWZvcm1Nb2R1bGVzOiBbXCIuL2NvbnN1bFwiXSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHBhcnNlZDogYW55ID0gcGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKTtcbiAgICAgIGV4cGVjdChwYXJzZWQudGVycmFmb3JtTW9kdWxlc1swXS5sb2NhbFNvdXJjZSkudG9NYXRjaChcbiAgICAgICAgXCIvcGFja2FnZXMvQGNka3RmL3Byb3ZpZGVyLWdlbmVyYXRvci9jb25zdWxcIlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHBhcnNlZC50ZXJyYWZvcm1Nb2R1bGVzWzBdLm5hbWUpLnRvTWF0Y2goXCJjb25zdWxcIik7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyByZWdpc3RyeVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgdGVycmFmb3JtTW9kdWxlczogW1wiaGFzaGljb3JwL2NvbnN1bC9hd3NAMC4xLjBcIl0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJoYXNoaWNvcnAvY29uc3VsL2F3c1wiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjb25zdWxcIixcbiAgICAgICAgICAgICAgXCJuYW1lc3BhY2VcIjogXCJoYXNoaWNvcnAvYXdzXCIsXG4gICAgICAgICAgICAgIFwic291cmNlXCI6IFwiaGFzaGljb3JwL2NvbnN1bC9hd3NcIixcbiAgICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IFwiMC4xLjBcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyBwcml2YXRlIHJlZ2lzdHJ5XCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0ZXJyYWZvcm1Nb2R1bGVzOiBbXG4gICAgICAgICAgXCJhcHAudGVycmFmb3JtLmlvL2V4YW1wbGUtY29ycC9rOHMtY2x1c3Rlci9henVyZXJtQDEuMS4wXCIsXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJhcHAtdGVycmFmb3JtLWlvL2V4YW1wbGUtY29ycC9rOHMtY2x1c3Rlci9henVyZXJtXCIsXG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcIms4cy1jbHVzdGVyXCIsXG4gICAgICAgICAgICAgIFwibmFtZXNwYWNlXCI6IFwiZXhhbXBsZS1jb3JwL2F6dXJlcm1cIixcbiAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJhcHAudGVycmFmb3JtLmlvL2V4YW1wbGUtY29ycC9rOHMtY2x1c3Rlci9henVyZXJtXCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiBcIjEuMS4wXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgIGApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJwYXJzZXMgZ2l0aHViXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0ZXJyYWZvcm1Nb2R1bGVzOiBbXCJnaXRodWIuY29tL2hhc2hpY29ycC9leGFtcGxlXCJdLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHBhcnNlQ29uZmlnKEpTT04uc3RyaW5naWZ5KGlucHV0KSkpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICAgIE9iamVjdCB7XG4gICAgICAgICAgXCJjb2RlTWFrZXJPdXRwdXRcIjogXCIuZ2VuXCIsXG4gICAgICAgICAgXCJvdXRwdXRcIjogXCJjZGt0Zi5vdXRcIixcbiAgICAgICAgICBcInRlcnJhZm9ybU1vZHVsZXNcIjogQXJyYXkgW1xuICAgICAgICAgICAgVGVycmFmb3JtTW9kdWxlQ29uc3RyYWludCB7XG4gICAgICAgICAgICAgIFwiZnFuXCI6IFwiaGFzaGljb3JwL2V4YW1wbGVcIixcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhhbXBsZVwiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiBcImhhc2hpY29ycFwiLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcImdpdGh1Yi5jb20vaGFzaGljb3JwL2V4YW1wbGVcIixcbiAgICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyBnaXRodWIgc3NoXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0ZXJyYWZvcm1Nb2R1bGVzOiBbXCJnaXRAZ2l0aHViLmNvbTpoYXNoaWNvcnAvZXhhbXBsZS5naXRcIl0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJoYXNoaWNvcnAvZXhhbXBsZVwiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJleGFtcGxlXCIsXG4gICAgICAgICAgICAgIFwibmFtZXNwYWNlXCI6IFwiaGFzaGljb3JwXCIsXG4gICAgICAgICAgICAgIFwic291cmNlXCI6IFwiZ2l0QGdpdGh1Yi5jb206aGFzaGljb3JwL2V4YW1wbGUuZ2l0XCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgIGApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJwYXJzZXMgYml0YnVja2V0XCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0ZXJyYWZvcm1Nb2R1bGVzOiBbXCJiaXRidWNrZXQub3JnL2hhc2hpY29ycC90ZXJyYWZvcm0tY29uc3VsLWF3c1wiXSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChwYXJzZUNvbmZpZyhKU09OLnN0cmluZ2lmeShpbnB1dCkpKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgICBPYmplY3Qge1xuICAgICAgICAgIFwiY29kZU1ha2VyT3V0cHV0XCI6IFwiLmdlblwiLFxuICAgICAgICAgIFwib3V0cHV0XCI6IFwiY2RrdGYub3V0XCIsXG4gICAgICAgICAgXCJ0ZXJyYWZvcm1Nb2R1bGVzXCI6IEFycmF5IFtcbiAgICAgICAgICAgIFRlcnJhZm9ybU1vZHVsZUNvbnN0cmFpbnQge1xuICAgICAgICAgICAgICBcImZxblwiOiBcImhhc2hpY29ycC90ZXJyYWZvcm0tY29uc3VsLWF3c1wiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ0ZXJyYWZvcm0tY29uc3VsLWF3c1wiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiBcImhhc2hpY29ycFwiLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcImJpdGJ1Y2tldC5vcmcvaGFzaGljb3JwL3RlcnJhZm9ybS1jb25zdWwtYXdzXCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgIGApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJwYXJzZXMgZ2VuZXJpYyBnaXRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcImdpdDo6aHR0cHM6Ly9leGFtcGxlLmNvbS92cGMuZ2l0XCJdLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHBhcnNlQ29uZmlnKEpTT04uc3RyaW5naWZ5KGlucHV0KSkpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICAgIE9iamVjdCB7XG4gICAgICAgICAgXCJjb2RlTWFrZXJPdXRwdXRcIjogXCIuZ2VuXCIsXG4gICAgICAgICAgXCJvdXRwdXRcIjogXCJjZGt0Zi5vdXRcIixcbiAgICAgICAgICBcInRlcnJhZm9ybU1vZHVsZXNcIjogQXJyYXkgW1xuICAgICAgICAgICAgVGVycmFmb3JtTW9kdWxlQ29uc3RyYWludCB7XG4gICAgICAgICAgICAgIFwiZnFuXCI6IFwidnBjXCIsXG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcInZwY1wiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIFwic291cmNlXCI6IFwiZ2l0OjpodHRwczovL2V4YW1wbGUuY29tL3ZwYy5naXRcIixcbiAgICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyBnaXQgc3NoXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0ZXJyYWZvcm1Nb2R1bGVzOiBbXCJnaXQ6OnNzaDovL3VzZXJuYW1lQGV4YW1wbGUuY29tL3N0b3JhZ2UuZ2l0XCJdLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHBhcnNlQ29uZmlnKEpTT04uc3RyaW5naWZ5KGlucHV0KSkpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICAgIE9iamVjdCB7XG4gICAgICAgICAgXCJjb2RlTWFrZXJPdXRwdXRcIjogXCIuZ2VuXCIsXG4gICAgICAgICAgXCJvdXRwdXRcIjogXCJjZGt0Zi5vdXRcIixcbiAgICAgICAgICBcInRlcnJhZm9ybU1vZHVsZXNcIjogQXJyYXkgW1xuICAgICAgICAgICAgVGVycmFmb3JtTW9kdWxlQ29uc3RyYWludCB7XG4gICAgICAgICAgICAgIFwiZnFuXCI6IFwic3RvcmFnZVwiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzdG9yYWdlXCIsXG4gICAgICAgICAgICAgIFwibmFtZXNwYWNlXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJnaXQ6OnNzaDovL3VzZXJuYW1lQGV4YW1wbGUuY29tL3N0b3JhZ2UuZ2l0XCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgIGApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJwYXJzZXMgcmV2aXNpb25cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcbiAgICAgICAgICBcImdpdDo6aHR0cHM6Ly9leGFtcGxlLmNvbS9pbmZyYS9tYWluLXZwYy5naXQ/cmVmPXYxLjIuMFwiLFxuICAgICAgICBdLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHBhcnNlQ29uZmlnKEpTT04uc3RyaW5naWZ5KGlucHV0KSkpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICAgIE9iamVjdCB7XG4gICAgICAgICAgXCJjb2RlTWFrZXJPdXRwdXRcIjogXCIuZ2VuXCIsXG4gICAgICAgICAgXCJvdXRwdXRcIjogXCJjZGt0Zi5vdXRcIixcbiAgICAgICAgICBcInRlcnJhZm9ybU1vZHVsZXNcIjogQXJyYXkgW1xuICAgICAgICAgICAgVGVycmFmb3JtTW9kdWxlQ29uc3RyYWludCB7XG4gICAgICAgICAgICAgIFwiZnFuXCI6IFwiaW5mcmEvbWFpbi12cGNcIixcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwibWFpbi12cGNcIixcbiAgICAgICAgICAgICAgXCJuYW1lc3BhY2VcIjogXCJpbmZyYVwiLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcImdpdDo6aHR0cHM6Ly9leGFtcGxlLmNvbS9pbmZyYS9tYWluLXZwYy5naXQ/cmVmPXYxLjIuMFwiLFxuICAgICAgICAgICAgICBcInZlcnNpb25cIjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICBgKTtcbiAgICB9KTtcblxuICAgIGl0KFwicGFyc2VzIHNjcFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgdGVycmFmb3JtTW9kdWxlczogW1wiZ2l0Ojp1c2VybmFtZUBleGFtcGxlLmNvbTpzdG9yYWdlLmdpdFwiXSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChwYXJzZUNvbmZpZyhKU09OLnN0cmluZ2lmeShpbnB1dCkpKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgICBPYmplY3Qge1xuICAgICAgICAgIFwiY29kZU1ha2VyT3V0cHV0XCI6IFwiLmdlblwiLFxuICAgICAgICAgIFwib3V0cHV0XCI6IFwiY2RrdGYub3V0XCIsXG4gICAgICAgICAgXCJ0ZXJyYWZvcm1Nb2R1bGVzXCI6IEFycmF5IFtcbiAgICAgICAgICAgIFRlcnJhZm9ybU1vZHVsZUNvbnN0cmFpbnQge1xuICAgICAgICAgICAgICBcImZxblwiOiBcInN0b3JhZ2VcIixcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic3RvcmFnZVwiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIFwic291cmNlXCI6IFwiZ2l0Ojp1c2VybmFtZUBleGFtcGxlLmNvbTpzdG9yYWdlLmdpdFwiLFxuICAgICAgICAgICAgICBcInZlcnNpb25cIjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICBgKTtcbiAgICB9KTtcblxuICAgIGl0KFwicGFyc2VzIG1lcmN1cmlhbFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgdGVycmFmb3JtTW9kdWxlczogW1wiaGc6Omh0dHA6Ly9leGFtcGxlLmNvbS92cGMuaGdcIl0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJ2cGNcIixcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidnBjXCIsXG4gICAgICAgICAgICAgIFwibmFtZXNwYWNlXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJoZzo6aHR0cDovL2V4YW1wbGUuY29tL3ZwYy5oZ1wiLFxuICAgICAgICAgICAgICBcInZlcnNpb25cIjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICBgKTtcbiAgICB9KTtcblxuICAgIGl0KFwicGFyc2VzIGhnIHJldmlzaW9uXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0ZXJyYWZvcm1Nb2R1bGVzOiBbXCJoZzo6aHR0cDovL2V4YW1wbGUuY29tL3ZwYy5oZz9yZWY9djEuMi4wXCJdLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHBhcnNlQ29uZmlnKEpTT04uc3RyaW5naWZ5KGlucHV0KSkpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICAgIE9iamVjdCB7XG4gICAgICAgICAgXCJjb2RlTWFrZXJPdXRwdXRcIjogXCIuZ2VuXCIsXG4gICAgICAgICAgXCJvdXRwdXRcIjogXCJjZGt0Zi5vdXRcIixcbiAgICAgICAgICBcInRlcnJhZm9ybU1vZHVsZXNcIjogQXJyYXkgW1xuICAgICAgICAgICAgVGVycmFmb3JtTW9kdWxlQ29uc3RyYWludCB7XG4gICAgICAgICAgICAgIFwiZnFuXCI6IFwidnBjXCIsXG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcInZwY1wiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIFwic291cmNlXCI6IFwiaGc6Omh0dHA6Ly9leGFtcGxlLmNvbS92cGMuaGc/cmVmPXYxLjIuMFwiLFxuICAgICAgICAgICAgICBcInZlcnNpb25cIjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICBgKTtcbiAgICB9KTtcblxuICAgIGl0KFwicGFyc2VzIGh0dHBcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcImh0dHBzOi8vZXhhbXBsZS5jb20vdnBjLW1vZHVsZS56aXBcIl0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJ2cGMtbW9kdWxlXCIsXG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcInZwYy1tb2R1bGVcIixcbiAgICAgICAgICAgICAgXCJuYW1lc3BhY2VcIjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vdnBjLW1vZHVsZS56aXBcIixcbiAgICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyBhcmNoaXZlIHR5cGVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcImh0dHBzOi8vZXhhbXBsZS5jb20vdnBjLW1vZHVsZT9hcmNoaXZlPXppcFwiXSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChwYXJzZUNvbmZpZyhKU09OLnN0cmluZ2lmeShpbnB1dCkpKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgICBPYmplY3Qge1xuICAgICAgICAgIFwiY29kZU1ha2VyT3V0cHV0XCI6IFwiLmdlblwiLFxuICAgICAgICAgIFwib3V0cHV0XCI6IFwiY2RrdGYub3V0XCIsXG4gICAgICAgICAgXCJ0ZXJyYWZvcm1Nb2R1bGVzXCI6IEFycmF5IFtcbiAgICAgICAgICAgIFRlcnJhZm9ybU1vZHVsZUNvbnN0cmFpbnQge1xuICAgICAgICAgICAgICBcImZxblwiOiBcInZwYy1tb2R1bGVcIixcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidnBjLW1vZHVsZVwiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIFwic291cmNlXCI6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS92cGMtbW9kdWxlP2FyY2hpdmU9emlwXCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgIGApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJwYXJzZXMgczNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcbiAgICAgICAgICBcInMzOjpodHRwczovL3MzLWV1LXdlc3QtMS5hbWF6b25hd3MuY29tL2V4YW1wbGVjb3JwLXRlcnJhZm9ybS1tb2R1bGVzL3ZwYy56aXBcIixcbiAgICAgICAgXSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChwYXJzZUNvbmZpZyhKU09OLnN0cmluZ2lmeShpbnB1dCkpKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgICBPYmplY3Qge1xuICAgICAgICAgIFwiY29kZU1ha2VyT3V0cHV0XCI6IFwiLmdlblwiLFxuICAgICAgICAgIFwib3V0cHV0XCI6IFwiY2RrdGYub3V0XCIsXG4gICAgICAgICAgXCJ0ZXJyYWZvcm1Nb2R1bGVzXCI6IEFycmF5IFtcbiAgICAgICAgICAgIFRlcnJhZm9ybU1vZHVsZUNvbnN0cmFpbnQge1xuICAgICAgICAgICAgICBcImZxblwiOiBcImV4YW1wbGVjb3JwLXRlcnJhZm9ybS1tb2R1bGVzL3ZwY1wiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2cGNcIixcbiAgICAgICAgICAgICAgXCJuYW1lc3BhY2VcIjogXCJleGFtcGxlY29ycC10ZXJyYWZvcm0tbW9kdWxlc1wiLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcInMzOjpodHRwczovL3MzLWV1LXdlc3QtMS5hbWF6b25hd3MuY29tL2V4YW1wbGVjb3JwLXRlcnJhZm9ybS1tb2R1bGVzL3ZwYy56aXBcIixcbiAgICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyBnY3NcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcbiAgICAgICAgICBcImdjczo6aHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vc3RvcmFnZS92MS9tb2R1bGVzL2Zvb21vZHVsZS56aXBcIixcbiAgICAgICAgXSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChwYXJzZUNvbmZpZyhKU09OLnN0cmluZ2lmeShpbnB1dCkpKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgICBPYmplY3Qge1xuICAgICAgICAgIFwiY29kZU1ha2VyT3V0cHV0XCI6IFwiLmdlblwiLFxuICAgICAgICAgIFwib3V0cHV0XCI6IFwiY2RrdGYub3V0XCIsXG4gICAgICAgICAgXCJ0ZXJyYWZvcm1Nb2R1bGVzXCI6IEFycmF5IFtcbiAgICAgICAgICAgIFRlcnJhZm9ybU1vZHVsZUNvbnN0cmFpbnQge1xuICAgICAgICAgICAgICBcImZxblwiOiBcInN0b3JhZ2UvdjEvbW9kdWxlcy9mb29tb2R1bGVcIixcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZm9vbW9kdWxlXCIsXG4gICAgICAgICAgICAgIFwibmFtZXNwYWNlXCI6IFwibW9kdWxlc1wiLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcImdjczo6aHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vc3RvcmFnZS92MS9tb2R1bGVzL2Zvb21vZHVsZS56aXBcIixcbiAgICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyBzdWJtb2R1bGUgcmVnaXN0cnlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcImhhc2hpY29ycC9jb25zdWwvYXdzLy9tb2R1bGVzL2NvbnN1bC1jbHVzdGVyXCJdLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHBhcnNlQ29uZmlnKEpTT04uc3RyaW5naWZ5KGlucHV0KSkpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICAgIE9iamVjdCB7XG4gICAgICAgICAgXCJjb2RlTWFrZXJPdXRwdXRcIjogXCIuZ2VuXCIsXG4gICAgICAgICAgXCJvdXRwdXRcIjogXCJjZGt0Zi5vdXRcIixcbiAgICAgICAgICBcInRlcnJhZm9ybU1vZHVsZXNcIjogQXJyYXkgW1xuICAgICAgICAgICAgVGVycmFmb3JtTW9kdWxlQ29uc3RyYWludCB7XG4gICAgICAgICAgICAgIFwiZnFuXCI6IFwiaGFzaGljb3JwL2NvbnN1bC9hd3MvbW9kdWxlcy9jb25zdWwtY2x1c3RlclwiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJjb25zdWwtY2x1c3RlclwiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiBcImhhc2hpY29ycC9hd3MvY29uc3VsL21vZHVsZXNcIixcbiAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJoYXNoaWNvcnAvY29uc3VsL2F3cy8vbW9kdWxlcy9jb25zdWwtY2x1c3RlclwiLFxuICAgICAgICAgICAgICBcInZlcnNpb25cIjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICBgKTtcbiAgICB9KTtcblxuICAgIGl0KFwicGFyc2VzIHN1Ym1vZHVsZSBnaXRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcImdpdDo6aHR0cHM6Ly9leGFtcGxlLmNvbS9uZXR3b3JrLmdpdC8vbW9kdWxlcy92cGNcIl0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJuZXR3b3JrL21vZHVsZXMvdnBjXCIsXG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcInZwY1wiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiBcIm5ldHdvcmsvbW9kdWxlc1wiLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcImdpdDo6aHR0cHM6Ly9leGFtcGxlLmNvbS9uZXR3b3JrLmdpdC8vbW9kdWxlcy92cGNcIixcbiAgICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInBhcnNlcyBzdWJtb2R1bGUgaHR0cFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgdGVycmFmb3JtTW9kdWxlczogW1xuICAgICAgICAgIFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9uZXR3b3JrLW1vZHVsZS56aXAvL21vZHVsZXMvdnBjXCIsXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJuZXR3b3JrLW1vZHVsZS9tb2R1bGVzL3ZwY1wiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2cGNcIixcbiAgICAgICAgICAgICAgXCJuYW1lc3BhY2VcIjogXCJuZXR3b3JrLW1vZHVsZS9tb2R1bGVzXCIsXG4gICAgICAgICAgICAgIFwic291cmNlXCI6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9uZXR3b3JrLW1vZHVsZS56aXAvL21vZHVsZXMvdnBjXCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgIGApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJwYXJzZXMgc3VibW9kdWxlIHMzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICB0ZXJyYWZvcm1Nb2R1bGVzOiBbXG4gICAgICAgICAgXCJzMzo6aHR0cHM6Ly9zMy1ldS13ZXN0LTEuYW1hem9uYXdzLmNvbS9leGFtcGxlY29ycC10ZXJyYWZvcm0tbW9kdWxlcy9uZXR3b3JrLnppcC8vbW9kdWxlcy92cGNcIixcbiAgICAgICAgXSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChwYXJzZUNvbmZpZyhKU09OLnN0cmluZ2lmeShpbnB1dCkpKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgICBPYmplY3Qge1xuICAgICAgICAgIFwiY29kZU1ha2VyT3V0cHV0XCI6IFwiLmdlblwiLFxuICAgICAgICAgIFwib3V0cHV0XCI6IFwiY2RrdGYub3V0XCIsXG4gICAgICAgICAgXCJ0ZXJyYWZvcm1Nb2R1bGVzXCI6IEFycmF5IFtcbiAgICAgICAgICAgIFRlcnJhZm9ybU1vZHVsZUNvbnN0cmFpbnQge1xuICAgICAgICAgICAgICBcImZxblwiOiBcImV4YW1wbGVjb3JwLXRlcnJhZm9ybS1tb2R1bGVzL25ldHdvcmsvbW9kdWxlcy92cGNcIixcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidnBjXCIsXG4gICAgICAgICAgICAgIFwibmFtZXNwYWNlXCI6IFwiZXhhbXBsZWNvcnAtdGVycmFmb3JtLW1vZHVsZXMvbmV0d29yay9tb2R1bGVzXCIsXG4gICAgICAgICAgICAgIFwic291cmNlXCI6IFwiczM6Omh0dHBzOi8vczMtZXUtd2VzdC0xLmFtYXpvbmF3cy5jb20vZXhhbXBsZWNvcnAtdGVycmFmb3JtLW1vZHVsZXMvbmV0d29yay56aXAvL21vZHVsZXMvdnBjXCIsXG4gICAgICAgICAgICAgIFwidmVyc2lvblwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgIGApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJwYXJzZXMgc3VibW9kdWxlIHJlZlwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgdGVycmFmb3JtTW9kdWxlczogW1xuICAgICAgICAgIFwiZ2l0OjpodHRwczovL2V4YW1wbGUuY29tL25ldHdvcmsuZ2l0Ly9tb2R1bGVzL3ZwYz9yZWY9djEuMi4wXCIsXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QocGFyc2VDb25maWcoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgICAgT2JqZWN0IHtcbiAgICAgICAgICBcImNvZGVNYWtlck91dHB1dFwiOiBcIi5nZW5cIixcbiAgICAgICAgICBcIm91dHB1dFwiOiBcImNka3RmLm91dFwiLFxuICAgICAgICAgIFwidGVycmFmb3JtTW9kdWxlc1wiOiBBcnJheSBbXG4gICAgICAgICAgICBUZXJyYWZvcm1Nb2R1bGVDb25zdHJhaW50IHtcbiAgICAgICAgICAgICAgXCJmcW5cIjogXCJuZXR3b3JrL21vZHVsZXMvdnBjXCIsXG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcInZwY1wiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiBcIm5ldHdvcmsvbW9kdWxlc1wiLFxuICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcImdpdDo6aHR0cHM6Ly9leGFtcGxlLmNvbS9uZXR3b3JrLmdpdC8vbW9kdWxlcy92cGM/cmVmPXYxLjIuMFwiLFxuICAgICAgICAgICAgICBcInZlcnNpb25cIjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICBgKTtcbiAgICB9KTtcblxuICAgIGl0KFwicGFyc2VzIHJlZiB3aXRoIC9cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICAgIHRlcnJhZm9ybU1vZHVsZXM6IFtcbiAgICAgICAgICBcImdpdDo6aHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkcG9zc2UvdGVycmFmb3JtLW51bGwtbGFiZWwuZ2l0P3JlZj10YWdzLzAuMTQuMVwiLFxuICAgICAgICBdLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHBhcnNlQ29uZmlnKEpTT04uc3RyaW5naWZ5KGlucHV0KSkpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICAgIE9iamVjdCB7XG4gICAgICAgICAgXCJjb2RlTWFrZXJPdXRwdXRcIjogXCIuZ2VuXCIsXG4gICAgICAgICAgXCJvdXRwdXRcIjogXCJjZGt0Zi5vdXRcIixcbiAgICAgICAgICBcInRlcnJhZm9ybU1vZHVsZXNcIjogQXJyYXkgW1xuICAgICAgICAgICAgVGVycmFmb3JtTW9kdWxlQ29uc3RyYWludCB7XG4gICAgICAgICAgICAgIFwiZnFuXCI6IFwiY2xvdWRwb3NzZS90ZXJyYWZvcm0tbnVsbC1sYWJlbFwiLFxuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ0ZXJyYWZvcm0tbnVsbC1sYWJlbFwiLFxuICAgICAgICAgICAgICBcIm5hbWVzcGFjZVwiOiBcImNsb3VkcG9zc2VcIixcbiAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJnaXQ6Omh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZHBvc3NlL3RlcnJhZm9ybS1udWxsLWxhYmVsLmdpdD9yZWY9dGFncy8wLjE0LjFcIixcbiAgICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgYCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=